<div class="container-fluid dashboard h-100" fxLayoutAlign="start start" id="travel-starthealth">
  <div class="row" fxLayoutAlign="center start">

    <div class="col-md-8 col-sm-12 col-xs-12 " id="product-list">
      <table class="table health-table" >
        <thead>
        <tr>
          <th>INSURER</th>
          <th>SUM INSURED</th>
          <th>KEY FEATURES</th>
          <th>PREMIUM</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td>
            <!--<p class="color-green">{{plists.product_name | titlecase}}</p>-->
            <img  src="{{webhost + '/' + premiumLists.company_logo}}" alt="">
          </td>
          <td>
            <p>{{premiumLists.suminsured_amount | currency: 'INR'}}</p>
          </td>
          <td style="width: 40%">
            <!--<div class="row" fxLayoutAlign="left center" *ngFor="let keys of plists.key_features">-->
              <!--<div class="col-md-5">-->
                <!--<li *ngIf="keys.key_features_name !='Room Rent'">{{keys.key_features_name}}</li>-->
              <!--</div>-->
              <!--<div class="col-md-1">-->
                <!--<span *ngIf="keys.key_features_name !='Room Rent'">:</span>-->
              <!--</div>-->
              <!--<div class="col-md-6">-->
                <!--&lt;!&ndash;<a style="color: #777272f0" *ngIf="keys.key_features_value == ''">-</a>&ndash;&gt;-->
                <!--<a *ngIf="keys.key_features_name !='Room Rent'" style="color: #777272f0">{{keys.key_features_value}}</a>-->
              <!--</div>-->
            <!--</div>-->
            <div class="text-right mt-4">
              <p class="linkClor" style="cursor: pointer" (click)="viewKeyList()"><strong>Policy Details / Product Documents</strong></p>
            </div>
          </td>
          <td>
            <p><button mat-raised-button color="accent" (click)="booking(premiumLists)">{{premiumLists.total_premium | currency: 'INR'}}</button></p>
          </td>
        </tr>

        </tbody>
      </table>

    </div>
    <div id="start-travel" class="col-md-4 col-sm-12 col-xs-12">
      <mat-tab-group #tabGroup  (selectedIndexChange)="onSelectedIndexChange($event)" class="travel-box">
        <mat-tab>
          <ng-template mat-tab-label>
            <mat-icon class="example-tab-icon">person</mat-icon>
            Family/Self
          </ng-template>
          <!--<div mat-dialog-content >-->
          <div class="travel">
            <mat-form-field class="w-100">
              <mat-select placeholder="SUM INSURED (USD-$)" [(ngModel)]="selectedAmount" name="suminsure"  required>
                <mat-option *ngFor="let amounts of sumInsuredAmountLists" [value]="amounts.suminsured_id">
                  {{amounts.suminsured_amount}}
                </mat-option>
              </mat-select>
            </mat-form-field>
            <div *ngIf="sumerror" class="ngError">Required</div>
            <div class="w-100 mb-2" *ngIf="showSelf">
              <div class="row" fxLayoutAlign="start center">
                <div class="col-md-6" *ngFor="let item of selfArray; let i = index; let last = last">
                  <div class="row" fxLayoutAlign="start center">
                    <div class="col-md-1">
                      <mat-checkbox [(ngModel)]="item.checked" (change)="ckeckedUser(i, item.checked, item.name)">
                      </mat-checkbox>
                    </div>
                    <div class="col-md-4"><span class="text-left">{{item.name}}</span></div>
                    <div class="col-md-6">
                      <mat-form-field class="w-100 text-left">
                        <input matInput placeholder="Age" required [(ngModel)]="item.age" name="age" maxlength="3" (keypress)="numberOnly($event)" (keyup)="typeAge(item.checked, i, item.age)" [required]="item.required">
                      </mat-form-field>
                      <div *ngIf="item.error != ''" class="ngError">Required</div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="text-right">
                <button mat-raised-button color="primary" [matMenuTriggerFor]="menu" [disabled]="Child3BTn == false && FatherBTn == false && MotherBTn == false"><i class="material-icons">add_circle_outline</i> Add</button>
                <mat-menu #menu="matMenu">
                  <button mat-menu-item (click)="addFamily('Child3')" *ngIf="Child3BTn">Child3</button>
                  <button mat-menu-item (click)="addFamily('Father')" *ngIf="FatherBTn">Father</button>
                  <button mat-menu-item (click)="addFamily('Mother')" *ngIf="MotherBTn">Mother</button>
                </mat-menu>
              </div>
            </div>
            <div *ngIf="showSelf">
              <div class="row mt-2" >
                <div class="col-md-6">
                  <mat-form-field color="accent" class="w-100">
                    <mat-label>Trip Start Date</mat-label>
                    <input matInput [matDatepicker]="picker1" placeholder="Start date(DD/MM/YYYY)" [min]="today"  [(ngModel)]="startDate" (dateInput)="chooseDate($event, 'sDate')"  (dateChange)="chooseDate($event, 'sDate')">
                    <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                    <mat-datepicker #picker1></mat-datepicker>
                  </mat-form-field>
                  <div class="error" *ngIf="startDateError != ''">{{startDateError}}</div>
                </div>
                <div class="col-md-6">
                  <mat-form-field color="accent" class="w-100">
                    <mat-label>Trip End Date</mat-label>
                    <input matInput [matDatepicker]="picker2" placeholder="End date(DD/MM/YYYY)" [(ngModel)]="endDate" [min]="maxDate" (dateInput)="chooseDate($event, 'eDate')"  (dateChange)="chooseDate($event, 'eDate')">
                    <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                    <mat-datepicker #picker2 color="primary"></mat-datepicker>
                  </mat-form-field>
                  <div class="error" *ngIf="endDateError != ''">{{endDateError}}</div>
                </div>
              </div>
              <div class="row mt-2">
                <div class="col-md-6">
                  <mat-form-field class="w-100">
                    <mat-select placeholder="Travel plans" [(ngModel)]="travelPlan">
                      <mat-option value="1">
                        Include USA and/or Canada
                      </mat-option>
                      <mat-option value="2">
                        Exclude USA and/or Canada
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field class="w-100">
                    <mat-select placeholder="Types of Travel" [(ngModel)]="travelType">
                      <mat-option value="1">
                        Business
                      </mat-option>
                      <mat-option value="2">
                        Holiday
                      </mat-option>
                      <mat-option value="3">
                        Multiple trips in a year
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
              <div *ngIf="travelType == '3'">
                <mat-radio-group class="w-100" [(ngModel)]="duration" >
                  <div class="row">
                    <div class="col-md-5">
                      <mat-label>Max trip Duraion (in days) </mat-label>
                    </div>
                    <div class="col-md-1">
                      :
                    </div>
                    <div class="col-md-6">
                      <mat-radio-button value="30">30</mat-radio-button>
                      <mat-radio-button value="45">45</mat-radio-button>
                      <mat-radio-button value="60">60</mat-radio-button>
                      <mat-radio-button value="90">90</mat-radio-button>
                    </div>
                  </div>
                </mat-radio-group>
              </div><br>
              <mat-radio-group class="w-100" [(ngModel)]="medicalCondition">
                <div class="row">
                  <div class="col-md-5">
                    <mat-label>Any medical conditions?</mat-label>
                  </div>
                  <div class="col-md-7">
                    <mat-radio-button value="1">Yes</mat-radio-button>
                    <mat-radio-button value="0">No</mat-radio-button>
                  </div>
                </div>
              </mat-radio-group>
              <div *ngIf="medicalerror" class="ngError">Required</div>

              <div fxLayoutAlign="center center" class="mt-3">
                <!--<button mat-raised-button color="accent" type="button" class="ml-2" (click)="refresh()">Reset <i class="material-icons">refresh</i></button>&nbsp;&nbsp;-->
                <button mat-raised-button color="accent" class="btn-color" type="button" (click)="submit('self')">Proceed <i class="fa fa-arrow-right"></i></button>
              </div>

            </div>

          </div>
        </mat-tab>
        <mat-tab >
          <ng-template mat-tab-label>
            <mat-icon class="example-tab-icon">group_add</mat-icon>
            Group/Friends
          </ng-template>
          <div class="travel">
            <mat-form-field class="w-100">
              <mat-select placeholder="SUM INSURED (USD-$)" [(ngModel)]="selectedAmount" name="suminsure" required>
                <mat-option *ngFor="let amounts of sumInsuredAmountLists" [value]="amounts.suminsured_id">
                  {{amounts.suminsured_amount}}
                </mat-option>
              </mat-select>
            </mat-form-field>
            <div *ngIf="sumerror" class="ngError">Required</div>
            <div class="w-100 mb-2" *ngIf="showGroup">
              <div class="row" fxLayoutAlign="start center">
                <div class="col-md-6" *ngFor="let item of familyArray; let i = index; let last = last">
                  <div class="row" fxLayoutAlign="start center">
                    <div class="col-md-1">
                      <mat-checkbox [(ngModel)]="item.checked" (change)="ckeckedUser(i, item.checked, item.name)">
                      </mat-checkbox>
                    </div>
                    <div class="col-md-4"><span class="text-left">{{item.name}}</span></div>
                    <div class="col-md-6">
                      <mat-form-field class="w-100 text-left">
                        <input matInput placeholder="Age" required [(ngModel)]="item.age" name="age" maxlength="3" (keypress)="numberOnly($event)" (keyup)="typeAge(item.checked, i, item.age)" [required]="item.required">
                      </mat-form-field>
                      <div *ngIf="item.error != ''" class="ngError">Required</div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="text-right">
                <button mat-raised-button color="primary" type="button" [matMenuTriggerFor]="menu1" [disabled]="!Member5BTn && !Member6BTn && !Member7BTn && !Member8BTn" ><i class="material-icons">add_circle_outline</i> Add Member</button>
                <mat-menu #menu1="matMenu">
                  <button mat-menu-item (click)="addFamilyMembers('Member5')" *ngIf="Member5BTn">Member5</button>
                  <button mat-menu-item (click)="addFamilyMembers('Member6')" *ngIf="Member6BTn">Member6</button>
                  <button mat-menu-item (click)="addFamilyMembers('Member7')" *ngIf="Member7BTn">Member7</button>
                  <button mat-menu-item (click)="addFamilyMembers('Member8')" *ngIf="Member8BTn">Member8</button>
                </mat-menu>
              </div>
            </div>
            <div *ngIf="showGroup">
              <div class="row mt-2" >
                <div class="col-md-6">
                  <mat-form-field color="accent" class="w-100">
                    <mat-label>Trip Start Date</mat-label>
                    <input matInput [matDatepicker]="picker1" placeholder="Start date(DD/MM/YYYY)" [min]="today"  [(ngModel)]="startDate" (dateInput)="chooseDate($event, 'sDate')"  (dateChange)="chooseDate($event, 'sDate')">
                    <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                    <mat-datepicker #picker1></mat-datepicker>
                  </mat-form-field>
                  <div class="error" *ngIf="startDateError != ''">{{startDateError}}</div>
                </div>
                <div class="col-md-6">
                  <mat-form-field color="accent" class="w-100">
                    <mat-label>Trip End Date</mat-label>
                    <input matInput [matDatepicker]="picker2" placeholder="End date(DD/MM/YYYY)" [(ngModel)]="endDate" [min]="maxDate" (dateInput)="chooseDate($event, 'eDate')"  (dateChange)="chooseDate($event, 'eDate')">
                    <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                    <mat-datepicker #picker2 color="primary"></mat-datepicker>
                  </mat-form-field>
                  <div class="error" *ngIf="endDateError != ''">{{endDateError}}</div>
                </div>
              </div>

              <div class="row mt-2">
                <div class="col-md-6">
                  <mat-form-field class="w-100">
                    <mat-select placeholder="Travel plans" [(ngModel)]="travelPlan">
                      <mat-option value="1">
                        Include USA and/or Canada
                      </mat-option>
                      <mat-option value="2">
                        Exclude USA and/or Canada
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field class="w-100">
                    <mat-select placeholder="Types of Travel" [(ngModel)]="travelType">
                      <mat-option value="1">
                        Business
                      </mat-option>
                      <mat-option value="2">
                        Holiday
                      </mat-option>
                      <mat-option value="3">
                        Multiple trips in a year
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
              <div *ngIf="travelType == '3'">
                <mat-radio-group class="w-100" [(ngModel)]="duration" >
                  <div class="row">
                    <div class="col-md-5">
                      <mat-label>Max trip Duraion (in days) </mat-label>
                    </div>
                    <div class="col-md-1">
                      :
                    </div>
                    <div class="col-md-6">
                      <mat-radio-button value="30">30</mat-radio-button>
                      <mat-radio-button value="45">45</mat-radio-button>
                      <mat-radio-button value="60">60</mat-radio-button>
                      <mat-radio-button value="90">90</mat-radio-button>
                    </div>
                  </div>
                </mat-radio-group>
              </div><br>
              <mat-radio-group class="w-100" [(ngModel)]="medicalCondition">
                <div class="row">
                  <div class="col-md-5">
                    <mat-label>Any medical conditions?</mat-label>
                  </div>
                  <div class="col-md-7">
                    <mat-radio-button value="1">Yes</mat-radio-button>
                    <mat-radio-button value="0">No</mat-radio-button>
                  </div>
                </div>

              </mat-radio-group>
              <div *ngIf="medicalerror" class="ngError">Required</div>

              <div fxLayoutAlign="center center" class="mt-3">
                <!--<button mat-raised-button color="accent" type="button" class="ml-2" (click)="refresh()">Reset <i class="material-icons">refresh</i></button>&nbsp;&nbsp;-->
                <button mat-raised-button color="accent" class="btn-color" type="button" (click)="submit('family')">Proceed <i class="fa fa-arrow-right"></i></button>
              </div>
            </div>
          </div>
        </mat-tab>

        <mat-tab >
          <ng-template mat-tab-label>
            <mat-icon class="example-tab-icon">school</mat-icon>
            Student
          </ng-template>
          <div class="travel">
            <mat-form-field class="w-100">
              <mat-select placeholder="SUM INSURED (USD-$)" [(ngModel)]="selectedAmount" name="suminsure" required>
                <mat-option *ngFor="let amounts of sumInsuredAmountLists" [value]="amounts.suminsured_id">
                  {{amounts.suminsured_amount}}
                </mat-option>
              </mat-select>
            </mat-form-field>
            <div *ngIf="sumerror" class="ngError">Required</div>
            <div class="w-100 mb-2 travel" *ngIf="showstudent">
              <div class="row" fxLayoutAlign="start center">
                <div class="col-md-6" *ngFor="let item of studentArray; let i = index; let last = last">
                  <div class="row" fxLayoutAlign="start center">
                    <div class="col-md-1">
                      <mat-checkbox [(ngModel)]="item.checked" (change)="ckeckedUser(i, item.checked, item.name)">
                      </mat-checkbox>
                    </div>
                    <div class="col-md-4"><span class="text-left">{{item.name}}</span></div>
                    <div class="col-md-6">
                      <mat-form-field class="w-100 text-left">
                        <input matInput placeholder="Age" required [(ngModel)]="item.age" name="age" maxlength="3" (keypress)="numberOnly($event)" (keyup)="typeAge(item.checked, i, item.age)" [required]="item.required">
                      </mat-form-field>
                      <div *ngIf="item.error != ''" class="ngError">Required</div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="text-right">
                <button mat-raised-button color="primary" type="button" [matMenuTriggerFor]="menu2" [disabled]="!Student5BTn && !Student6BTn && !Student7BTn && !Student8BTn"><i class="material-icons">add_circle_outline</i> Add Student</button>
                <mat-menu #menu2="matMenu">
                  <button mat-menu-item (click)="addStudents('Student5')" *ngIf="Student5BTn">Student5</button>
                  <button mat-menu-item (click)="addStudents('Student6')" *ngIf="Student6BTn">Student6</button>
                  <button mat-menu-item (click)="addStudents('Student7')" *ngIf="Student7BTn">Student7</button>
                  <button mat-menu-item (click)="addStudents('Student8')" *ngIf="Student8BTn">Student8</button>
                </mat-menu>
              </div>


            </div>
            <div *ngIf="showstudent">
              <div class="row mt-2" >
                <div class="col-md-6">
                  <mat-form-field color="accent" class="w-100">
                    <mat-label>Trip Start Date</mat-label>
                    <input matInput [matDatepicker]="picker1" placeholder="Start date(DD/MM/YYYY)" [min]="today"  [(ngModel)]="startDate" (dateInput)="chooseDate($event, 'sDate')"  (dateChange)="chooseDate($event, 'sDate')">
                    <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                    <mat-datepicker #picker1></mat-datepicker>
                  </mat-form-field>
                  <div class="error" *ngIf="startDateError != ''">{{startDateError}}</div>
                </div>
                <div class="col-md-6">
                  <mat-form-field color="accent" class="w-100">
                    <mat-label>Trip End Date</mat-label>
                    <input matInput [matDatepicker]="picker2" placeholder="End date(DD/MM/YYYY)" [(ngModel)]="endDate" [min]="maxDate" (dateInput)="chooseDate($event, 'eDate')"  (dateChange)="chooseDate($event, 'eDate')">
                    <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                    <mat-datepicker #picker2 color="primary"></mat-datepicker>
                  </mat-form-field>
                  <div class="error" *ngIf="endDateError != ''">{{endDateError}}</div>
                </div>
              </div>

              <div class="row mt-2">
                <div class="col-md-12">
                  <mat-form-field class="w-100">
                    <mat-select placeholder="Travel plans" [(ngModel)]="travelPlan">
                      <mat-option value="1">
                        Include USA and/or Canada
                      </mat-option>
                      <mat-option value="2">
                        Exclude USA and/or Canada
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
              <mat-radio-group class="w-100" [(ngModel)]="medicalCondition">
                <div class="row">
                  <div class="col-md-5">
                    <mat-label>Any medical conditions?</mat-label>
                  </div>
                  <div class="col-md-7">
                    <mat-radio-button value="1">Yes</mat-radio-button>
                    <mat-radio-button value="0">No</mat-radio-button>
                  </div>
                </div>
              </mat-radio-group>
              <div *ngIf="medicalerror" class="ngError">Required</div>

              <div fxLayoutAlign="center center" class="mt-3">
                <!--<button mat-raised-button color="accent" type="button" class="ml-2" (click)="refresh()">Reset <i class="material-icons">refresh</i></button>&nbsp;&nbsp;-->
                <button mat-raised-button color="accent" class="btn-color" type="button" (click)="submit('students')">Proceed <i class="fa fa-arrow-right"></i></button>
              </div>

            </div>
          </div>
        </mat-tab>
      </mat-tab-group>
      <!--</div>-->
      <!--</div>-->
      <!--</div>-->
    </div>


  </div>
</div>