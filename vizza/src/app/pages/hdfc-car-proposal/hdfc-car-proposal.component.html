<section>
  <div class="container-fluid">
    <div class="row apolloMunichProposal mb-4">
      <div class="col-md-12">
        <mat-horizontal-stepper #stepper [selectedIndex]="currentStep">
          <mat-step [stepControl]="">
            <ng-template matStepLabel>PROPOSER DETAILS</ng-template>
            <mat-accordion class="w-100 float-left">
              <form [formGroup]="proposer">
                <mat-expansion-panel expanded>
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      PROPOSER DETAILS
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div class="row ">
                    <div class="col-md-12 box-card pt-3">
                      <div class="row">
                        <div class="col-md-3 mt-3">
                          <mat-form-field class="w-100">
                            <mat-select placeholder="Title" formControlName="title" (selectionChange)="ChangeGender()" required >
                              <mat-option value="Mr">Mr</mat-option>
                              <mat-option value="Ms">Ms</mat-option>
                              <mat-option value="Mrs">Mrs</mat-option>
                            </mat-select>
                            <mat-error *ngIf="proposer.controls.title.errors?.required">Title is required</mat-error>
                          </mat-form-field>
                        </div>
                        <div class="col-md-3 mt-3">
                          <mat-form-field class="w-100">
                            <input matInput placeholder="First Name" formControlName="firstName" maxlength="20" (keypress)="nameValidate($event)" autocomplete="off" required >
                            <mat-error *ngIf="proposer.controls.firstName.errors?.required">First Name is required</mat-error>
                          </mat-form-field>
                        </div>
                        <div class="col-md-3 mt-3">
                          <mat-form-field class="w-100">
                            <input matInput placeholder="Middle Name" formControlName="middleName" maxlength="20" (keypress)="nameValidate($event)" >
                          </mat-form-field>
                        </div>
                        <div class="col-md-3 mt-3">
                          <mat-form-field class="w-100">
                            <input matInput placeholder="Last Name" formControlName="lastName" maxlength="20" (keypress)="nameValidate($event)" required>
                            <mat-error *ngIf="proposer.controls.lastName.errors?.required">last Name is required</mat-error>
                          </mat-form-field>
                        </div>
                        <div class="col-md-3 mt-3">
                          <mat-form-field class="w-100">
                            <mat-select placeholder="Gender" formControlName="gender" required >
                              <mat-option value="MALE">Male</mat-option>
                              <mat-option value="FEMALE">Female</mat-option>
                            </mat-select>
                            <mat-error *ngIf="proposer.controls.gender.errors?.required">Gender is required</mat-error>
                          </mat-form-field>
                        </div>
                        <div class="col-md-3 mt-3">
                          <mat-form-field class="w-100">
                            <input matInput [matDatepicker]="picker" [max]="today" placeholder="DOB (DD/MM/YYYY)"   formControlName="dob" (dateInput)="addEvent($event,'proposor')" (dateChange)="addEvent($event,'proposor')" (keypress)="dobValidate($event)"  minlength="10"  maxlength="10"   autocomplete="off"  required >
                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
                            <mat-error *ngIf="proposer.controls.dob.errors?.required">DOB is required</mat-error>
                          </mat-form-field>
                          <div class="error" *ngIf="personalDobError != ''">{{personalDobError}}</div>
                        </div>
                        <div class="col-md-3 mt-3"><mat-form-field class="w-100">
                          <input matInput placeholder="Email ID"   formControlName="email" maxlength="40"  autocomplete="off" required>
                          <mat-error *ngIf="proposer.controls.email.errors?.required">Email ID is required</mat-error>
                          <mat-error *ngIf="proposer.controls.email.hasError('pattern')">Please Enter Correct Format</mat-error>
                        </mat-form-field>
                        </div>

                        <div class="col-md-3 mt-3">
                          <mat-form-field class="w-100">
                            <input matInput placeholder="Mobile Number"  (keypress)="numberValidate($event)"   maxlength="10" formControlName="mobile" autocomplete="off" required>
                            <mat-error *ngIf="proposer.controls.mobile.errors?.required">Mobile Number is required</mat-error>
                            <mat-error *ngIf="proposer.controls.mobile.hasError('pattern')">Enter Valid  Mobile Number</mat-error>
                          </mat-form-field>
                        </div>
                          <div class="col-md-3 mt-3">
                              <mat-form-field class="w-100">
                                  <input matInput placeholder="Telephone Number"  (keypress)="teleValidate($event)"  (input)="alternatecontact($event.target.value,$event)"  maxlength="11" formControlName="alternateContact" pattern="[0-9-]*" autocomplete="off">
                                  <mat-hint font-size="10px" >Format of the Telephone number should be 044-1234567</mat-hint>
                                  <mat-error *ngIf="proposer.controls.alternateContact.hasError('pattern')">Enter valid Telephone Number</mat-error>

                              </mat-form-field>
                              <div class="error mt-1"  *ngIf="altererror != ''">{{altererror}}</div>
                          </div>
                        <div class="col-md-3 mt-3">
                          <mat-form-field class="w-100">
                            <input matInput placeholder="GST Number"  minlength="15"  maxlength="15"  class="text-uppercase" formControlName="gstNumber" (keypress)="idValidate($event)" pattern="^([0-9]){2}([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}([0-9]){1}([a-zA-Z]){1}([a-zA-Z0-9]){1}?$"  autocomplete="off" >
                            <!--<mat-error *ngIf="proposer.controls.gstNumber.hasError('minlength')">GST Number isn't long enough, minimum of 15 characters</mat-error>-->
                            <!--<mat-error *ngIf="proposer.controls.gstNumber.hasError('pattern')">Enter Valid GST Number</mat-error>-->
                          </mat-form-field>
                        </div>
                        <div class="col-md-3 mt-3">
                          <mat-form-field class="w-100">
                            <input matInput placeholder="PAN Number" formControlName="personalPan" minlength="10" class="text-uppercase" (keypress)="idValidate($event)" maxlength="10" pattern="^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$" autocomplete="off" required>
                            <mat-error *ngIf="proposer.controls.personalPan.hasError('minlength')">PAN Number isn't long enough, minimum of 10 characters</mat-error>
                            <mat-error *ngIf="proposer.controls.personalPan.hasError('pattern')"> Enter Valid PAN Number </mat-error>
                            <mat-error *ngIf="proposer.controls.personalPan.errors?.required"> Enter Valid PAN Number </mat-error>
                          </mat-form-field>
                        </div>
                        <!--<div class="col-md-3 mt-3">-->
                          <!--<mat-form-field class="w-100">-->
                            <!--<input matInput placeholder="Unique Id Number"  (keypress)="nameValidate($event)"   maxlength="10" formControlName="uniqueid" autocomplete="off">-->
                          <!--</mat-form-field>-->
                        <!--</div>-->
                        <!--<div class="col-md-3 mt-3">-->
                          <!--<mat-form-field class="w-100">-->
                            <!--<input matInput placeholder="Lg Code"  (keypress)="nameValidate($event)"   maxlength="10" formControlName="Lgcode" autocomplete="off">-->
                          <!--</mat-form-field>-->
                        <!--</div>-->
                          <div class="row" fxLayoutAlign="center center">
                              <div class="col-md-6">
                                  <div class="box-card addressBox">
                                      <h6 class="color-blue">COMMUNICATION ADDRESS</h6>
                                      <div class="row">
                                          <div class="col-md-12">
                                              <mat-form-field class="w-100">
                                                  <input matInput placeholder="Address 1" rows="2" formControlName="address4" (keyup)="typeAddressDeatils()" autocomplete="off" maxlength="30" required>
                                                  <mat-error *ngIf="proposer.controls.address.errors?.required">Address is required</mat-error>
                                              </mat-form-field>
                                          </div>
                                          <div class="col-md-12">
                                              <mat-form-field class="w-100">
                                                  <input matInput placeholder="Address 2" rows="2" formControlName="address5" (keyup)="typeAddressDeatils()" maxlength="30"   autocomplete="off" required>
                                                  <mat-error *ngIf="proposer.controls.address2.errors?.required">Address2 is required</mat-error>
                                              </mat-form-field>
                                          </div>
                                          <div class="col-md-12">
                                              <mat-form-field class="w-100">
                                                  <input matInput placeholder="Address 3" rows="2" formControlName="address6" (keyup)="typeAddressDeatils()" maxlength="30"  autocomplete="off">
                                              </mat-form-field>
                                          </div>
                                          <div class="col-md-6">
                                              <mat-form-field class="w-100">
                                                  <input matInput placeholder="PIN Code"  (keypress)="numberValidate($event)" pattern="[1-9][0-9]{5}" (keyup)="typeAddressDeatils()" minlength="6" maxlength="6" formControlName="pincode1"  (input)="getPostalCode($event.target.value,'comm')" autocomplete="off" required>
                                                  <mat-error *ngIf="proposer.controls.pincode.hasError('minlength')">Pin should be 6 digits</mat-error>
                                                  <mat-error *ngIf="proposer.controls.pincode.hasError('required')">Pincode required</mat-error>
                                                  <mat-error *ngIf="proposer.controls.pincode.hasError('pattern')">Enter Valid  Pin</mat-error>
                                              </mat-form-field>
                                          </div>
                                          <div class="col-md-6">
                                              <mat-form-field class="w-100">
                                                  <input matInput placeholder="State" formControlName="statecom" (keyup)="typeAddressDeatils()" autocomplete="off"  required >
                                                  <mat-error *ngIf="proposer.controls.statecom.errors?.required">State is required</mat-error>
                                              </mat-form-field>
                                          </div>
                                          <!--<div class="col-md-6">-->
                                          <!--<mat-form-field class="w-100">-->
                                          <!--<input matInput placeholder="City" formControlName="citycom"  autocomplete="off"  required>-->
                                          <!--<mat-error *ngIf="proposer.controls.citycom.errors?.required">City is required</mat-error>-->
                                          <!--</mat-form-field>-->
                                          <!--</div>-->
                                          <div class="col-md-6 "  >
                                              <mat-form-field class="w-100" >
                                                  <mat-placeholder>City<span class="error" *ngIf="proposer.controls['citycom'].value == ''">*</span></mat-placeholder>
                                                  <mat-select  formControlName="citycom"  (change)="typeAddressDeatils()" >
                                                      <mat-option *ngFor="let city of residenceCitys | keys" value="{{city.value}}" > {{city.value}} </mat-option>
                                                  </mat-select>
                                                  <mat-error *ngIf="proposer.controls.citycom.errors?.required">Finance code is required</mat-error>
                                              </mat-form-field>
                                          </div>
                                          <div class="col-md-6 "  >
                                              <mat-form-field class="w-100" >
                                                  <mat-placeholder>district<span class="error" *ngIf="proposer.controls['districtcom'].value == ''">*</span></mat-placeholder>
                                                  <mat-select  formControlName="districtcom"  (change)="typeAddressDeatils()">
                                                      <mat-option *ngFor="let district of residenceDistricts | keys" value="{{district.value}}" > {{district.value}} </mat-option>
                                                  </mat-select>
                                                  <mat-error *ngIf="proposer.controls.districtcom.errors?.required">Finance code is required</mat-error>
                                              </mat-form-field>
                                          </div>
                                          <!--<div class="col-md-6">-->
                                          <!--<mat-form-field class="w-100">-->
                                          <!--<input matInput placeholder="District" formControlName="districtcom"  autocomplete="off"  required>-->
                                          <!--<mat-error *ngIf="proposer.controls.districtcom.errors?.required">District is required</mat-error>-->
                                          <!--</mat-form-field>-->
                                          <!--</div>-->
                                          <div class="col-md-6">
                                              <mat-form-field class="w-100">
                                                  <input matInput placeholder="LandMark"  formControlName="landmarkcom" (keyup)="typeAddressDeatils()" maxlength="50" autocomplete="off" >
                                              </mat-form-field>
                                          </div>
                                      </div>
                                  </div>
                              </div>
                              <div class="col-md-6">
                                  <div class="box-card addressBox">
                                      <h6 class="color-blue">PERMANENT ADDRESS</h6>
                                      <div class="row">
                                          <div class="col-md-12">
                                              <div class="col-md-12 mt-3">
                                                  <mat-checkbox formControlName="issameascmmunication"  (change)="sameaspermenant($event)" ><strong> Is Same As Communication Address </strong></mat-checkbox>
                                              </div>
                                              <mat-form-field class="w-100" [ngStyle]="{'pointer-events': this.sameasper ? 'none' : ''}">
                                                  <input matInput placeholder="Address 1" rows="2" formControlName="address" autocomplete="off" maxlength="30" required [readonly]="sameasper">
                                                  <mat-error *ngIf="proposer.controls.address.errors?.required">Address is required</mat-error>
                                              </mat-form-field>
                                          </div>
                                          <div class="col-md-12">
                                              <mat-form-field class="w-100" [ngStyle]="{'pointer-events': this.sameasper ? 'none' : ''}">
                                                  <input matInput placeholder="Address 2" rows="2" formControlName="address2" maxlength="30"   autocomplete="off" required [readonly]="sameasper">
                                                  <mat-error *ngIf="proposer.controls.address2.errors?.required">Address2 is required</mat-error>
                                              </mat-form-field>
                                          </div>
                                          <div class="col-md-12">
                                              <mat-form-field class="w-100" [ngStyle]="{'pointer-events': this.sameasper ? 'none' : ''}">
                                                  <input matInput placeholder="Address 3" rows="2" formControlName="address3"  maxlength="30"  autocomplete="off" [readonly]="sameasper">
                                                  <!--<mat-error *ngIf="proposer.controls.address3.errors?.required">Address3 is required</mat-error>-->
                                              </mat-form-field>
                                          </div>
                                          <div class="col-md-6">
                                              <mat-form-field class="w-100" [ngStyle]="{'pointer-events': this.sameasper ? 'none' : ''}">
                                                  <input matInput placeholder="PIN Code"  (keypress)="numberValidate($event)" pattern="[1-9][0-9]{5}"  minlength="6" maxlength="6" formControlName="pincode"  (input)="getPostalCode($event.target.value,'proposer')" autocomplete="off" required [readonly]="sameasper">
                                                  <mat-error *ngIf="proposer.controls.pincode.hasError('minlength')">Pin should be 6 digits</mat-error>
                                                  <mat-error *ngIf="proposer.controls.pincode.hasError('required')">Pincode required</mat-error>
                                                  <mat-error *ngIf="proposer.controls.pincode.hasError('pattern')">Enter Valid  Pin</mat-error>
                                              </mat-form-field>
                                          </div>
                                          <div class="col-md-6">
                                              <mat-form-field class="w-100" [ngStyle]="{'pointer-events': this.sameasper ? 'none' : ''}">
                                                  <input matInput placeholder="State" formControlName="statepermanent"  autocomplete="off"  required [readonly]="sameasper" >
                                                  <mat-error *ngIf="proposer.controls.statepermanent.errors?.required">State is required</mat-error>
                                              </mat-form-field>
                                          </div>
                                          <!--<div class="col-md-6">-->
                                          <!--<mat-form-field class="w-100">-->
                                          <!--<input matInput placeholder="City" formControlName="citypermanent"  autocomplete="off"  required>-->
                                          <!--<mat-error *ngIf="proposer.controls.citypermanent.errors?.required">City is required</mat-error>-->
                                          <!--</mat-form-field>-->
                                          <!--</div>-->

                                          <!--<div class="col-md-6">-->
                                          <!--<mat-form-field class="w-100">-->
                                          <!--<input matInput placeholder="District" formControlName="districtpermanent"  autocomplete="off"  required>-->
                                          <!--<mat-error *ngIf="proposer.controls.districtpermanent.errors?.required">District is required</mat-error>-->
                                          <!--</mat-form-field>-->
                                          <!--</div>-->
                                          <div class="col-md-6 "  >
                                              <mat-form-field class="w-100" [ngStyle]="{'pointer-events': this.sameasper ? 'none' : ''}">
                                                  <mat-placeholder>City<span class="error" *ngIf="proposer.controls['citypermanent'].value == ''">*</span></mat-placeholder>
                                                  <mat-select  formControlName="citypermanent"  [readonly]="sameasper" >
                                                      <mat-option *ngFor="let city of personalCitys | keys" value="{{city.value}}" > {{city.value}} </mat-option>
                                                  </mat-select>
                                                  <mat-error *ngIf="proposer.controls.citypermanent.errors?.required">city is required</mat-error>
                                              </mat-form-field>
                                          </div>
                                          <div class="col-md-6 "  >
                                              <mat-form-field class="w-100" [ngStyle]="{'pointer-events': this.sameasper ? 'none' : ''}">
                                                  <mat-placeholder>district<span class="error" *ngIf="proposer.controls['districtpermanent'].value == ''">*</span></mat-placeholder>
                                                  <mat-select  formControlName="districtpermanent"  [readonly]="sameasper">
                                                      <mat-option *ngFor="let district of personaldistricts | keys" value="{{district.value}}" > {{district.value}} </mat-option>
                                                  </mat-select>
                                                  <mat-error *ngIf="proposer.controls.districtpermanent.errors?.required">District is required</mat-error>
                                              </mat-form-field>
                                          </div>
                                          <div class="col-md-6">
                                              <mat-form-field class="w-100" [ngStyle]="{'pointer-events': this.sameasper ? 'none' : ''}">
                                                  <input matInput placeholder="LandMark"  maxlength="50" formControlName="landmarkpermanent"  autocomplete="off" [readonly]="sameasper">
                                              </mat-form-field>
                                          </div>
                                      </div>
                                  </div>

                              </div>
                          </div>
                          <div class="proposal-buttom mt-3 text-right w-100">
                              <button mat-raised-button color="primaryBlue"  (click)="nextTab(stepper,proposer.value,'stepper1')" >Next</button>
                          </div>
                      </div>
                    </div>
                  </div>
                </mat-expansion-panel>
              </form>
            </mat-accordion>
          </mat-step>
            <mat-step [stepControl]="">
                <ng-template matStepLabel>{{regvalue !='New Vehicle'?'VECHILE DETAILS/PREVIOUS POLICY DETAILS':'VECHILE DETAILS'}}</ng-template>
                <mat-accordion class="w-100 float-left">
                    <form [formGroup]="vechicle">
                        <mat-expansion-panel expanded>
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    VECHILE DETAILS
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <div class="row mt-1" >
                                <div class="col-md-12 box-card pt-3">
                                    <div class="row">
                                        <div class="col-md-12 mt-1">
                                            <h6 class="color-blue"> VEHICLE DETAILS </h6>
                                        </div>
                                        <div class="col-md-3">
                                            <mat-form-field class="w-100">
                                                <input matInput placeholder="Engine No" formControlName="engine"  class="text-uppercase"  readonly required>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3">
                                            <mat-form-field class="w-100">
                                                <input matInput placeholder="Chassis No" formControlName="chassis"    class="text-uppercase"  readonly required>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3">
                                            <mat-form-field class="w-100">
                                                <input matInput placeholder="Vehicle Model" formControlName="vehiclemodel"   readonly required>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3 " *ngIf="regvalue !='New Vehicle'">
                                            <mat-form-field class="w-100">
                                                <input matInput [matDatepicker]="picker1" placeholder="Vehicle Registration Date(DD/MM/YYYY)"   formControlName="Vehicleregdate"  (keypress)="dobValidate($event)"  minlength="10"  maxlength="10"   autocomplete="off" readonly [required]="regvalue !='New Vehicle'">
                                                <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                                <mat-datepicker #picker1></mat-datepicker>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3" *ngIf="regvalue !='New Vehicle'">
                                            <mat-form-field class="w-100">
                                                <input matInput placeholder="Registration No" formControlName="regno" (keypress)="numberValidate($event)" readonly [required]="regvalue !='New Vehicle'">
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3" >
                                            <mat-form-field class="w-100">
                                                <input matInput placeholder="vehicle Manufacture Year" maxlength="4" formControlName="manufactureyear" (keypress)="numberValidate($event)"  readonly required>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3 mt-3" >
                                            <mat-form-field class="w-100">
                                                <input matInput placeholder="Vehicle Idv" formControlName="vechicleidv"  maxlength="10"  readonly required >
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-12 mt-3">
                                            <mat-checkbox formControlName="Financetype"  (change)="check($event)" ><strong> If Vehicle is Finance? </strong></mat-checkbox>
                                        </div>
                                        <div class="col-md-3 mt-3" *ngIf="vechicle.controls['Financetype'].value == true">
                                            <mat-form-field class="w-100">
                                                <mat-placeholder>Agreement Type<span class="error" *ngIf="vechicle.controls['Financetype'].value == true ">*</span></mat-placeholder>
                                                <mat-select  formControlName="Agreement"  >
                                                    <mat-option value="Hire Purchase">Hire Purchase</mat-option>
                                                    <mat-option value="Hypothecation ">Hypothecation</mat-option>
                                                    <mat-option value="Lease ">Lease</mat-option>
                                                </mat-select>
                                                <mat-error *ngIf="vechicle.controls.Agreement.errors?.required ">Agreement Type is required</mat-error>

                                            </mat-form-field>
                                        </div>
                                        <!--<div class="col-md-3 mt-3" *ngIf ="vechicle.controls['Financetype'].value == true" >-->
                                        <!--<ng-select [items]="photosBuffer"-->
                                        <!--[virtualScroll]="true"-->
                                        <!--[loading]="loading"-->
                                        <!--bindLabel="name"-->
                                        <!--bindValue="id"-->
                                        <!--placeholder="Financier Name"-->
                                        <!--appendTo="body"-->
                                        <!--(scroll)="onScroll($event)"-->
                                        <!--(scrollToEnd)="onScrollToEnd()"-->
                                        <!--formControlName="financiercode"-->
                                        <!--[required]="vechicle.controls['Financetype'].value == true">-->
                                        <!--<ng-template ng-header-tmp>-->
                                        <!--<small class="form-text text-muted">Loaded {{photosBuffer.length}} of {{photos.length}}</small>-->
                                        <!--</ng-template>-->
                                        <!--<ng-template ng-option-tmp let-item="item" let-index="index">-->
                                        <!--{{item.name}}-->
                                        <!--</ng-template>-->
                                        <!--</ng-select>-->
                                        <!--</div>-->
                                        <div class="col-md-3 mt-3" *ngIf="vechicle.controls['Financetype'].value == true" >
                                            <mat-form-field class="w-100" >
                                                <mat-placeholder>Financier Name<span class="error" *ngIf="vechicle.controls['Financetype'].value == true">*</span></mat-placeholder>
                                                <mat-select  formControlName="financiercode"  (selectionChange)="changefinancecompany()">
                                                    <cdk-virtual-scroll-viewport [itemSize]="50" [style.height.px]=5*50>
                                                        <mat-option *cdkVirtualFor="let finance of finlist | keys" value="{{finance.key}}">{{finance.value}}</mat-option>
                                                        <!--<mat-option *cdkVirtualFor="let finance of finlist" [value]="finance.id">{{finance.name}}</mat-option>-->
                                                    </cdk-virtual-scroll-viewport>
                                                    <!--<mat-option *ngFor="let finance of finlist" value="{{finance.id}}" > {{finance.name}} </mat-option>-->
                                                </mat-select>
                                                <mat-error *ngIf="vechicle.controls.financiercode.errors?.required">Financier Name is required</mat-error>
                                            </mat-form-field>
                                        </div>
                                        <!--<div class="col-md-3 mt-3" *ngIf="vechicle.controls['Financetype'].value == true" >-->
                                            <!--<mat-form-field class="w-100" >-->
                                                <!--<mat-placeholder>Financier Name<span class="error" *ngIf="vechicle.controls['Financetype'].value == true">*</span></mat-placeholder>-->
                                                <!--<mat-select  formControlName="financiercode"  (change)="changefinancecompany()" >-->
                                                    <!--<mat-option *ngFor="let finance of financeList | keys" value="{{finance.key}}" > {{finance.value}} </mat-option>-->
                                                <!--</mat-select>-->
                                                <!--<mat-error *ngIf="vechicle.controls.financiercode.errors?.required">Finance code is required</mat-error>-->
                                            <!--</mat-form-field>-->
                                        <!--</div>-->
                                        <div class="col-md-3 mt-3" *ngIf="vechicle.controls['Financetype'].value == true">
                                            <mat-form-field class="w-100">
                                                <mat-placeholder>Branch Name<span class="error" *ngIf="vechicle.controls['Financetype'].value == true">*</span></mat-placeholder>
                                                <input matInput  maxlength="20" formControlName="fibranchname" (keypress)="nameValidate($event)"  >
                                                <mat-error *ngIf="vechicle.controls.fibranchname.errors?.required">Branch name is required</mat-error>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-12 mt-3" *ngIf="regvalue !='New Vehicle'">
                                            <h6 class="color-blue"> PREVIOUS POLICY DETAILS </h6>
                                        </div>
                                        <div class="col-md-3 mt-3" *ngIf="regvalue !='New Vehicle'">
                                            <mat-form-field class="w-100" >
                                                <mat-select placeholder="Previous Insurance Company"  formControlName="Previouscompany" (selectionChange)="changeInsuranceCompany()"  [required]="regvalue !='New Vehicle'">
                                                    <mat-option *ngFor="let company of companyList | keys" value="{{company.key}}" > {{company.value}} </mat-option>
                                                </mat-select>
                                                <mat-error *ngIf="vechicle.controls.Previouscompany.errors?.required">previous company is required</mat-error>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3 mt-3" *ngIf="regvalue !='New Vehicle'">
                                            <mat-form-field class="w-100">
                                                <input matInput placeholder="NCB %" formControlName="ncb" maxlength="3" (keypress)="numberValidate($event)" readonly [required]="regvalue !='New Vehicle'">
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-4 mt-3" *ngIf="regvalue !='New Vehicle'">
                                            <mat-form-field class="w-100">
                                                <input matInput [matDatepicker]="picker2" [max]="today" placeholder="Previous Policy EndDate(DD/MM/YYYY)"  formControlName="previousenddate" (dateInput)="addEvent($event,'proposor')" (dateChange)="addEvent($event,'proposor')"   minlength="10"  maxlength="10"   autocomplete="off"  [required]="regvalue !='New Vehicle'" >
                                                <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                                                <mat-datepicker #picker2></mat-datepicker>
                                                <mat-error *ngIf="vechicle.controls.previousenddate.errors?.required">previous Policy Endate is required</mat-error>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3 mt-3" *ngIf="regvalue !='New Vehicle'">
                                            <mat-form-field class="w-100">
                                                <input matInput placeholder="Previous Policy No" formControlName="previouspolicyno" maxlength="20"  [required]="regvalue !='New Vehicle'">
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3 mt-3" *ngIf="regvalue !='New Vehicle'">
                                            <mat-form-field class="w-100">
                                                <input matInput placeholder="Previous Policy claim" formControlName="previouspolicyclaim" maxlength="20" readonly [required]="regvalue !='New Vehicle'">
                                            </mat-form-field>
                                        </div>
                                        <!--<div class="col-md-3 mt-3">-->
                                        <!--<mat-form-field class="w-100">-->
                                        <!--<input matInput placeholder="Previous Policy claim" formControlName="previouspolicyclim" maxlength="20"  required>-->
                                        <!--</mat-form-field>-->
                                        <!--</div>-->
                                        <!--<div class="col-md-3 mt-3" *ngIf="regvalue !='New Vehicle'">-->
                                            <!--<mat-form-field class="w-100">-->
                                                <!--<input matInput placeholder="Previous Policy claim" formControlName="previouspolicyclaim" maxlength="20" readonly [required]="regvalue !='New Vehicle'">-->
                                            <!--</mat-form-field>-->
                                        <!--</div>-->

                                    </div>
                                </div>
                            </div>
                            <div class="proposal-buttom mt-3 text-right w-100">
                                <button mat-button matStepperPrevious (click)="topScroll()">Back</button>
                                <button mat-raised-button  color="primaryBlue" (click)="nextTab(stepper,vechicle.value,'stepper2')" >Next</button>
                            </div>
                        </mat-expansion-panel>
                    </form>
                </mat-accordion>
            </mat-step>
            <mat-step [stepControl]="">
                <ng-template matStepLabel>ADDONS</ng-template>
                <mat-accordion class="w-100 float-left">
                    <form [formGroup]="addOns">
                        <mat-expansion-panel expanded>
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    ADDON DETAILS
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <div class="row mt-1" >
                                <div class="col-md-12 box-card pt-3">
                                    <div class="row">
                                        <div class="col-md-12 mt-1">
                                            <h6 class="color-blue"> ADDON DETAILS </h6>
                                        </div>

                                        <!--<div class="col-md-3">-->
                                            <!--<mat-form-field class="w-100" >-->
                                                <!--<mat-select placeholder="Extension Country Code"  formControlName="extentioncountry" (change)="changeextensioncountry()" required>-->
                                                    <!--<mat-option *ngFor="let country of countryList | keys" value="{{country.key}}" > {{country.value}} </mat-option>-->
                                                <!--</mat-select>-->
                                                <!--<mat-error *ngIf="addOns.controls.extentioncountry.errors?.required">Extension country is required</mat-error>-->
                                            <!--</mat-form-field>-->
                                        <!--</div>-->
                                        <div class="col-md-3" >
                                            <mat-form-field class="w-100">
                                                <mat-placeholder>Extension Country Code</mat-placeholder>
                                                <input matInput  formControlName="extentioncountry" (keypress)="nameValidate($event)" required readonly>
                                                <mat-error *ngIf="addOns.controls.extentioncountry.errors?.required">Extension country is required</mat-error>
                                            </mat-form-field>
                                        </div>

                                        <div class="col-md-3 ">
                                            <mat-form-field class="w-100">
                                                <mat-select placeholder="Policy Tenure" formControlName="policytenture" autocomplete="off" >
                                                    <mat-option value="1">1</mat-option>
                                                    <mat-option value="2">2</mat-option>
                                                    <mat-option value="3">3</mat-option>
                                                    <mat-option value="5">5</mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3 ">
                                            <mat-form-field class="w-100">
                                                <mat-select placeholder="Effective driving license" formControlName="drivinglicence"  >
                                                    <mat-option value="true">True</mat-option>
                                                    <mat-option value="false">False</mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3 ">
                                            <mat-form-field class="w-100">
                                                <mat-select placeholder="Biofuel Type" formControlName="biofuel" (change)="bioFuelReq" >
                                                    <mat-option value="LPG">LPG</mat-option>
                                                    <mat-option value="CNG">CNG</mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3">
                                            <mat-form-field class="w-100">
                                                <input matInput placeholder="Biofuel Kit Price" formControlName="biofuelkit" autocomplete="off"  maxlength="10" (keypress)="numberValidate($event)"  [required]="addOns.controls['biofuel'].value == 'LPG' || addOns.controls['biofuel'].value == 'CNG'">
                                                <!--<mat-error *ngIf="addOns.controls.biofuelkit.errors?.required && addOns.controls.[biofuel].value!='' ">Address2 is required</mat-error>-->

                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3 ">
                                            <mat-form-field class="w-100">
                                                <mat-select placeholder="AntiTheft Discflag"  formControlName="Antitheftdiscflag"  >
                                                    <mat-option value="false">false</mat-option>
                                                    <mat-option value="true">true</mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3 ">
                                            <mat-form-field class="w-100">
                                                <mat-select placeholder="Handicap DiscFlag"  formControlName="HandicapDiscFlag"  >
                                                    <mat-option value="false">false</mat-option>
                                                    <mat-option value="true">true</mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3">
                                            <mat-form-field class="w-100">
                                                <input matInput placeholder="Number Of Drivers" formControlName="numdrivers" autocomplete="off" maxlength="2" (keyup)="validationforadons('','')" (keypress)="numberValidate($event)"  >
                                                <!--<mat-error *ngIf="addOns.controls.biofuelkit.errors?.required && addOns.controls.[biofuel].value!='' ">Address2 is required</mat-error>-->

                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3">
                                            <mat-form-field class="w-100">
                                                <mat-placeholder>Paid Driver SI<span class="error" *ngIf="addOns.controls['numdrivers'].value !=''">*</span></mat-placeholder>
                                                <input matInput  formControlName="paiddriversi" maxlength="7" autocomplete="off" (keypress)="numberValidate($event)"  >
                                                <mat-error *ngIf="addOns.controls.paiddriversi.errors?.required">Paid DriverSi is required</mat-error>

                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3">
                                            <mat-form-field class="w-100">
                                                <input matInput placeholder="Electical Accessory IDV" maxlength="7" formControlName="ElecticalAccessoryIDV" autocomplete="off" (keypress)="numberValidate($event)"  >
                                                <!--<mat-error *ngIf="addOns.controls.biofuelkit.errors?.required && addOns.controls.[biofuel].value!='' ">Address2 is required</mat-error>-->

                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3">
                                            <mat-form-field class="w-100">
                                                <input matInput placeholder="Non Electical Accessory IDV" maxlength="7" formControlName="NonElecticalAccessoryIDV" autocomplete="off" (keypress)="numberValidate($event)"  >
                                                <!--<mat-error *ngIf="addOns.controls.biofuelkit.errors?.required && addOns.controls.[biofuel].value!='' ">Address2 is required</mat-error>-->

                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3 mt-1">
                                            <mat-checkbox formControlName="NoofUnnamedPerson" maxlength="7" (change)="validationforadons($event,'unamed')"><strong> No of Unnamed Person </strong></mat-checkbox>
                                        </div>


                                        <div class="col-md-3" *ngIf="addOns.controls['NoofUnnamedPerson'].value !=''">
                                            <mat-form-field class="w-100">
                                                <mat-placeholder>Unnamed Person SI<span class="error" *ngIf="addOns.controls['NoofUnnamedPerson'].value !=''">*</span></mat-placeholder>
                                                <input matInput  formControlName="UnnamedPersonSI" autocomplete="off" maxlength="7" (keypress)="numberValidate($event)"  >
                                                <mat-error *ngIf="addOns.controls.UnnamedPersonSI.errors?.required  ">Unnamed Person SI is required</mat-error>

                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3 ">
                                            <mat-form-field class="w-100">
                                                <mat-select placeholder="Voluntary Excess Discount"  formControlName="VoluntaryExcessDiscount"  >
                                                    <mat-option value="0">0</mat-option>
                                                    <mat-option value="500">500</mat-option>
                                                    <mat-option value="750">750</mat-option>
                                                    <mat-option value="1000">1000</mat-option>
                                                    <mat-option value="1500">1500</mat-option>
                                                    <mat-option value="3000">3000</mat-option>
                                                    <mat-option value="5000">5000</mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3 ">
                                            <mat-form-field class="w-100">
                                                <mat-select placeholder="TPPD Limit"  formControlName="TPPDLimit"  >
                                                    <mat-option value="0">0</mat-option>
                                                    <mat-option value="100000">100000</mat-option>
                                                    <mat-option value="6000">6000</mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3 mt-1">
                                            <mat-checkbox formControlName="NoofnamedPerson" (change)="validationforadons($event,'named')"><strong> No of named Person </strong></mat-checkbox>
                                        </div>
                                        <div class="col-md-3" *ngIf="addOns.controls['NoofnamedPerson'].value ">
                                            <mat-form-field class="w-100">
                                                <mat-placeholder>Person Name<span class="error" *ngIf="addOns.controls['NoofnamedPerson'].value ">*</span></mat-placeholder>
                                                <input matInput  formControlName="namedPerson" autocomplete="off" maxlength="25" (keypress)="nameValidate($event)"  >
                                                <mat-error *ngIf="addOns.controls.namedPerson.errors?.required  ">Person Name Is Required</mat-error>

                                            </mat-form-field>
                                        </div>

                                        <div class="col-md-3" *ngIf="addOns.controls['NoofnamedPerson'].value ">
                                            <mat-form-field class="w-100">
                                                <mat-placeholder>Named Person SI<span class="error" *ngIf="addOns.controls['NoofnamedPerson'].value ">*</span></mat-placeholder>
                                                <input matInput  formControlName="namedPersonSI" maxlength="10" autocomplete="off" (keypress)="numberValidate($event)"  >
                                                <mat-error *ngIf="addOns.controls.namedPersonSI.errors?.required  ">Named Person SI is required</mat-error>

                                            </mat-form-field>
                                        </div>
                                        <!--<div class="col-md-3">-->
                                            <!--<mat-form-field class="w-100">-->
                                                <!--<input matInput placeholder="Number Of Drivers" formControlName="IsPaidDriver" autocomplete="off"  maxlength="10" (keypress)="numberValidate($event)"  >-->
                                                <!--&lt;!&ndash;<mat-error *ngIf="addOns.controls.biofuelkit.errors?.required && addOns.controls.[biofuel].value!='' ">Address2 is required</mat-error>&ndash;&gt;-->

                                            <!--</mat-form-field>-->
                                        <!--</div>-->
                                        <div class="col-md-3 mt-1">
                                            <mat-checkbox formControlName="IsEMIprotector_Cover" (change)="validationforEmi($event)"><strong> Is EMI Protector_Cover</strong></mat-checkbox>
                                        </div>
                                        <div class="col-md-3 " *ngIf="addOns.controls['IsEMIprotector_Cover'].value !=''">
                                            <mat-form-field class="w-100">
                                                <mat-placeholder>NO of EMI<span class="error" *ngIf="addOns.controls['IsEMIprotector_Cover'].value !=''">*</span></mat-placeholder>
                                                <mat-select   formControlName="noOfEmi"  >
                                                    <mat-option value="1emi">1 EMI</mat-option>
                                                    <mat-option value="2emi">2 EMI</mat-option>
                                                    <mat-option value="3emi">3 EMI</mat-option>
                                                </mat-select>
                                                <mat-error *ngIf="addOns.controls.noOfEmi.errors?.required  ">NO Of EMI Is Required</mat-error>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3" *ngIf="addOns.controls['IsEMIprotector_Cover'].value !=''">
                                            <mat-form-field class="w-100">
                                                <mat-placeholder>EMI Amount<span class="error" *ngIf="addOns.controls['IsEMIprotector_Cover'].value !=''">*</span></mat-placeholder>
                                                <input matInput  formControlName="EMIamount" autocomplete="off" maxlength="10" (keypress)="numberValidate($event)"  >
                                                <mat-error *ngIf="addOns.controls.EMIamount.errors?.required  ">EMI Amount Is Required</mat-error>

                                            </mat-form-field>
                                        </div>

                                        <div class="col-md-3 mt-1">
                                            <mat-checkbox formControlName="IsNCBProtection" ><strong> Is NCB Protection </strong></mat-checkbox>
                                        </div>
                                        <div class="col-md-3 mt-1">
                                            <mat-checkbox formControlName="IsLimitedtoOwnPremises" ><strong> Is Limited to Own Premises </strong></mat-checkbox>
                                        </div>
                                        <div class="col-md-3 mt-1">
                                            <mat-checkbox formControlName="IsRTIcover" ><strong> Is Return To Invoice </strong></mat-checkbox>
                                        </div>
                                        <div class="col-md-3 mt-1">
                                            <mat-checkbox formControlName="IsCOCcover" ><strong> Is Cost Of Consumables </strong></mat-checkbox>
                                        </div>
                                        <div class="col-md-3 mt-1">
                                            <mat-checkbox formControlName="engineandgear" ><strong> Is Engine & Gear Box Protector </strong></mat-checkbox>
                                        </div>
                                        <div class="col-md-3 mt-1">
                                            <mat-checkbox formControlName="downtimeprotector" ><strong> Is Loss Of Use DownTime Protection</strong></mat-checkbox>
                                        </div>
                                        <div class="col-md-3 mt-1">
                                            <mat-checkbox formControlName="IsEAAdvance_Cover" ><strong> Is Emergency Assistance Advance_Cover</strong></mat-checkbox>
                                        </div>

                                        <div class="col-md-3 mt-1">
                                            <mat-checkbox formControlName="EAW" ><strong> Is Emergency Assistance Wider</strong></mat-checkbox>
                                        </div>

                                        <div class="col-md-3 ">
                                            <mat-checkbox formControlName="zerodept" ><strong> Is zerodept Cover </strong></mat-checkbox>
                                        </div>

                                        <div class="col-md-3 ">
                                            <mat-checkbox formControlName="IsLimitedtoOwnPremises" ><strong> Is Limited to Own Premises </strong></mat-checkbox>
                                        </div>
                                        <div class="col-md-3 mt-1">
                                            <mat-checkbox formControlName="OtherLoadDiscRate" ><strong> Other Load Disc Rate </strong></mat-checkbox>
                                        </div>


                                        <div class="col-md-12 mt-2">
                                            <h6 class="color-blue"> NOMINEE DETAILS </h6>
                                        </div>
                                        <div class="col-md-3">
                                            <mat-form-field class="w-100">
                                                <input matInput placeholder="Nominee Name" rows="2"  formControlName="NomineeName"   maxlength="30" (keyup)="onsubmit('')" (keypress)="nameValidate($event)" autocomplete="off">
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3">
                                            <mat-form-field class="w-100">
                                                <mat-placeholder>Nominee age<span class="error" *ngIf="addOns.controls['NomineeName'].value !=''">*</span></mat-placeholder>

                                                <input matInput  rows="2" formControlName="NomineeAge" (keypress)="numberValidate($event)" maxlength="2" (keyup)="onsubmit('')" autocomplete="off" >
                                                <mat-error *ngIf="addOns.controls.NomineeAge.errors?.required">nominee age is Required</mat-error>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3">
                                            <mat-form-field class="w-100">
                                                <mat-placeholder>Nominee Relationship<span class="error" *ngIf="addOns.controls['NomineeAge'].value !=''">*</span></mat-placeholder>

                                                <input matInput  rows="2" formControlName="nomineeRelation"  maxlength="30" (keypress)="nameValidate($event)" autocomplete="off">
                                                <mat-error *ngIf="addOns.controls.nomineeRelation.errors?.required ">nominee relation is Required</mat-error>

                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3">
                                            <mat-form-field class="w-100">
                                                <mat-placeholder>Appointee Name<span class="error"  *ngIf="addOns.controls['NomineeAge'].value < 18 && addOns.controls['NomineeAge'].value !=''">*</span></mat-placeholder>

                                                <input matInput  rows="2" formControlName="appointeename" (keypress)="nameValidate($event)" maxlength="30" autocomplete="off">
                                                <mat-error *ngIf="addOns.controls.appointeename.errors?.required ">appointee name is Required</mat-error>

                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-3">
                                            <mat-form-field class="w-100">
                                                <mat-placeholder>Appointee Relationship<span class="error" *ngIf="addOns.controls['NomineeAge'].value < 18 && addOns.controls['NomineeAge'].value !='' ">*</span></mat-placeholder>

                                                <input matInput  rows="2" formControlName="appointeerelation" (keypress)="nameValidate($event)" maxlength="30"  autocomplete="off">
                                                <mat-error *ngIf="addOns.controls.appointeerelation.errors?.required">appointee relation is Required</mat-error>

                                            </mat-form-field>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="proposal-buttom mt-3 text-right w-100">
                                <button mat-button matStepperPrevious (click)="topScroll()">Back</button>
                                <button mat-raised-button  color="primaryBlue" (click)="nextTab(stepper,addOns.value,'stepper3')" >Next</button>
                            </div>
                        </mat-expansion-panel>
                    </form>
                </mat-accordion>
            </mat-step>
            <!--<mat-step [stepControl]="">-->
                <!--<ng-template matStepLabel> BANK DETAILS</ng-template>-->
                <!--<mat-accordion class="w-100 float-left">-->
                    <!--<form [formGroup]="BankDetails">-->
                        <!--<mat-expansion-panel expanded>-->
                            <!--<mat-expansion-panel-header>-->
                                <!--<mat-panel-title>-->
                                    <!--BANK DETAILS-->
                                <!--</mat-panel-title>-->
                            <!--</mat-expansion-panel-header>-->
                            <!--<div class="row mt-1" >-->
                                <!--&lt;!&ndash;<div class="box-card pt-3">&ndash;&gt;-->
                                <!--<div class="col-md-12 mt-3">-->
                                    <!--<h6 class="color-blue"> BANK DETAILS </h6>-->
                                <!--</div>-->
                                <!--<div class="col-md-3 mt-3">-->
                                    <!--<mat-form-field class="w-100" >-->
                                        <!--<mat-select placeholder="Bank Name" formControlName="Bankname"  (change)="changebankname()" required>-->
                                            <!--<mat-option *ngFor="let bank of bankList | keys" value="{{bank.key}}" > {{bank.value}} </mat-option>-->
                                        <!--</mat-select>-->
                                        <!--<mat-error *ngIf="BankDetails.controls.Bankname.errors?.required">Bank Name is Required</mat-error>-->
                                    <!--</mat-form-field>-->
                                <!--</div>-->
                                <!--<div class="col-md-3 mt-3">-->
                                    <!--<mat-form-field class="w-100">-->
                                        <!--<input matInput placeholder="Bank Branch Name" formControlName="Branch" autocomplete="off" required  >-->
                                    <!--</mat-form-field>-->
                                <!--</div>-->
                                <!--<div class="col-md-3 mt-3">-->
                                    <!--<mat-form-field class="w-100">-->
                                        <!--<mat-select placeholder="Payment Mode" formControlName="paymentmode" required >-->
                                            <!--<mat-option value="C">Cheque</mat-option>-->
                                            <!--<mat-option value="CL">Credit Limit</mat-option>-->
                                            <!--<mat-option value="CD">CD Balance</mat-option>-->
                                            <!--<mat-option value="EP">Electronic Bank Payment</mat-option>-->
                                            <!--<mat-option value="FT">Fund Transfer</mat-option>-->
                                        <!--</mat-select>-->
                                        <!--<mat-error *ngIf="BankDetails.controls.paymentmode.errors?.required">Payment Mode is Required</mat-error>-->
                                    <!--</mat-form-field>-->
                                <!--</div>-->
                                <!--<div class="col-md-3 mt-3">-->
                                    <!--<mat-form-field class="w-100">-->
                                        <!--<mat-select placeholder="Payer Type" formControlName="Payertype" required>-->
                                            <!--<mat-option value="DEALER">DEALER</mat-option>-->
                                            <!--<mat-option value="CUSTOMER">CUSTOMER</mat-option>-->
                                        <!--</mat-select>-->
                                        <!--<mat-error *ngIf="BankDetails.controls.Payertype.errors?.required">Payer type is Required</mat-error>-->
                                    <!--</mat-form-field>-->
                                <!--</div>-->
                                <!--<div class="col-md-3 mt-3">-->
                                    <!--<mat-form-field class="w-100">-->
                                        <!--<input matInput placeholder="Reference Number" formControlName="refrenceno" autocomplete="off" required  >-->
                                    <!--</mat-form-field>-->
                                <!--</div>-->
                                <!--<div class="col-md-3 mt-3">-->
                                    <!--<mat-form-field class="w-100">-->
                                        <!--<input matInput [matDatepicker]="picker4" [min]="todaydate" [max]="todaydate" placeholder="Payment Date(DD/MM/YYYY)" (dateInput)="addEvent($event,'proposor')" (dateChange)="addEvent($event,'proposor')"  formControlName="Paymentdate" (dateInput)="addEvent($event,'proposor')" (dateChange)="addEvent($event,'proposor')"   minlength="10"  maxlength="10"   autocomplete="off"  required >-->
                                        <!--<mat-datepicker-toggle matSuffix [for]="picker4"></mat-datepicker-toggle>-->
                                        <!--<mat-datepicker #picker4></mat-datepicker>-->
                                        <!--<mat-error *ngIf="proposer.controls.dob.errors?.required">Payment date is required</mat-error>-->
                                    <!--</mat-form-field>-->
                                    <!--<div class="error" *ngIf="personalDobError != ''">{{personalDobError}}</div>-->
                                <!--</div>-->
                                <!--&lt;!&ndash;</div>&ndash;&gt;-->
                            <!--</div>-->
                            <!--<div class="proposal-buttom mt-3 text-right w-100">-->
                                <!--<button mat-button matStepperPrevious (click)="topScroll()">Back</button>-->
                                <!--<button mat-raised-button  color="primaryBlue" (click)="nextTab(stepper,BankDetails.value,'stepper4')"  >Next</button>-->
                            <!--</div>-->
                        <!--</mat-expansion-panel>-->
                    <!--</form>-->
                <!--</mat-accordion>-->
            <!--</mat-step>-->
            <mat-step [stepControl]="">
                <ng-template matStepLabel>SUMMARY</ng-template>
                <section class="summary-details" *ngIf="summaryData">
                    <div class="row">
                        <div class="col-md-4">
                            <h4 class="mt-4"><span style="font-size: 17px; color: #666;">  Plan Name: <span class="color-blue" style="font-size: large">{{vehicleidv.plan_name}}</span> </span></h4>
                        </div>
                        <div class="col-md-8 p-3">
                            <ul class="summary-head">
                                <li><span>IDV : </span><span><i class="fas fa-rupee-sign"></i>{{vehicleidv.Idv}}</span></li>
                                <li><span>Insurer : </span><img src="{{webhost + '/' + vehicleidv.company_logo}}" class="img-thumbnail" style="width: 55px;" /> </li>
                                <li><span>Premium : </span><span><i class="fas fa-rupee-sign"></i>{{summaryData.premium}}</span></li>
                                <li></li>
                            </ul>
                        </div>
                    </div>
                    <section>
                        <h5 class="mt-3 sub-title">PROPOSER DETAILS </h5>
                        <div class="row box-card">
                            <div class="col-md-12">
                            </div>
                            <div class="col-md-6">
                                <div class="p-3">

                                    <ul class="m-0 list-group">
                                        <li class="list-group-item"><strong>Name:</strong>{{proposerFormData.title}}  {{proposerFormData.firstName}}{{proposerFormData.middleName}} {{proposerFormData.lastName}}</li>
                                        <li class="list-group-item"><strong>D.O.B:</strong> {{proposerFormData.dob | date: 'dd/MM/yyyy'}}</li>
                                        <li class="list-group-item"><strong>Gender:</strong>{{proposerFormData.gender}}</li>
                                        <li class="list-group-item" *ngIf="proposerFormData.email != ''"><strong>Email Id:</strong> {{proposerFormData.email}}</li>

                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="p-3">

                                    <ul class="m-0 list-group">
                                        <li class="list-group-item" *ngIf="proposerFormData.mobile != ''"><strong>Mobile Number:</strong> {{proposerFormData.mobile}}</li>
                                        <li class="list-group-item" *ngIf="proposerFormData.alternateContact != ''"><strong>Telephone Number:</strong> {{proposerFormData.alternateContact}}</li>
                                        <li class="list-group-item" *ngIf="proposerFormData.gstNumber != ''"><strong>GST Number:</strong> {{proposerFormData.gstNumber}}</li>
                                        <li class="list-group-item" *ngIf="proposerFormData.personalPan != ''"><strong>PAN Number:</strong> {{proposerFormData.personalPan | uppercase}}</li>
                                    </ul>
                                </div>
                            </div>


                            <div class="col-md-6">
                                <div class="p-3">
                                    <h6 class="color-blue">COMMUNICATION ADDRESS</h6>
                                    <ul class="m-0 list-group">
                                        <li class="list-group-item mt-1"><strong>Address 1:</strong> {{proposerFormData.address4}}</li>
                                        <li class="list-group-item"><strong>Address 2:</strong> {{proposerFormData.address5}}</li>
                                        <li class="list-group-item" *ngIf="proposerFormData.address6 != ''"><strong>Address 3:</strong> {{proposerFormData.address6}}</li>
                                        <li class="list-group-item" ><strong>PIN code:</strong> {{proposerFormData.pincode1}}</li>
                                        <li class="list-group-item" ><strong>City:</strong> {{proposerFormData.citycom}}</li>
                                        <li class="list-group-item" ><strong>State:</strong> {{proposerFormData.statecom}}</li>
                                        <li class="list-group-item" ><strong>District:</strong> {{proposerFormData.districtcom}}</li>
                                        <li class="list-group-item" *ngIf="proposerFormData.landmarkcom != ''" ><strong>Landmark:</strong> {{proposerFormData.landmarkcom}}</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class=" p-3">
                                    <h6 class="color-blue">PERMANENT ADDRESS</h6>
                                    <ul class="m-0 list-group">
                                        <li class="list-group-item" *ngIf="proposerFormData.address != ''"><strong>Address 1:</strong> {{proposerFormData.address}}</li>
                                        <li class="list-group-item" *ngIf="proposerFormData.address2 != ''"><strong>Address 2:</strong> {{proposerFormData.address2}}</li>
                                        <li class="list-group-item" *ngIf="proposerFormData.address3 != ''"><strong>Address 3:</strong> {{proposerFormData.address3}}</li>
                                        <li class="list-group-item"><strong>PIN code:</strong> {{proposerFormData.pincode1}}</li>
                                        <li class="list-group-item"><strong>City:</strong> {{proposerFormData.citypermanent}}</li>
                                        <li class="list-group-item"><strong>State:</strong> {{proposerFormData.statepermanent}}</li>
                                        <li class="list-group-item"><strong>District:</strong> {{proposerFormData.districtpermanent}}</li>
                                        <li class="list-group-item" *ngIf="proposerFormData.landmarkpermanent != ''" ><strong>Landmark:</strong> {{proposerFormData.landmarkpermanent}}</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section>
                        <h5 class="mt-3 sub-title"> VEHICLE DETAILS </h5>
                        <div class="row box-card">
                            <div class="col-md-6">
                                <div class="p-3">
                                    <ul class="m-0 list-group">
                                        <li class="list-group-item"><strong>Engine Number:</strong> {{vehicalFormData.engine |uppercase}} </li>
                                        <li class="list-group-item"><strong>Chassis Number:</strong> {{vehicalFormData.chassis| uppercase}} </li>
                                        <li class="list-group-item"><strong>Vehicle Model:</strong> {{vehicalFormData.vehiclemodel}} </li>
                                        <li class="list-group-item"><strong>Vehicle Manufacture year:</strong> {{vehicalFormData.manufactureyear}} </li>
                                        <li class="list-group-item"><strong>Vechicle Idv:</strong> {{vehicalFormData.vechicleidv}} </li>

                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="p-3">
                                    <ul class="m-0 list-group">
                                        <li class="list-group-item" *ngIf="regvalue !='New Vehicle'"><strong>Vehicle Regsitration Date:</strong> {{vehicalFormData.Vehicleregdate | date: 'dd/MM/yyyy'}} </li>
                                        <li class="list-group-item" *ngIf="regvalue !='New Vehicle'"><strong>Registered No:</strong> {{vehicalFormData.regno}} </li>
                                        <li class="list-group-item" *ngIf="vehicalFormData.Agreement !=''"><strong>Agreement Type:</strong> {{vehicalFormData.Agreement}} </li>
                                        <li class="list-group-item" ><strong>Financier Name:</strong> {{vehicalFormData.financiercodevalue}} </li>
                                        <li class="list-group-item" *ngIf="vehicalFormData.fibranchname !=''"><strong>Branch Name:</strong> {{vehicalFormData.fibranchname}} </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </section>
                    <section *ngIf="regvalue !='New Vehicle'" >
                        <h5 class="mt-3 sub-title"> PREVIOUS POLICY  DETAILS </h5>
                        <div class="row box-card">
                            <div class="col-md-6">
                                <div class="p-3 mt-2">
                                    <ul class="m-0 list-group">
                                        <li class="list-group-item" *ngIf="vehicalFormData.Previouscompanyvalue != ''"><strong>Previous Insurance Company:</strong>{{vehicalFormData.Previouscompanyvalue}}</li>
                                        <li class="list-group-item" *ngIf="vehicalFormData.ncb != ''"><strong>Previous Ncb:</strong> {{vehicalFormData.ncb}}</li>
                                        <li class="list-group-item" *ngIf="vehicalFormData.previousenddate != ''"><strong>Previous Policy End Date:</strong> {{vehicalFormData.previousenddate | date: 'dd/MM/yyyy'}}</li>

                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="p-3 mt-2">
                                    <ul class="m-0 list-group">
                                        <li class="list-group-item" *ngIf="vehicalFormData.previouspolicyno != ''"><strong>Previous Policy NO:</strong> {{vehicalFormData.previouspolicyno}}</li>
                                        <!--<li class="list-group-item" *ngIf="vehicleidv.Idv != ''"><strong>Vehicle idv:</strong> {{vehicleidv.Idv}}</li>-->
                                        <li class="list-group-item" *ngIf="vehicalFormData.previouspolicyclaim != ''"><strong>Previous Policy  Claim:</strong> {{vehicalFormData.previouspolicyclaim}}</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </section>
                    <section>
                        <h5 class="mt-3 sub-title">ADDONS </h5>
                        <div class="row box-card">
                            <div class="col-md-6">
                                <div class="p-3">

                                    <ul class="m-0 list-group">
                                        <li class="list-group-item"><strong>Extension County  :</strong>{{previousFormData.extentioncountry}}</li>
                                        <li class="list-group-item" *ngIf="previousFormData.policytenture !=''"><strong>Policy Tenure  :</strong>{{previousFormData.policytenture}}</li>
                                        <li class="list-group-item"*ngIf="previousFormData.drivinglicence !=''"><strong>Effective Driving Licence :</strong>{{previousFormData.drivinglicence}}</li>
                                        <li class="list-group-item" *ngIf="previousFormData.biofuel !=''"><strong>BioFuel Type  :</strong>{{previousFormData.biofuel}}</li>
                                        <li class="list-group-item"*ngIf="previousFormData.biofuelkit !=''"><strong>BioFuel kit Price :</strong>{{previousFormData.biofuelkit}}</li>
                                        <li class="list-group-item"*ngIf="previousFormData.Antitheftdiscflag !=''"><strong>Anti Theft Disc Flag :</strong>{{previousFormData.Antitheftdiscflag}}</li>
                                        <!--<li class="list-group-item"*ngIf="previousFormData.HandicapDiscFlag !=''"><strong>Handicap Disc Flag :</strong>{{previousFormData.HandicapDiscFlag}}</li>-->
                                        <li class="list-group-item" *ngIf="previousFormData.HandicapDiscFlag == true"><strong>Handicap Disc Flag :</strong>Yes</li>
                                        <li class="list-group-item" *ngIf="previousFormData.HandicapDiscFlag == false"><strong>Handicap Disc Flag :</strong>No</li>
                                        <li class="list-group-item"*ngIf="previousFormData.numdrivers !=''"><strong>Number of Drivers :</strong>{{previousFormData.numdrivers}}</li>
                                        <li class="list-group-item" *ngIf="previousFormData.paiddriversi !=''"><strong>Paid Driver Sum Insure  :</strong>{{previousFormData.paiddriversi}}</li>
                                        <li class="list-group-item" *ngIf="previousFormData.ElecticalAccessoryIDV !=''"><strong>Electrical Accessory IDV  :</strong>{{previousFormData.ElecticalAccessoryIDV}}</li>
                                        <li class="list-group-item" *ngIf="previousFormData.NonElecticalAccessoryIDV !=''"><strong>Non Electical Accessory IDV :</strong>{{previousFormData.NonElecticalAccessoryIDV}}</li>
                                        <li class="list-group-item" *ngIf="previousFormData.NoofUnnamedPerson == true"><strong>No of Unnamed Person:</strong>Yes</li>
                                        <li class="list-group-item" *ngIf="previousFormData.NoofUnnamedPerson == false"><strong>No of Unnamed Person :</strong>No</li>
                                        <li class="list-group-item" *ngIf="previousFormData.UnnamedPersonSI !=''"><strong>Unnamed Person SI :</strong>{{previousFormData.UnnamedPersonSI}}</li>
                                        <li class="list-group-item" *ngIf="previousFormData.VoluntaryExcessDiscount !=''"><strong>Voluntary Excess Discount :</strong>{{previousFormData.VoluntaryExcessDiscount}}</li>
                                        <li class="list-group-item" *ngIf="previousFormData.TPPDLimit !=''"><strong>TPPD Limit :</strong>{{previousFormData.TPPDLimit}}</li>
                                        <li class="list-group-item" *ngIf="previousFormData.NoofnamedPerson == true"><strong>No of Named Person:</strong>Yes</li>
                                        <li class="list-group-item" *ngIf="previousFormData.NoofnamedPerson == false"><strong>No of Named Person :</strong>No</li>
                                        <li class="list-group-item" *ngIf="previousFormData.namedPerson !=''"><strong> Person Name :</strong>{{previousFormData.namedPerson}}</li>
                                        <li class="list-group-item" *ngIf="previousFormData.namedPersonSI !=''"><strong>Named Person SI :</strong>{{previousFormData.namedPersonSI}}</li>
                                        <li class="list-group-item" *ngIf="previousFormData.IsEMIprotector_Cover == true"><strong>Is EMI Protector_Cover:</strong>Yes</li>
                                        <li class="list-group-item" *ngIf="previousFormData.IsEMIprotector_Cover == false"><strong>Is EMI Protector_Cover :</strong>No</li>
                                        <li class="list-group-item" *ngIf="previousFormData.noOfEmi !=''"><strong>No Of EMI :</strong>{{previousFormData.noOfEmi}}</li>
                                        <li class="list-group-item" *ngIf="previousFormData.EMIamount !=''"><strong>EMI Amount :</strong>{{previousFormData.EMIamount}}</li>
                                        <li class="list-group-item" *ngIf="previousFormData.IsNCBProtection == true"><strong>Is NCB Protection:</strong>Yes</li>
                                        <li class="list-group-item" *ngIf="previousFormData.IsNCBProtection == false"><strong>Is NCB Protection :</strong>No</li>
                                        <li class="list-group-item" *ngIf="previousFormData.IsLimitedtoOwnPremises == true"><strong>Is Limited to Own Premises  :</strong>Yes</li>
                                        <li class="list-group-item" *ngIf="previousFormData.IsLimitedtoOwnPremises == false"><strong>Is Limited to Own Premises  :</strong>No</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="p-3">

                                    <ul class="m-0 list-group">



                                        <li class="list-group-item" *ngIf="previousFormData.IsRTIcover == true"><strong>Is Return To Invoice:</strong>Yes</li>
                                        <li class="list-group-item" *ngIf="previousFormData.IsRTIcover == false"><strong>Is Return To Invoice :</strong>No</li>
                                        <li class="list-group-item" *ngIf="previousFormData.IsCOCcover == true"><strong>Is Cost Of Consumables:</strong>Yes</li>
                                        <li class="list-group-item" *ngIf="previousFormData.IsCOCcover == false"><strong>Is Cost Of Consumables :</strong>No</li>
                                        <li class="list-group-item" *ngIf="previousFormData.engineandgear == true"><strong>Is Engine and Gear Box Protection:</strong>Yes</li>
                                        <li class="list-group-item" *ngIf="previousFormData.engineandgear == false"><strong>Is Engine and Gear Box Protection :</strong>No</li>
                                        <li class="list-group-item" *ngIf="previousFormData.downtimeprotector == true"><strong>Is Loss of Use Down Time Protection:</strong>Yes</li>
                                        <li class="list-group-item" *ngIf="previousFormData.downtimeprotector == false"><strong>Is Loss of Use Down Time Protection :</strong>No</li>
                                        <li class="list-group-item" *ngIf="previousFormData.IsEAAdvance_Cover == true"><strong>Is Emergency Assistance Advance_Cover:</strong>Yes</li>
                                        <li class="list-group-item" *ngIf="previousFormData.IsEAAdvance_Cover == false"><strong>Is Emergency Assistance Advance_Cover :</strong>No</li>
                                        <li class="list-group-item" *ngIf="previousFormData.EAW == true"><strong>Is Emergency Assistance Wider:</strong>Yes</li>
                                        <li class="list-group-item" *ngIf="previousFormData.EAW == false"><strong>Is Emergency Assistance Wider:</strong>No</li>
                                        <li class="list-group-item" *ngIf="previousFormData.zerodept == true"><strong> Is Zerodept Cover  :</strong>Yes</li>
                                        <li class="list-group-item" *ngIf="previousFormData.zerodept == false"><strong> Is Zerodept Cover  :</strong>No</li>
                                        <li class="list-group-item" *ngIf="previousFormData.IsLimitedtoOwnPremises == true"><strong> Is Limited To Own Premises :</strong>Yes</li>
                                        <li class="list-group-item" *ngIf="previousFormData.IsLimitedtoOwnPremises == false"><strong> Is Limited To Own Premises  :</strong>No</li>
                                        <li class="list-group-item" *ngIf="previousFormData.OtherLoadDiscRate == true"><strong>Other Load Disc Rate :</strong>Yes</li>
                                        <li class="list-group-item" *ngIf="previousFormData.OtherLoadDiscRate == false"><strong>Other Load Disc Rate :</strong>No</li>
                                        <!--<li class="list-group-item"><strong>Pa cover  :</strong>{{previousFormData.pacover=='true'?'Yes':'No'}}</li>-->
                                        <!--<li class="list-group-item"><strong>Is Limited to Own Premises  :</strong>{{previousFormData.IsLimitedtoOwnPremises=='true'?'Yes':'No'}}</li>-->

                                    </ul>
                                </div>
                            </div>
                        </div>
                    </section>
                    <section >
                        <h5 class="mt-3 sub-title" *ngIf="previousFormData.NomineeName !=''&& previousFormData.nomineeRelation !=''" > NOMINEE DETAILS </h5>
                        <div class="row box-card">
                            <div class="col-md-6">
                                <div class="p-3 mt-2">
                                    <ul class="m-0 list-group">
                                        <li class="list-group-item" *ngIf="previousFormData.NomineeName !=''" ><strong>NomineeName :</strong>{{previousFormData.NomineeName}}</li>
                                        <li class="list-group-item" *ngIf="previousFormData.NomineeAge !=''"><strong>NomineeAge:</strong> {{previousFormData.NomineeAge}}</li>
                                        <li class="list-group-item" *ngIf="previousFormData.nomineeRelation !=''"><strong>nomineeRelation:</strong> {{previousFormData.nomineeRelation}}</li>


                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="p-3 mt-2">
                                    <ul class="m-0 list-group">

                                        <li class="list-group-item" *ngIf="previousFormData.appointeename !=''"><strong>appointeename:</strong> {{previousFormData.appointeename}}</li>
                                        <li class="list-group-item" *ngIf="previousFormData.appointeerelation !=''"><strong>appointeerelation:</strong> {{previousFormData.appointeerelation}}</li>

                                    </ul>
                                </div>
                            </div>
                        </div>
                    </section>
                    <!--<section >-->
                        <!--<h5 class="mt-3 sub-title"> BANK DETAILS </h5>-->
                        <!--<div class="row box-card">-->
                            <!--<div class="col-md-6">-->
                                <!--<div class="p-3 mt-2">-->
                                    <!--<ul class="m-0 list-group">-->
                                        <!--<li class="list-group-item"><strong>Bank Name :</strong>{{bankFormData.Banknamevalue}}</li>-->
                                        <!--<li class="list-group-item"><strong>Branch Name :</strong>{{bankFormData.Branch}}</li>-->
                                        <!--<li class="list-group-item"><strong>Payer Type :</strong>{{bankFormData.Payertype}}</li>-->
                                        <!--<li class="list-group-item"><strong>Reference Number :</strong>{{bankFormData.refrenceno}}</li>-->
                                        <!--<li class="list-group-item"><strong>Payment Date :</strong>{{bankFormData.Paymentdate | date: 'dd/MM/yyyy'}}</li>-->
                                        <!--<li class="list-group-item"><strong>Payment Mode :</strong>{{bankFormData.paymentmode}}</li>-->

                                    <!--</ul>-->
                                <!--</div>-->
                            <!--</div>-->
                        <!--</div>-->
                    <!--</section>-->
                    <p class="mt-2 pl-3">
                        <mat-checkbox [(ngModel)]="declaration">I hereby declare all  the  details provided above are correct</mat-checkbox>
                    </p>
                    <div class="row" *ngIf="summaryData">
                        <div class="col-md-12 text-center">
                            <form action='{{summaryData.PaymentRedirect}}' method='post' name="frmTransaction" id="frmTransaction" #form>
                                <input type="text" type="hidden" value="{{summaryData.Trnsno}}" name="trnsno">
                                <input type="text" type="hidden" value="{{summaryData.Amt}}" name="amt" >
                                <input type="text" type="hidden" value="{{summaryData.Appid}}" name="appid" >
                                <input type="text" type="hidden" value="{{summaryData.Subid}}" name="subid" >
                                <input type="text"  type="hidden"value="{{summaryData.Surl}}" name="surl" >
                                <input type="text"  type="hidden"value="{{summaryData.Furl}}" name="furl" >
                                <input type="text"  type="hidden"value="POST" name="src" >
                                <input type="text"  type="hidden"value="{{summaryData.Chksum}}" name="chksum" >
                                <input type="submit" type="hidden" value="submit">
                                <!--<input name="src" type="hidden" value="TP" />-->
                                <!--<input name="proposal_no" type="hidden" value="{{Proposalnumber}}" />-->
                                <!--<input name="ReturnURL" type="hidden" value="{{PaymentReturn}}" />-->
                                <button mat-button matStepperPrevious  (click)="topScroll()">Back</button>
                                <button mat-raised-button color="primaryBlue" [disabled]="!declaration" (click)="form.submit()">Pay Now</button>
                            </form>
                        </div>
                    </div>


                </section>
            </mat-step>
        </mat-horizontal-stepper>
      </div>
    </div>
  </div>
</section>

<cdk-virtual-scroll-viewport itemSize="50" class="example-viewport">
    <div *cdkVirtualFor="let item of finlist" class="example-item">{{item.name}}</div>
</cdk-virtual-scroll-viewport>
