<div class="container-fluid">
  <div class="row relianceHealthProposal">
    <div class="col-md-12">
      <mat-horizontal-stepper  #stepper>
        <mat-step [stepControl]="personal">
          <ng-template matStepLabel>PROPOSER DETAILS</ng-template>
          <mat-accordion class="w-100 float-left">
            <form [formGroup]="personal">
              <mat-expansion-panel expanded>
                <mat-expansion-panel-header>
                  <mat-panel-title>PROPOSER DETAILS</mat-panel-title>
                </mat-expansion-panel-header>
                <div class="row mt-3">
                  <div class="col-md-12 box-card pt-3">
                    <h6 class="color-blue">PROPOSER DETAILS</h6>
                    <div class="row">
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <mat-select placeholder="Title" formControlName="personalTitle" (change)="changeGender()" required>
                            <mat-option value="MR">Mr</mat-option>
                            <mat-option value="MS">Ms</mat-option>
                          </mat-select>
                          <mat-error *ngIf="personal.controls.personalTitle.errors?.required">Title is required</mat-error>
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="First Name" formControlName="personalFirstname"  (keypress)="nameValidate($event)"  autocomplete="off" required >
                          <mat-error *ngIf="personal.controls.personalFirstname.errors?.required">First Name is required</mat-error>
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Middle Name" formControlName="personalMidname"  (keypress)="nameValidate($event)"   autocomplete="off">
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Last Name" formControlName="personalLastname"  (keypress)="nameValidate($event)"   autocomplete="off" required >
                          <mat-error *ngIf="personal.controls.personalLastname.errors?.required">Last Name is required</mat-error>
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput [matDatepicker]="picker" [max]="minDate" placeholder="DOB (DD/MM/YYYY)" formControlName="personalDob" (dateInput)="addEvent($event,'proposer')" (dateChange)="addEvent($event,'proposer')"  (keypress)="dobValidate($event)"
                                 autocomplete="off" maxlength="10" minlength="10"  required>
                          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                          <mat-datepicker #picker></mat-datepicker>
                          <mat-error *ngIf="personal.controls.personalDob.errors?.required">DOB is required</mat-error>
                        </mat-form-field>
                        <div class="error" *ngIf="dobError != ''">{{dobError}}</div>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Gender" formControlName="personalGender" required readonly>
                          <mat-error *ngIf="personal.controls.personalGender.errors?.required">Gender is required</mat-error>
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <mat-select  placeholder="Marital Status" formControlName="maritalStatus" required  class="w-100">
                            <mat-option *ngFor="let status of Marital" [value]= 'status.marital_status_id'> {{status.marital_status}} </mat-option>
                          </mat-select>
                          <mat-error *ngIf="personal.controls.maritalStatus.errors?.required">Marital Status is required</mat-error>
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <mat-select  placeholder="Occupation" formControlName="occupation" required  class="w-100">
                            <mat-option *ngFor="let list of PersonalOccupation" value = '{{list.occupation_id}}'> {{list.occupation_name}} </mat-option>
                          </mat-select>
                          <mat-error *ngIf="personal.controls.occupation.errors?.required">Occupation is required</mat-error>
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="PAN Number" formControlName="personalPan" minlength="10" class="text-uppercase" (keypress)="idValidate($event)" maxlength="10" pattern="^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$" autocomplete="off">
                          <mat-error *ngIf="personal.controls.personalPan.hasError('minlength')">PAN Number isn't long enough, minimum of 10 characters</mat-error>
                          <mat-error *ngIf="personal.controls.personalPan.hasError('pattern')"> Enter Valid PAN Number </mat-error>
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput  placeholder="Aadhaar Number" formControlName="personalAadhar" maxlength="12" minlength="12" (keypress)="numberValidate($event)"  autocomplete="off">
                          <mat-error *ngIf="personal.controls.personalAadhar.hasError('minlength')">Aadhaar Number should be Minimum 12 digits</mat-error>
                          <mat-error *ngIf="personal.controls.personalAadhar.hasError('maxlength')">Aadhaar Number should be MAximum 12 digits</mat-error>
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Email ID"   formControlName="personalEmail"  autocomplete="off" required>
                          <mat-error *ngIf="personal.controls.personalEmail.errors?.required">Email ID is required</mat-error>
                          <mat-error *ngIf="personal.controls.personalEmail.hasError('pattern')">Please Enter Correct Format</mat-error>
                        </mat-form-field>
                      </div>

                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Mobile Number"  (keypress)="numberValidate($event)"   maxlength="10" formControlName="personalMobile" autocomplete="off" required>
                          <mat-error *ngIf="personal.controls.personalMobile.errors?.required">Mobile Number is required</mat-error>
                          <mat-error *ngIf="personal.controls.personalMobile.hasError('pattern')">Enter Valid  Mobile Number</mat-error>
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Phone Number"  (keypress)="numberValidate($event)"  maxlength="12" formControlName="personalPhone" autocomplete="off" >
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <mat-select  placeholder="Nationality" formControlName="nationality" required  class="w-100">
                            <mat-option *ngFor="let list of Nationality" [value]= 'list.nationality_id'> {{list.nationality}} </mat-option>
                          </mat-select>
                          <mat-error *ngIf="personal.controls.nationality.errors?.required">Nationality is required</mat-error>
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="GST Number" class="text-uppercase"   minlength="15"  maxlength="15" formControlName="personalGst" pattern="^([0-9]){2}([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}([0-9]){1}([a-zA-Z]){1}([a-zA-Z0-9]){1}?$" autocomplete="off">
                          <mat-error *ngIf="personal.controls.personalGst.hasError('minlength')">GST Number isn't long enough, minimum of 15 characters</mat-error>
                          <mat-error *ngIf="personal.controls.personalGst.hasError('pattern')">Enter Vaild GST</mat-error>
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="GSTIN Number"  (keypress)="numberValidate($event)"   maxlength="10" formControlName="gstin" autocomplete="off">
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Related Party"  (keypress)="idValidate($event)"   maxlength="10" formControlName="relatedParty" autocomplete="off" >
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Group Corp ID"  (keypress)="idValidate($event)"   maxlength="10" formControlName="groupCorpID" autocomplete="off" >
                        </mat-form-field>
                      </div>
                    </div>
                  </div>
                  <div class="row" fxLayoutAlign="center center">
                    <div class="col-md-6">
                      <div class="box-card addressBox">
                        <h6 class="color-blue">COMMUNICATION ADDRESS</h6>
                        <div class="row">
                          <div class="col-md-12">
                            <mat-form-field class="w-100">
                              <input matInput placeholder="Address 1" formControlName="personalAddress" (keyup)="typeAddressDeatils()" autocomplete="off" required>
                              <mat-error *ngIf="personal.controls.personalAddress.errors?.required">Address is required</mat-error>
                            </mat-form-field>
                          </div>
                          <div class="col-md-12">
                            <mat-form-field class="w-100">
                              <input matInput placeholder="Address 2" formControlName="personalAddress2" (keyup)="typeAddressDeatils()" autocomplete="off" required>
                              <mat-error *ngIf="personal.controls.personalAddress2.errors?.required">Address2 is required</mat-error>
                            </mat-form-field>
                          </div>
                          <div class="col-md-12">
                            <mat-form-field class="w-100">
                              <input matInput placeholder="Address 3" formControlName="personalAddress3" (keyup)="typeAddressDeatils()" autocomplete="off">
                              <mat-error *ngIf="personal.controls.personalAddress3.errors?.required">Address3 is required</mat-error>
                            </mat-form-field>
                          </div>

                          <div class="col-md-6">
                            <mat-form-field class="w-100">
                              <input matInput placeholder="PIN Code" formControlName="personalPincode" pattern="[1-9][0-9]{5}" (keypress)="numberValidate($event)"  minlength="6"   maxlength="6" (input)="commonPincode($event.target.value, 'proposalP')" autocomplete="off" required>
                              <mat-error *ngIf="personal.controls.personalPincode.hasError('minlength')">Pin should be 6 digits</mat-error>
                              <mat-error *ngIf="personal.controls.personalPincode.hasError('required')">Pincode required</mat-error>
                              <mat-error *ngIf="personal.controls.personalPincode.hasError('pattern')">Enter Valid  Pin</mat-error>
                            </mat-form-field>
                          </div>

                          <div class="col-md-6">
                            <mat-form-field class="w-100">
                              <input matInput placeholder="State" formControlName="personalState" autocomplete="off" required readonly>
                              <mat-error *ngIf="personal.controls.personalState.errors?.required">State is required</mat-error>
                            </mat-form-field>
                          </div>

                          <div class="col-md-6">
                            <mat-form-field  class="w-100">
                              <input matInput placeholder="District" formControlName="personalDistrict" autocomplete="off" required readonly>
                              <mat-error *ngIf="personal.controls.personalDistrict.errors?.required">District is required</mat-error>
                            </mat-form-field>
                          </div>
                          <div class="col-md-6">
                            <mat-form-field  class="w-100">
                              <input matInput placeholder="City" formControlName="personalCity" autocomplete="off" required readonly>
                              <mat-error *ngIf="personal.controls.personalCity.errors?.required">City is required</mat-error>
                            </mat-form-field>
                          </div>
                          <div class="col-md-6">
                            <mat-form-field class="w-100">
                              <mat-select  placeholder="Area" formControlName="personalArea" (change)="typeAddressDeatils()" required  class="w-100">
                                <mat-option *ngFor="let list of proposalPArea" [value]= 'list.area_id'> {{list.area_name}} </mat-option>
                              </mat-select>
                              <mat-error *ngIf="personal.controls.personalArea.errors?.required">Area is required</mat-error>
                            </mat-form-field>
                          </div>
                          <div class="col-md-6">
                            <mat-form-field class="w-100">
                              <input matInput placeholder="Nearest Land Mark" formControlName="personalNearestLandMark" (keyup)="typeAddressDeatils()" autocomplete="off">
                            </mat-form-field>
                          </div>
                          <div class="col-md-6">
                            <mat-form-field class="w-100">
                              <input matInput placeholder="Country Name" formControlName="personalCountry" (keyup)="typeAddressDeatils()" autocomplete="off">
                            </mat-form-field>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="box-card addressBox">
                        <div class="row">
                          <h6 class="color-blue ml-3">RESIDENCE ADDRESS</h6>
                          <div class="text-right w-50">
                            <mat-checkbox formControlName="sameas" (change)="sameAddress($event)" ><strong>Same as Communication Address</strong></mat-checkbox>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-12">
                            <mat-form-field class="w-100">
                              <input matInput placeholder="Address 1" formControlName="residenceAddress" required autocomplete="off" [readonly]="inputReadonly">
                              <mat-error *ngIf="personal.controls.residenceAddress.errors?.required">Address is required</mat-error>
                            </mat-form-field>
                          </div>
                          <div class="col-md-12">
                            <mat-form-field class="w-100">
                              <input matInput placeholder="Address 2" formControlName="residenceAddress2" autocomplete="off" [readonly]="inputReadonly" required>
                              <mat-error *ngIf="personal.controls.residenceAddress2.errors?.required">Address2 is required</mat-error>
                            </mat-form-field>
                          </div>
                          <div class="col-md-12">
                            <mat-form-field class="w-100">
                              <input matInput placeholder="Address 3" formControlName="residenceAddress3" autocomplete="off"  [readonly]="inputReadonly">
                              <mat-error *ngIf="personal.controls.residenceAddress3.errors?.required">Address3 is required</mat-error>
                            </mat-form-field>
                          </div>

                          <div class="col-md-6">
                            <mat-form-field class="w-100">
                              <input matInput placeholder="PIN Code" formControlName="residencePincode" pattern="[1-9][0-9]{5}" (keypress)="numberValidate($event)" minlength="6" [readonly]="inputReadonly"    maxlength="6" (input)="commonPincode($event.target.value, 'proposalR')" autocomplete="off"  required>
                              <mat-error *ngIf="personal.controls.residencePincode.hasError('minlength')">Pin should be 6 digits</mat-error>
                              <mat-error *ngIf="personal.controls.residencePincode.hasError('required')">Pincode required</mat-error>
                              <mat-error *ngIf="personal.controls.residencePincode.hasError('pattern')">Enter Valid  Pin</mat-error>
                            </mat-form-field>
                          </div>

                          <div class="col-md-6">
                            <mat-form-field class="w-100">
                              <input matInput placeholder="State" formControlName="residenceState" autocomplete="off"  required [readonly]="inputReadonly">
                            </mat-form-field>
                          </div>

                          <div class="col-md-6">
                            <mat-form-field  class="w-100">
                              <input matInput placeholder="District" formControlName="residenceDistrict" autocomplete="off" required [readonly]="inputReadonly">
                              <mat-error *ngIf="personal.controls.residenceDistrict.errors?.required">District is required</mat-error>
                            </mat-form-field>
                          </div>
                          <div class="col-md-6">
                            <mat-form-field class="w-100" >
                              <input matInput placeholder="City" formControlName="residenceCity" autocomplete="off" required [readonly]="inputReadonly" >
                              <mat-error *ngIf="personal.controls.residenceCity.errors?.required">City is required</mat-error>
                            </mat-form-field>
                          </div>

                          <div class="col-md-6">
                            <mat-form-field class="w-100">
                              <mat-select  placeholder="Area" formControlName="residenceArea" required  class="w-100" [disabled]="inputReadonly">
                                <mat-option *ngFor="let list of proposalRArea" [value]= 'list.area_id'> {{list.area_name}} </mat-option>
                              </mat-select>
                              <mat-error *ngIf="personal.controls.residenceArea.errors?.required">Area is required</mat-error>
                            </mat-form-field>
                          </div>
                          <!--<div class="col-md-6">-->
                          <!--<mat-form-field class="w-100">-->
                          <!--<input matInput placeholder="Fax"  (keypress)="numberValidate($event)"   maxlength="11" formControlName="personalFax" autocomplete="off">-->
                          <!--<mat-error *ngIf="personal.controls.personalFax.errors?.required">fax is required</mat-error>-->
                          <!--</mat-form-field>-->
                          <!--</div>-->
                          <div class="col-md-6">
                          <mat-form-field class="w-100">
                            <input matInput placeholder="Nearest Land Mark" formControlName="residenceNearestLandMark" autocomplete="off"  [readonly]="inputReadonly" >
                          </mat-form-field>
                        </div>
                          <div class="col-md-6">
                            <mat-form-field class="w-100">
                              <input matInput placeholder="Country Name" formControlName="residenceCountry" [readonly]="inputReadonly" autocomplete="off">
                            </mat-form-field>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="col-md-12 box-card pt-3">
                    <div class="row">
                      <h6 class="color-blue ml-3">Home Burglary Details</h6>
                      <div class="text-right w-50">
                        <mat-checkbox formControlName="sameas" (change)="sameBurglaryAddress($event)" ><strong>Same as Communication Address</strong></mat-checkbox>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Email ID"   formControlName="personalBurglaryEmail"  autocomplete="off">
                          <mat-error *ngIf="personal.controls.personalBurglaryEmail.hasError('pattern')">Please Enter Correct Format</mat-error>
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Mobile No" formControlName="personalBurglaryMobileNo" maxlength="10" minlength="10" (keypress)="numberValidate($event)" autocomplete="off">
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Phone No" formControlName="personalBurglaryPhoneNo" maxlength="12" minlength="12" (keypress)="numberValidate($event)"  autocomplete="off">
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                      <mat-form-field class="w-100">
                      <input matInput placeholder="Fax" formControlName="personalBurglaryFax" (keypress)="numberValidate($event)"   maxlength="11" autocomplete="off">
                      </mat-form-field>
                      </div>
                      <div class="col-md-4">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Address 1" formControlName="personalBurglaryAddress"  autocomplete="off" [readonly]="inputBurglaryReadonly">
                        </mat-form-field>
                      </div>
                      <div class="col-md-4">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Address 2" formControlName="personalBurglaryAddress2" autocomplete="off" [readonly]="inputBurglaryReadonly">
                        </mat-form-field>
                      </div>
                      <div class="col-md-4">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Address 3" formControlName="personalBurglaryAddress3" autocomplete="off" [readonly]="inputBurglaryReadonly">
                        </mat-form-field>
                      </div>

                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="PIN Code" formControlName="personalBurglaryPincode" pattern="[1-9][0-9]{5}" minlength="6"   maxlength="6" (input)="commonPincode($event.target.value, 'proposalB')" autocomplete="off" [readonly]="inputBurglaryReadonly">
                          <mat-error *ngIf="personal.controls.personalBurglaryPincode.hasError('minlength')">Pin should be 6 digits</mat-error>
                          <mat-error *ngIf="personal.controls.personalBurglaryPincode.hasError('pattern')">Enter Valid  Pin</mat-error>
                        </mat-form-field>
                      </div>

                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="State" formControlName="personalBurglaryState" autocomplete="off" [readonly]="inputBurglaryReadonly" >
                        </mat-form-field>
                      </div>

                      <div class="col-md-3">
                        <mat-form-field  class="w-100">
                          <input matInput placeholder="District" formControlName="personalBurglaryDistrict" autocomplete="off" [readonly]="inputBurglaryReadonly">
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field  class="w-100">
                          <input matInput placeholder="City" formControlName="personalBurglaryCity" autocomplete="off" [readonly]="inputBurglaryReadonly">
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <mat-select  placeholder="Area" formControlName="personalBurglaryArea" [disabled]="inputBurglaryReadonly">
                            <mat-option *ngFor="let list of proposalBArea" [value]= 'list.area_id'> {{list.area_name}} </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Nearest Land Mark" formControlName="personalBurglaryNearestLandMark" [readonly]="inputBurglaryReadonly" autocomplete="off">
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Country Name" formControlName="personalBurglaryCountry" [readonly]="inputBurglaryReadonly" autocomplete="off">
                        </mat-form-field>
                      </div>
                    </div>
                  </div>

                  <div class="col-md-12 box-card pt-3">
                    <div class="row">
                      <h6 class="color-blue ml-3">Sponsor Details</h6>
                      <div class="text-right w-50">
                        <mat-checkbox formControlName="sameas" (change)="sameSponsorAddress($event)" ><strong>Same as Communication Address</strong></mat-checkbox>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Sponsor Name" formControlName="personalSponsorFullname"  (keypress)="nameValidate($event)"  autocomplete="off">
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Email ID"   formControlName="personalSponsorEmail"  autocomplete="off">
                          <mat-error *ngIf="personal.controls.personalSponsorEmail.hasError('pattern')">Please Enter Correct Format</mat-error>
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Mobile No" formControlName="personalSponsorMobileNo" maxlength="10" minlength="10" (keypress)="numberValidate($event)" autocomplete="off">
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Phone No" formControlName="personalSponsorPhoneNo" maxlength="12" minlength="12" (keypress)="numberValidate($event)"  autocomplete="off">
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Address" formControlName="personalSponsorAddress"  autocomplete="off" [readonly]="inputSponsorReadonly">
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="PIN Code" formControlName="personalSponsorPincode" pattern="[1-9][0-9]{5}" minlength="6"   maxlength="6" (input)="commonPincode($event.target.value, 'proposalS')" autocomplete="off" [readonly]="inputSponsorReadonly">
                          <mat-error *ngIf="personal.controls.personalSponsorPincode.hasError('minlength')">Pin should be 6 digits</mat-error>
                          <mat-error *ngIf="personal.controls.personalSponsorPincode.hasError('pattern')">Enter Valid  Pin</mat-error>
                        </mat-form-field>
                      </div>

                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="State" formControlName="personalSponsorState" autocomplete="off" [readonly]="inputSponsorReadonly" >
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field  class="w-100">
                          <input matInput placeholder="City" formControlName="personalSponsorCity" autocomplete="off" [readonly]="inputSponsorReadonly">
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Country Name" formControlName="personalSponsorCountry"  autocomplete="off" [readonly]="inputSponsorReadonly">
                        </mat-form-field>
                      </div>
                    </div>
                  </div>
                    <div class="col-md-12 box-card pt-3">
                        <div class="row">
                            <h6 class="color-blue ml-3">Company Details</h6>
                        </div>
                        <div class="row">
                            <div class="col-md-3">
                                <mat-form-field class="w-100">
                                    <input matInput placeholder="Company Name" formControlName="personalCompanyFullname"  (keypress)="nameValidate($event)"  autocomplete="off">
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field class="w-100">
                                    <input matInput placeholder="Email ID"   formControlName="personalCompanyEmail"  autocomplete="off">
                                    <mat-error *ngIf="personal.controls.personalCompanyEmail.hasError('pattern')">Please Enter Correct Format</mat-error>
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field class="w-100">
                                    <input matInput placeholder="Mobile No" formControlName="personalCompanyMobileNo" maxlength="10" minlength="10" (keypress)="numberValidate($event)" autocomplete="off">
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field class="w-100">
                                    <input matInput placeholder="Phone No" formControlName="personalCompanyPhoneNo" maxlength="12" minlength="12" (keypress)="numberValidate($event)"  autocomplete="off">
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field class="w-100">
                                    <input matInput placeholder="Fax" formControlName="personalCompanyFax" (keypress)="numberValidate($event)"   maxlength="11" autocomplete="off">
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field class="w-100">
                                    <input matInput placeholder="Address 1" formControlName="personalCompanyAddress"  autocomplete="off">
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field class="w-100">
                                    <input matInput placeholder="Address 2" formControlName="personalCompanyAddress2" autocomplete="off">
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field class="w-100">
                                    <input matInput placeholder="Address 3" formControlName="personalCompanyAddress3" autocomplete="off">
                                </mat-form-field>
                            </div>

                            <div class="col-md-3">
                                <mat-form-field class="w-100">
                                    <input matInput placeholder="PIN Code" formControlName="personalCompanyPincode" pattern="[1-9][0-9]{5}" minlength="6"   maxlength="6" (input)="commonPincode($event.target.value, 'proposalC')" autocomplete="off">
                                    <mat-error *ngIf="personal.controls.personalCompanyPincode.hasError('minlength')">Pin should be 6 digits</mat-error>
                                    <mat-error *ngIf="personal.controls.personalCompanyPincode.hasError('pattern')">Enter Valid  Pin</mat-error>
                                </mat-form-field>
                            </div>

                            <div class="col-md-3">
                                <mat-form-field class="w-100">
                                    <input matInput placeholder="State" formControlName="personalCompanyState" autocomplete="off">
                                </mat-form-field>
                            </div>

                            <div class="col-md-3">
                                <mat-form-field  class="w-100">
                                    <input matInput placeholder="District" formControlName="personalCompanyDistrict" autocomplete="off">
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field  class="w-100">
                                    <input matInput placeholder="City" formControlName="personalCompanyCity" autocomplete="off">
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field class="w-100">
                                    <mat-select  placeholder="Area" formControlName="personalCompanyArea">
                                        <mat-option *ngFor="let list of proposalCArea" [value]= 'list.area_id'> {{list.area_name}} </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field class="w-100">
                                    <input matInput placeholder="Nearest Land Mark" formControlName="personalCompanyNearestLandMark" autocomplete="off">
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field class="w-100">
                                    <input matInput placeholder="Country Name" formControlName="personalCompanyCountry" autocomplete="off">
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                  <div class="col-md-12 box-card pt-3">
                    <div class="row">
                      <h6 class="color-blue ml-3">Doctor Details</h6>
                      <div class="text-right w-50">
                        <p>Is Doctor Details</p>
                        <mat-radio-group formControlName="IsDoctorDetails" >
                          <mat-radio-button value="true" class="mr-2">Yes</mat-radio-button>
                          <mat-radio-button value="false">No</mat-radio-button>
                        </mat-radio-group>
                      </div>
                    </div>
                    <div class="row" *ngIf="personal['controls'].IsDoctorDetails.value == 'true'">
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Doctor Name" formControlName="personalDoctorFullname"  (keypress)="nameValidate($event)"  autocomplete="off">
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Email ID"   formControlName="personalDoctorEmail"  autocomplete="off">
                          <mat-error *ngIf="personal.controls.personalDoctorEmail.hasError('pattern')">Please Enter Correct Format</mat-error>
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Mobile No" formControlName="personalDoctorMobileNo" maxlength="10" minlength="10" (keypress)="numberValidate($event)" autocomplete="off">
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Phone No" formControlName="personalDoctorPhoneNo" maxlength="12" minlength="12" (keypress)="numberValidate($event)"  autocomplete="off">
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Fax" formControlName="personalDoctorFax" (keypress)="numberValidate($event)"   maxlength="11" autocomplete="off">
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Address 1" formControlName="personalDoctorAddress"  autocomplete="off">
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Address 2" formControlName="personalDoctorAddress2" autocomplete="off">
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Address 3" formControlName="personalDoctorAddress3" autocomplete="off">
                        </mat-form-field>
                      </div>

                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="PIN Code" formControlName="personalDoctorPincode" pattern="[1-9][0-9]{5}" minlength="6"   maxlength="6" (input)="commonPincode($event.target.value, 'proposalD')" autocomplete="off">
                          <mat-error *ngIf="personal.controls.personalDoctorPincode.hasError('minlength')">Pin should be 6 digits</mat-error>
                          <mat-error *ngIf="personal.controls.personalDoctorPincode.hasError('pattern')">Enter Valid  Pin</mat-error>
                        </mat-form-field>
                      </div>

                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="State" formControlName="personalDoctorState" autocomplete="off">
                        </mat-form-field>
                      </div>

                      <div class="col-md-3">
                        <mat-form-field  class="w-100">
                          <input matInput placeholder="District" formControlName="personalDoctorDistrict" autocomplete="off">
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field  class="w-100">
                          <input matInput placeholder="City" formControlName="personalDoctorCity" autocomplete="off">
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <mat-select  placeholder="Area" formControlName="personalDoctorArea">
                            <mat-option *ngFor="let list of proposalDArea" [value]= 'list.area_id'> {{list.area_name}} </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Nearest Land Mark" formControlName="personalDoctorNearestLandMark" autocomplete="off">
                        </mat-form-field>
                      </div>
                      <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Country Name" formControlName="personalDoctorCountry" autocomplete="off">
                        </mat-form-field>
                      </div>
                    </div>
                  </div>
                  <div class="proposal-buttom mt-3 text-right w-100">
                    <!--<button mat-raised-button color="primaryBlue"  (click)="personalDetails(stepper, personal.value)" >Next</button>-->
                    <button mat-button matStepperNext>Next</button>
                  </div>
                </div>
              </mat-expansion-panel>
            </form>
          </mat-accordion>
        </mat-step>
        <mat-step [stepControl]="">
          <ng-template matStepLabel>INSURER DETAILS</ng-template>
          <mat-accordion class="w-100 float-left">
            <form [formGroup]="relianceInsuredTravel">
              <div formArrayName="items" *ngFor="let item of relianceInsuredTravel.get('items')['controls']; let i = index;">
                <mat-expansion-panel  [formGroupName]="i" [expanded]="i == 0">
                  <mat-expansion-panel-header>
                    <!--<mat-panel-title> {{relianceInsuredTravel['controls'].items['controls'][i]['controls'].type.value}}-->
                    <!--</mat-panel-title>-->
                  </mat-expansion-panel-header>
                  <ng-template matStepLabel>INSURED DETAILS </ng-template>
                  <div class="row mt-3">
                    <div class="col-md-12 box-card pt-3">
                      <h6 class="color-blue">INSURED DETAILS</h6>
                        <div class="row">
                          <div class="col-md-12 mb-3" *ngIf="i == 0">
                            <mat-checkbox formControlName="sameAsProposer" (change)="sameProposer($event)"><strong>Same as proposer</strong></mat-checkbox>
                          </div>
                          <div class="col-md-3" [ngStyle]="{'pointer-events': relianceInsuredTravel['controls'].items['controls'][i]['controls'].sameAsProposer.value ? 'none' : ''}">
                            <mat-form-field class="w-100">
                              <mat-select placeholder="Title" formControlName="personalTitle" (change)="insureChangeGender(i)" required>
                                <mat-option value="MR">Mr</mat-option>
                                <mat-option value="MS">Ms</mat-option>
                              </mat-select>
                              <mat-error *ngIf="relianceInsuredTravel.invalid">Title is required</mat-error>
                            </mat-form-field>
                          </div>
                          <div class="col-md-3">
                            <mat-form-field class="w-100">
                              <input matInput placeholder="First Name" formControlName="personalFirstname"  (keypress)="nameValidate($event)" autocomplete="off" required [readonly]="relianceInsuredTravel['controls'].items['controls'][i]['controls'].sameAsProposer.value" >
                              <mat-error *ngIf="relianceInsuredTravel.invalid">First Name is required</mat-error>
                            </mat-form-field>
                          </div>
                          <div class="col-md-3">
                            <mat-form-field class="w-100">
                              <input matInput placeholder="Last Name" formControlName="personalLastname"  (keypress)="nameValidate($event)" autocomplete="off" required [readonly]="relianceInsuredTravel['controls'].items['controls'][i]['controls'].sameAsProposer.value" >
                              <mat-error *ngIf="relianceInsuredTravel.invalid">Last Name is required</mat-error>
                            </mat-form-field>
                          </div>
                          <div class="col-md-3">
                            <mat-form-field class="w-100">
                              <input matInput placeholder="Gender" formControlName="personalGender" required readonly autocomplete="off">
                              <mat-error *ngIf="relianceInsuredTravel.invalid">Gender is required</mat-error>
                            </mat-form-field>
                          </div>
                          <div class="col-md-3"><mat-form-field class="w-100">
                            <input matInput [max]="minDate" [matDatepicker]="picker1" placeholder="DOB (DD/MM/YYYY)"   formControlName="InsDOB" (dateInput)="addEventInsurer($event, i, relianceInsuredTravel['controls'].items['controls'][i]['controls'].type.value)" (dateChange)="addEventInsurer($event, i,relianceInsuredTravel['controls'].items['controls'][i]['controls'].type.value)" (keypress)="dobValidate($event)"  minlength="10"  maxlength="10" autocomplete="off" required readonly="{{relianceInsuredTravel['controls'].items['controls'][i]['controls'].sameasreadonly.value}}">
                            <mat-datepicker-toggle matSuffix [for]="picker1"  disabled="{{relianceInsuredTravel['controls'].items['controls'][i]['controls'].sameasreadonly.value}}"></mat-datepicker-toggle>
                            <mat-datepicker #picker1></mat-datepicker>
                            <mat-error *ngIf="relianceInsuredTravel.invalid">DOB is required</mat-error>
                          </mat-form-field>
                            <p class="error mb-0" *ngIf="relianceInsuredTravel['controls'].items['controls'][i]['controls'].insurerDobError.value != ''">{{relianceInsuredTravel['controls'].items['controls'][i]['controls'].insurerDobError.value}}</p>
                            <p class="error mb-0" *ngIf="relianceInsuredTravel['controls'].items['controls'][i]['controls'].insurerDobValidError.value != ''">{{relianceInsuredTravel['controls'].items['controls'][i]['controls'].insurerDobValidError.value}}</p>
                          </div>
                          <div class="col-md-3">
                            <mat-form-field class="w-100">
                              <mat-select  placeholder="Occupation" formControlName="occupation" required  class="w-100">
                                <mat-option *ngFor="let list of PersonalOccupation" value = '{{list.occupation_id}}'> {{list.occupation_name}} </mat-option>
                              </mat-select>
                              <mat-error *ngIf="relianceInsuredTravel.invalid">Occupation is required</mat-error>
                            </mat-form-field>
                          </div>
                          <div class="col-md-3">
                            <mat-form-field class="w-100">
                              <input matInput placeholder="Email ID"   formControlName="personalEmail"  autocomplete="off" required>
                              <mat-error *ngIf="relianceInsuredTravel.invalid">Email Id is required</mat-error>
                            </mat-form-field>
                          </div>
                          <div class="col-md-3">
                            <mat-form-field class="w-100">
                            <mat-select placeholder="Relationship with Proposer"  formControlName="relationship" required>
                              <mat-option *ngFor="let lists of Relationship" value="{{lists.insured_id}}" >
                                {{lists.insured_relationship_with_proposer}}
                              </mat-option>
                            </mat-select>
                            <mat-error *ngIf="relianceInsuredTravel.invalid">Relationship is required</mat-error>
                          </mat-form-field>
                          </div>
                          <div class="col-md-3" ><mat-form-field class="w-100">
                            <input matInput placeholder="passport" class="text-uppercase" minlength="8" maxlength="8" formControlName="passport" pattern="^[A-PR-WYa-pr-wy][1-9]\d\s?\d{4}[1-9]$" autocomplete="off"  (keypress)="idValidate($event)" required>
                            <mat-error *ngIf="relianceInsuredTravel.invalid">Pass Port is required</mat-error>
                          </mat-form-field>
                          </div>
                          <div class="col-md-3">
                            <mat-form-field class="w-100">
                              <input matInput placeholder="Mobile Number"  (keypress)="numberValidate($event)"   maxlength="10" formControlName="personalMobile" autocomplete="off" required>
                              <mat-error *ngIf="relianceInsuredTravel.invalid">Mobile Number is required</mat-error>
                            </mat-form-field>
                          </div>
                          <div class="col-md-3">
                            <mat-form-field class="w-100">
                              <input matInput placeholder="Phone Number"  (keypress)="numberValidate($event)"  maxlength="12" formControlName="personalPhone" autocomplete="off" >
                            </mat-form-field>
                          </div>
                          <div class="col-md-3">
                            <mat-form-field class="w-100">
                              <mat-select placeholder="Visiting Countries" formControlName="VisitingCountries">
                                <mat-option  *ngFor="let countries of VisitingCountry" value="{{countries.visiting_name}}">{{countries.visiting_name}}</mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="col-md-12 box-card pt-3">
                            <h6 class="color-blue">Medication DETAILS</h6>
                            <div class="row">
                              <div class="col-md-3">
                                <p>Is Under Medication</p>
                                <mat-radio-group formControlName="IsUnderMedication" >
                                  <mat-radio-button value="true" class="mr-2">Yes</mat-radio-button>
                                  <mat-radio-button value="false">No</mat-radio-button>
                                </mat-radio-group>
                              </div>
                              <div class="col-md-3" *ngIf="relianceInsuredTravel['controls'].items['controls'][i]['controls'].IsUnderMedication.value == 'true'">
                                <mat-form-field class="w-100">
                                  <mat-select placeholder="Pre Existing Illness" formControlName="PreExistingIllness">
                                    <mat-option  *ngFor="let disease of PreExistingIllness" value="{{disease.disease_name}}">{{disease.disease_name}}</mat-option>
                                  </mat-select>
                                </mat-form-field>
                              </div>
                              <div class="col-md-3" *ngIf="relianceInsuredTravel['controls'].items['controls'][i]['controls'].IsUnderMedication.value == 'true'">
                                <mat-form-field class="w-100">
                                  <input matInput [max]="minDate" [matDatepicker]="picker2" placeholder="Suffering Since (DD/MM/YYYY)"   formControlName="SufferingSince"  (keypress)="dobValidate($event)"  minlength="10"  maxlength="10" autocomplete="off" >
                                  <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                                  <mat-datepicker #picker2></mat-datepicker>
                                </mat-form-field>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-12 box-card pt-3">
                            <h6 class="color-blue">NOMINEE DETAILS</h6>
                            <div class="row">
                              <div class="col-md-6">
                                <mat-form-field class="w-100">
                                  <input matInput placeholder="Name of Nominee"  formControlName="nomineeName" (keypress)="nameValidate($event)" autocomplete="off" required>
                                  <mat-error *ngIf="relianceInsuredTravel.invalid">Name of Nominee is required</mat-error>
                                </mat-form-field>
                              </div>
                              <div class="col-md-6">
                                <mat-form-field class="w-100">
                                  <mat-select placeholder="Relationship with Proposer" formControlName="nomineeRelationship" required>
                                    <mat-option  *ngFor="let relation of Relationship"  value="{{relation.insured_relationship_with_proposer}}">{{relation.insured_relationship_with_proposer}}</mat-option>
                                  </mat-select>
                                  <mat-error *ngIf="relianceInsuredTravel.invalid">Nominee Relationship is required</mat-error>
                                </mat-form-field>
                              </div>
                            </div>
                          </div>
                        <div class="proposal-buttom mt-3 text-right w-100">
                          <button mat-button matStepperPrevious  (click)="topScroll()">Back</button>
                          <!--<button mat-raised-button color="primaryBlue"  (click)="personalDetails(stepper, personal.value)" >Next</button>-->
                          <button mat-button matStepperNext>Next</button>
                        </div>
                        </div>
                    </div>
                  </div>
                </mat-expansion-panel>
              </div>
            </form>
          </mat-accordion>
        </mat-step>
          <mat-step [stepControl]="">
              <ng-template matStepLabel>Risk Details</ng-template>
              <mat-accordion class="w-100 float-left ">
                  <form [formGroup]="riskDetails">
                      <mat-expansion-panel expanded>
                          <mat-expansion-panel-header>
                              <mat-panel-title>
                                  Risk Details
                              </mat-panel-title>
                          </mat-expansion-panel-header>
                          <ng-template matStepLabel>Risk Details</ng-template>
                          <div class="row mt-1">
                              <div class="col-md-12 box-card pt-3 pb-3" >
                                  <div class="row col-md-12">
                                      <div class="col-md-8">
                                          Is Indian Citizen
                                      </div>
                                      <div class="col-md-4 text-right">
                                              <mat-slide-toggle formControlName="indian" (change)="indiaChange($event,'india')"></mat-slide-toggle>
                                      </div>
                                  </div>
                              </div>
                              <div class="proposal-buttom mt-3 text-right w-100">
                                  <button mat-button matStepperPrevious  (click)="topScroll()" >Back</button>
                                  <button mat-raised-button color="primaryBlue" (click)="medicalHistoryDetails(stepper)">Next</button>
                              </div>
                              <!--</div>-->
                          </div>
                      </mat-expansion-panel>
                  </form>
              </mat-accordion>
          </mat-step>
      </mat-horizontal-stepper>
    </div>
  </div>
</div>
