
<div class="container-fuild dashboard h-100" fxLayoutAlign="center center" *ngIf="firstPage">
  <div class="row" fxLayoutAlign="center center ">
    <h2 class="w-100 text-center" fxLayoutAlign="center center" style="color: #F50091"><button mat-icon-button color="accent">
      <img src="assets/img/Health-Insurance.png" class="w-75 h-75">
    </button>Health Insurance</h2>
    <div class="col-md-7 col-sm-12 col-xs-12 pr-0">
      <mat-card class="mat-radius" style="box-shadow: none; padding: 68px !important; ">
        <mat-card-content>
          <h3 class="w-100 text-center">About Health Insurance</h3>
          <p>Health Insurance is a kind of Insurance that deals with the wellness of your finances when you fall ill. Health Insurance fully or partially covers the expenses INCURRED due to health and sickness related procedures at the hospital.â€¦ <button mat-button color="accent" (click)="healthInsurer()"> Know More</button></p>
          <figure fxLayoutAlign="center center"><img src="assets/img/Vaidhini-&-Kid2.png" style="width: auto" alt=""> </figure>
        </mat-card-content>
      </mat-card>
    </div>
    <div class="col-md-4 col-sm-12 col-xs-12 pl-0">
      <mat-card style="background: linear-gradient(to top, #ccccff 0%, #ffccff 100%) !important;">
        <mat-card-header><h5>Health Insurance plans for..</h5></mat-card-header>
        <mat-form-field class="w-100">
          <mat-select placeholder="SUM INSURED" [(ngModel)]="selectedAmount" name="suminsure" (change)="changeAmount()" >
            <mat-option *ngFor="let amounts of sumInsuredAmountLists" [value]="amounts.si_id">
              {{amounts.si_amount}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <div *ngIf="sumerror" class="ngError">Required</div>

        <div class="w-100 mb-2 son" >
          <div id="clonehead">
            <div class="row" fxLayoutAlign="center center" *ngFor="let item of setArray; let i = index">
              <div class="col-md-2"><mat-checkbox [(ngModel)]="item.checked" [disabled]="item.disabled" (change)="ckeckedUser(item.checked, i, item.name)"></mat-checkbox></div>
              <div class="col-md-3">{{item.name}}</div>
              <div class="col-md-5"> <mat-form-field class="w-100">
                <input matInput placeholder="Age" [(ngModel)]="item.age" autocomplete="off" [disabled]="item.disabled" maxlength="3" (keypress)="numberOnly($event)"  alt="{{i}}" (keyup)="typeAge(item.checked, item.name, i, item.age)" max="{{item.name}}" >
              </mat-form-field>
                <div *ngIf="item.error != ''" class="ngError">Required</div>
              </div>
            </div>
          </div>
          <div class="mt-3 text-center">
            <button mat-raised-button color="primary" type="button" [disabled]="sonBTn" (click)="addUser('Son', 2)"><i class="material-icons">add_circle_outline</i> Son</button>
            <button mat-raised-button color="accent" class="accentDaughter" type="button" [disabled]="daughterBTn" (click)="addUser('Daughter', 3)"><i class="material-icons">add_circle_outline</i> Daughter</button>

            <button mat-raised-button color="accent" type="button" [matMenuTriggerFor]="menu"><i class="material-icons">add_circle_outline</i> OTHERS</button>
            <mat-menu #menu="matMenu">
              <button mat-menu-item (click)="addOthers('Father')" [disabled]="fatherBTn">Father</button>
              <button mat-menu-item (click)="addOthers('Mother')" [disabled]="motherBtn">Mother</button>
              <button mat-menu-item (click)="addOthers('Father In Law')" [disabled]="fatherInLawBTn">Father-In-Law</button>
              <button mat-menu-item (click)="addOthers('Mother In Law')" [disabled]="motherInLawBtn">Mother-In-Law</button>
              <button mat-menu-item (click)="addOthers('Brother')">Brother</button>
              <button mat-menu-item (click)="addOthers('Sister')">Sister</button>
            </mat-menu>
          </div>
        </div>
        <mat-form-field class="w-100">
          <input matInput maxlength="6" [(ngModel)]="pincoce"  placeholder="PIN CODE" (keypress)="numberOnly($event)" (keyup)="selectPincode()">
          <mat-icon matSuffix>place</mat-icon>
        </mat-form-field>
        <div *ngIf="pinerror" class="ngError">Required</div>
        <div fxLayoutAlign="center center" class="mt-3">
          <button mat-raised-button color="accent" type="button" (click)="getPolicyQuotationList()">Proceed</button>
        </div>

      </mat-card>
    </div>
  </div>
</div>

<!--second page-->

<div class="row " id="product-list" fxLayoutAlign="center start">
  <div class="col-sm-9">
    <div fxLayout="column" *ngIf="secondPage">
      <div class="flex-p">
        <mat-card [ngClass]="compareArray != '' ? 'margin-bottom170' : ''">
          <mat-card-header fxLayoutAlign="left left">
          </mat-card-header>
          <mat-card-content>
            <h4 class="color-pink"  routerLink="/healthinsurance" style="cursor: pointer"><img  src="assets/img/health-icon.png" class="h-icon" alt="5"> Health Insurance</h4>
            <mat-tab-group #tabGroup [selectedIndex]="tabIndex" (selectedIndexChange)="onSelectedIndexChange($event)">
              <mat-tab class="headerColor" *ngFor="let lists of insuranceLists;let pi = index"  (click)="changeTab()">
                <ng-template matTabLabel>
                  <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                       width="20" height="80"
                       viewBox="0 0 24 24"
                       style="fill:#ffffff;"><g id="surface1"><path style=" " d="M 12 5 C 9.789063 5 8 6.789063 8 9 C 8 11.210938 9.789063 13 12 13 C 14.210938 13 16 11.210938 16 9 C 16 6.789063 14.210938 5 12 5 Z M 4.5 6 C 3.121094 6 2 7.121094 2 8.5 C 2 9.878906 3.121094 11 4.5 11 C 5.878906 11 7 9.878906 7 8.5 C 7 7.121094 5.878906 6 4.5 6 Z M 19.5 6 C 18.121094 6 17 7.121094 17 8.5 C 17 9.878906 18.121094 11 19.5 11 C 20.878906 11 22 9.878906 22 8.5 C 22 7.121094 20.878906 6 19.5 6 Z M 12 7 C 13.105469 7 14 7.894531 14 9 C 14 10.105469 13.105469 11 12 11 C 10.894531 11 10 10.105469 10 9 C 10 7.894531 10.894531 7 12 7 Z M 4.5 13 C 1.082031 13 0 15.65625 0 15.65625 L 0 17 L 4.0625 17 L 4.09375 16.9375 C 4.144531 16.824219 5.015625 14.894531 7.34375 13.78125 C 6.660156 13.339844 5.726563 13 4.5 13 Z M 19.5 13 C 18.273438 13 17.339844 13.339844 16.65625 13.78125 C 18.984375 14.894531 19.855469 16.824219 19.90625 16.9375 L 19.9375 17 L 24 17 L 24 15.65625 C 24 15.65625 22.917969 13 19.5 13 Z M 12 14 C 6.683594 14 5 18 5 18 L 5 20 L 19 20 L 19 18 C 19 18 17.316406 14 12 14 Z M 12 16 C 15.433594 16 16.53125 18 16.53125 18 L 7.46875 18 C 7.46875 18 8.609375 16 12 16 Z "></path></g></svg>
                    <p class="ml-2 mt-3">{{lists.name | uppercase}}</p>
                </ng-template>
                <table class="table health-table" *ngIf="lists.product_lists !='' ">
                  <thead>
                  <tr>
                    <th>INSURER</th>
                    <th>SUM INSURED</th>
                    <th>KEY FEATURES</th>
                    <th>COMPARE</th>
                    <th>PREMIUM</th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr class="" *ngFor="let plists of lists.product_lists;let i = index">
                    <td *ngIf="plists.error">
                      {{plists.error}}
                    </td>
                    <td>
                      <p class="color-green">{{plists.product_name | titlecase}}</p>
                      <img  src="{{webhost + '/' + plists.company_logo}}" style="width: 100px;" alt="5">
                    </td>
                    <td>
                      <p>{{plists.suminsured_amount | currency: 'INR'}}</p>
                    </td>
                    <td style="width: 40%">

                      <div class="row" fxLayoutAlign="left center" *ngFor="let keys of plists.key_features">
                        <div class="col-md-6 ">
                          <li>{{keys.key_features_name}}</li>
                        </div>
                        <div class="col-md-6 ">
                          <!--<a style="color: #777272f0" *ngIf="keys.key_features_value == ''">-</a>-->
                          <a style="color: #777272f0">{{keys.key_features_value}}</a>
                        </div>
                      </div>

                      <div class="text-right pr-2 pl-2">
                        <p class="linkClor" style="cursor: pointer" (click)="viewKeyList(plists)">View Details / Product Documents</p>
                      </div>

                    </td>
                    <td>
                      <!--<p><button mat-raised-button color="primary1" style="color:#fff;" [hidden]="plists.shortlist" (click)="addShortlist(plists, pi, i, lists.enquiry_id, lists.name)">Add to Shortlist</button></p>-->
                      <!--<p><button mat-raised-button color="accentRemove" *ngIf="plists.removebtn" (click)="removeShortlist(plists, pi, i, lists.enquiry_id, plists.shortlist_id)">Remove from Shortlist</button></p>-->
                      <!--<p><button mat-raised-button disabled *ngIf="plists.shortlist && plists.currentBtn">Add to Shortlist</button></p>-->


                      <p><button mat-raised-button color="primary" [hidden]="plists.compare"  (click)="addCompare(plists, pi, i, lists.enquiry_id, lists.name)">Add to Compare</button></p>
                      <p><button mat-raised-button disabled *ngIf="plists.compare">Add to Compare</button></p>
                    </td>
                    <td>
                      <p class="text-center">{{plists.premium_amount | currency: 'INR'}} / Yr</p>
                      <p><button mat-raised-button color="accent" (click)="buyProduct(plists, lists.enquiry_id,lists.name)">Buy</button></p>
                    </td>
                  </tr>

                  </tbody>
                </table>
                <table class="table health-table" *ngIf="lists.product_lists =='' ">
                  <th class="text-center" class="color-pink"> No product matched your selection </th>
                </table>
                <!--</mat-card-content>-->
                <mat-divider></mat-divider>
                <!--</mat-card>-->

              </mat-tab>
              <!--<mat-tab label="SHORLIST {{shortListCount}}" [disabled]="!nonEditable">-->
                <!--<table class="table health-table">-->
                  <!--<thead>-->
                  <!--<tr>-->
                    <!--<th>Group</th>-->
                    <!--<th>INSURER</th>-->
                    <!--<th>SUM INSURED</th>-->
                    <!--<th>KEY FEATURES</th>-->
                    <!--<th>INDIVIDUAL PREMIUM</th>-->
                    <!--<th>PREMIUM</th>-->
                  <!--</tr>-->
                  <!--</thead>-->
                  <!--<tbody>-->
                  <!--<tr class="" *ngFor="let plists of shortlistArray;let i = index">-->
                    <!--<td>-->
                      <!--<p class="color-green">{{plists.group_name }}</p>-->
                    <!--</td>-->
                    <!--<td>-->
                      <!--<p class="color-green">{{plists.product_name }}</p>-->
                      <!--<img  src="{{webhost + '/' + plists.company_logo}}" style="width: 100px;" alt="5">-->
                    <!--</td>-->
                    <!--<td>-->
                      <!--<p>{{plists.suminsured_amount | currency: 'INR'}}</p>-->
                    <!--</td>-->
                    <!--<td style="width: 40%">-->
                      <!--<div class="row" fxLayoutAlign="left center" *ngFor="let keys of plists.key_features">-->
                        <!--<div class="col-md-6 ">-->
                          <!--<li>{{keys.key_features_name}}</li>-->
                        <!--</div>-->
                        <!--<div class="col-md-6 ">-->
                          <!--<a style="color: #777272f0">{{keys.key_features_value}}</a>-->
                        <!--</div>-->
                      <!--</div>-->

                    <!--</td>-->
                    <!--<td>-->
                      <!--<p>{{plists.premium_amount | currency: 'INR'}}</p>-->
                      <!--<p><button mat-raised-button color="accentRemove" *ngIf="plists.removebtn" (click)="removeShortlistPage(plists, pi, i, plists.enq_id, plists.shortlist_id)">Remove from Shortlist</button></p>-->
                      <!--<p><button mat-raised-button color="accent">Buy</button></p>-->
                    <!--</td>-->
                    <!--<td >-->
                      <!--<p>{{plists.premium_amount | currency: 'INR'}}</p>-->
                      <!--<p><button mat-raised-button color="accent">Buy</button></p>-->
                    <!--</td>-->
                  <!--</tr>-->

                  <!--</tbody>-->
                <!--</table>-->
              <!--</mat-tab>-->
            </mat-tab-group>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </div>
  <div class="col-md-3 product-choose"  [ngClass]="{'non-editable': nonEditable}">

    <div  *ngIf="secondPage" >
      <div class="row" fxLayoutAlign="left center">
        <div class="col-md-12">
          <mat-card class="custom-card">
            <mat-card-header class="p-2" >
              <mat-card-title class="m-0">
                <h6>Your Selections</h6>
              </mat-card-title>
            </mat-card-header>
            <mat-card-content>
              <div class="row" fxLayoutAlign="left center">
                <mat-radio-group><br>
                  <mat-radio-button [checked]="true" value="1">{{currentGroupName}}</mat-radio-button>
                </mat-radio-group>
              </div>

              <div class="row" fxLayoutAlign="left center">
                <div class="col-md-6">
                  <span>Sum Assured</span>
                </div>
                <div class="col-md-6">
                  <mat-form-field class="w-100">
                    <mat-select [(ngModel)]="changeSuninsuredAmount" name="suminsure" (change)="changeSuminsured($event)">
                      <mat-option  *ngFor="let amounts of sumInsuredAmountLists" [value]="amounts.si_id">
                        {{amounts.si_amount}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>

              <div class="row" fxLayoutAlign="center center" *ngFor="let item of setArray; let i = index">
                <div class="col-md-2"><mat-checkbox [(ngModel)]="item.checked" *ngIf="item.auto" [disabled]="true" (change)="ckeckedUser(item.checked, i, item.name)" ></mat-checkbox></div>
                <div class="col-md-4" *ngIf="item.auto">{{item.name}}</div>
                <div class="col-md-6" *ngIf="item.auto"> <mat-form-field class="w-100" >
                  <input matInput placeholder="age" name="age" [(ngModel)]="item.age" (change)="ageChange()">
                </mat-form-field>
                </div>

              </div>
              <div class="row" fxLayoutAlign="left center">
                <div class="col-md-6">
                  <span>Pincode</span>
                </div>
                <div class="col-md-6">
                  <mat-form-field class="w-100">
                    <input matInput name="pin" name="pin" [disabled]="true"  [(ngModel)]="pincoce">
                  </mat-form-field>
                </div>
              </div>
              <div fxLayoutAlign="center center" class="son">
                <button mat-raised-button color="accent" type="button" (click)="updateFunction()">Update</button>
              </div>

            </mat-card-content>
          </mat-card>
        </div>
      </div>


    </div>
  </div>
</div>
<div class="row compar-fix" *ngIf="compareArray != ''">
  <div style="width: 200px" *ngFor="let clists of compareArray; let i = index">
    <div fxLayout="column" class="flex-p">
      <mat-card class="custom-card compare-icon text-center">
        <div class="text-right closeBtnClass">
          <mat-icon (click)="removeCompare(i, clists.index, tabIndex)">close</mat-icon>
        </div>
        <mat-card-content class="p-0">
          <p class="color-green mb-0 text-center">{{clists.product_name}}</p>
          <img mat-card-image  src="{{webhost + '/' + clists.company_logo}}" >
        </mat-card-content>
      </mat-card>
    </div>
  </div>
  <div class="col-md-2" fxLayoutAlign="left center" *ngIf="compareArray != ''">
    <button mat-raised-button color="accent" (click)="compareList(compareArray)">COMPARE NOW</button>
  </div>
</div>

<form action="http://localhost:4203/#/paymentSuccess"  method='POST' enctype='text/plain' #form>

  <div>
    <input type='hidden' name='csrf' value="test"/>
    <input type='hidden' name='policyNumber' value="india"/>
  </div>
  <!--<button mat-raised-button color="primary"  (click)="form.submit()">Pay Now</button>-->
</form>
