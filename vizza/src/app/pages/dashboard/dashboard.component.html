<div class="container dashboard h-100" fxLayoutAlign="center center" *ngIf="firstPage">
    <div class="row" fxLayoutAlign="center start">
        <div class="col-md-7 col-sm-12 col-xs-12">
            <mat-card class="mat-radius">
                <mat-card-header fxLayoutAlign="space-between center">
                <h2>Health Insurance</h2>
                    <button mat-icon-button color="accent">
                        <mat-icon aria-label="Example icon-button with a heart icon">favorite</mat-icon>
                    </button>
                </mat-card-header>
                <mat-card-content>
                <p>The Health Insurance plans that We at Vizza Provide are the best rated
                    throughout the Insurance Market.</p>
                   <p> We provide you with all the adequate and necessary information
                    beforehand, so that you can choose the bbest plans to protect your
                    loved ones, just as we wouldâ€¦</p>
                <figure fxLayoutAlign="center center"><img src="assets/img/Vaidhini-&-Kid2.png" style="width: 100%" alt=""> </figure>
                </mat-card-content>
            </mat-card>
        </div>
        <div class="col-md-4 col-sm-12 col-xs-12">
<mat-card>
    <mat-card-header><h5>Health Insurance plans for..</h5></mat-card-header>

        <mat-form-field class="w-100">
            <mat-select placeholder="SUM INSURED" [(ngModel)]="selectedAmount" name="suminsure" (change)="changeAmount()">
                <mat-option *ngFor="let amounts of sumInsuredAmountLists" [value]="amounts.si_id">
                    {{amounts.si_amount}}
                </mat-option>
            </mat-select>
            <!--<mat-icon matSuffix>attach_money</mat-icon>-->
        </mat-form-field>
        <div *ngIf="sumerror" class="ngError">Required</div>

     <div class="w-100 mb-2 son" >
         <div id="clonehead" >
            <div class="row" fxLayoutAlign="center center" *ngFor="let item of setArray; let i = index">
                <div class="col-md-2"><mat-checkbox [(ngModel)]="item.checked" [disabled]="item.disabled" (change)="ckeckedUser(item.checked, i, item.name)" ></mat-checkbox></div>
                <div class="col-md-3">{{item.name}}</div>
                <div class="col-md-5"> <mat-form-field class="w-100">
                    <input matInput placeholder="age" name="age" [(ngModel)]="item.age" maxlength="3" (keypress)="numberOnly($event)" (keyup)="typeAge()">
                </mat-form-field>
                    <div *ngIf="item.error != ''" class="ngError">Required</div>
                </div>
                <!--<div class="col-md-2">-->
                    <!--<button mat-button [hidden]="item.auto" matSuffix mat-icon-button aria-label="Clear" (click)="addUser(i)">-->
                        <!--<i class="material-icons">-->
                            <!--add-->
                        <!--</i>-->
                    <!--</button>-->

                <!--</div>-->
            </div>
         </div>
         <div class="mt-3">
             <button mat-raised-button color="accent" type="button" [disabled]="sonBTn" (click)="addUser('Son', 2)"><i class="material-icons">add_circle_outline</i> Son</button>
             <button mat-raised-button color="accent" type="button" [disabled]="daughterBTn" (click)="addUser('Daughter', 3)"><i class="material-icons">add_circle_outline</i> Daughter</button>

             <button mat-raised-button color="accent" type="button" [matMenuTriggerFor]="menu"><i class="material-icons">add_circle_outline</i> OTHERS</button>
             <mat-menu #menu="matMenu">
                 <button mat-menu-item (click)="addOthers('Father')" [disabled]="fatherBTn">Father</button>
                 <button mat-menu-item (click)="addOthers('Mother')" [disabled]="motherBtn">Mother</button>
                 <button mat-menu-item (click)="addOthers('Father In Law')" [disabled]="fatherInLawBTn">Father-In-Law</button>
                 <button mat-menu-item (click)="addOthers('Mother In Law')" [disabled]="motherInLawBtn">Mother-In-Law</button>
                 <button mat-menu-item (click)="addOthers('Brother')">Brother</button>
                 <button mat-menu-item (click)="addOthers('Sister')">Sister</button>
             </mat-menu>
             </div>
     </div>
        <mat-form-field class="w-100">
            <input matInput name="pin" name="pin" [(ngModel)]="pincoce" placeholder="PIN CODE / CITY"  (keyup)="selectPincode()">
            <mat-icon matSuffix>place</mat-icon>
        </mat-form-field>
        <div *ngIf="pinerror" class="ngError">Required</div>

        <div fxLayoutAlign="center center" class="mt-3">
        <button mat-raised-button color="accent" type="submit" (click)="insureList()">Submit</button>
        </div>

</mat-card>
        </div>
    </div>
</div>

<!--second page-->

<div class="row " id="product-list" fxLayoutAlign="center start">
    <div class="col-sm-9">
        <div fxLayout="column" *ngIf="secondPage">
            <div class="flex-p">
                <mat-card>
                    <mat-card-header fxLayoutAlign="left left">
                    </mat-card-header>
                    <mat-card-content>
                        <h4 style="color: #008e7b"><img  src="assets/img/health-icon.png" class="h-icon" alt="5"> Health Insurance</h4>
                        <mat-tab-group #tabGroup [selectedIndex]="tabIndex" (selectedIndexChange)="onSelectedIndexChange($event)">
                            <mat-tab class="headerColor" *ngFor="let lists of insuranceLists;let pi = index" label="{{lists.name | uppercase}}" (click)="changeTab()">
                                <table class="table health-table">
                                    <thead>
                                    <tr>
                                        <th width="100">INSURER</th>
                                        <th width="200">SUM INSURED</th>
                                        <th width="600">KEY FEATURES</th>
                                        <th width="200">SHORTLIST / COMPARE</th>
                                        <th width="200">PREMIUM</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr *ngFor="let plists of lists.product_lists;let i = index">
                                        <td *ngIf="plists.error">
                                            {{plists.error}}
                                        </td>
                                        <td>
                                            <p class=" text-center" style="color: #008e7b">{{plists.product_name}}</p>
                                            <img  src="{{webhost + '/' + plists.company_logo}}" style="width: 100px;" alt="5">
                                        </td>
                                        <td>
                                            <p>Rs. {{plists.suminsured_amount}}</p>
                                        </td>
                                        <td>

                                            <div class="row" fxLayoutAlign="left center" >
                                                <div class="col-md-6 " *ngFor="let keys of plists.key_features"><li>{{keys.key_features_name}}</li></div>
                                            </div>
                                            <div class="text-right pr-2 pl-2" style="background-color: #eeeef3;">
                                                <p style="color: #008e7b">View Details / Product Documents</p>
                                            </div>

                                        </td>
                                        <td>
                                            <p><button mat-raised-button color="primary1" style="color:#fff;" [disabled]="plists.shortlist" [hidden]="plists.removebtn" (click)="addShortlist(plists, pi, i)">Add to Shortlist</button></p>
                                            <p><button mat-raised-button color="accent" *ngIf="plists.removebtn" (click)="removeShortlist(plists, pi, i)">Remove to Shortlist</button></p>
                                            <p><button mat-raised-button color="primary" [disabled]="plists.compare" (click)="addCompare(plists, pi, i, lists.enquiry_id, lists.name)">Add to Compare</button></p>
                                        </td>
                                        <td class=" font-weight-bold">
                                            <p >Rs. {{plists.premium_amount}}</p>
                                            <button mat-raised-button color="accent">Buy</button>
                                        </td>
                                    </tr>

                                    </tbody>
                                </table>
                                <!--</mat-card-content>-->
                                <mat-divider></mat-divider>
                                <!--</mat-card>-->

                            </mat-tab>
                            <mat-tab label="SHORLIST {{scount}}">
                            </mat-tab>
                        </mat-tab-group>
                    </mat-card-content>
                </mat-card>
            </div>
        </div>
    </div>
    <div class="col-md-3 product-choose"  >

        <div  *ngIf="secondPage" >
            <div class="row" fxLayoutAlign="left center">
                <div class="col-md-12">
                    <mat-card class="custom-card">
                        <mat-card-header class="p-2" >
                            <mat-card-title class="m-0">
                                <h6>Your Selections</h6>
                            </mat-card-title>
                        </mat-card-header>
                        <mat-card-content>
                            <div class="row" fxLayoutAlign="left center">
                                <mat-radio-group><br>
                                    <mat-radio-button [checked]="true" value="1">Group A</mat-radio-button>
                                </mat-radio-group>
                            </div>

                            <div class="row" fxLayoutAlign="left center">
                                <div class="col-md-6">
                                    <span>Sum Assured</span>
                                </div>
                                <div class="col-md-6">
                                    <mat-form-field class="w-100">
                                    <mat-select [(ngModel)]="selectedAmount" name="suminsure" (change)="changeAmount()">
                                        <mat-option *ngFor="let amounts of sumInsuredAmountLists" [value]="amounts.si_id">
                                            {{amounts.si_amount}}
                                        </mat-option>
                                    </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>

                            <div class="row" fxLayoutAlign="center center" *ngFor="let item of setArray1; let i = index">
                                <div class="col-md-2"><mat-checkbox [(ngModel)]="item.checked" [disabled]="item.disabled" (change)="ckeckedUser(item.checked, i, item.name)" ></mat-checkbox></div>
                                <div class="col-md-4">{{item.name}}</div>
                                <div class="col-md-6"> <mat-form-field class="w-100">
                                    <input matInput placeholder="age" name="age" [(ngModel)]="item.age">
                                </mat-form-field>

                                </div>
                                    <!--<div class="col-md-2">-->
                                        <!--<button mat-button [hidden]="item.auto" matSuffix mat-icon-button aria-label="Clear" (click)="addUser(i)">-->
                                            <!--<i class="material-icons">-->
                                                <!--add-->
                                            <!--</i>-->
                                        <!--</button>-->
                                    <!--</div>-->
                            </div>
                            <div class="row" fxLayoutAlign="left center">
                                <div class="col-md-6">
                                    <span>City Pincode</span>
                                </div>
                                <div class="col-md-6">
                                    <mat-form-field class="w-100">
                                        <input matInput name="pin" name="pin" [(ngModel)]="pincoce">
                                    </mat-form-field>
                                </div>
                            </div>

                        </mat-card-content>
                    </mat-card>
                </div>
            </div>


    </div>
</div>
</div>
<div class="row" *ngIf="compareArray != ''">
    <div class="col-md-3" *ngFor="let clists of compareArray; let i = index">
        <div fxLayout="column" class="flex-p">
        <mat-card class="custom-card compare-icon text-center">
            <div class="text-right closeBtnClass">
                <mat-icon (click)="removeCompare(i)">close</mat-icon>
            </div>
            <mat-card-content class="p-0">
                <p class="color-green mb-0 text-center">{{clists.product_name}}</p>
                <img mat-card-image  src="{{webhost + '/' + clists.company_logo}}" >
            </mat-card-content>
        </mat-card>
        </div>
    </div>
    <div class="col-md-2" fxLayoutAlign="left center" *ngIf="compareArray != ''">
        <button mat-raised-button color="accent" (click)="compareList(compareArray)">COMPARE NOW</button>
    </div>
</div>
