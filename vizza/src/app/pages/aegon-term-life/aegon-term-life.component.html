<section class="d-none d-sm-none d-xl-block d-lg-block d-md-none">
  <div class="container-fluid">
    <div class="row religareHealthProposal">
      <div class="col-md-12">
        <mat-horizontal-stepper  #stepper >
          <mat-step [stepControl]="personal">
            <form [formGroup]="personal" >
              <ng-template matStepLabel>PROPOSER DETAILS</ng-template>
              <mat-accordion class="w-100 float-left">
                <mat-expansion-panel expanded>
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      PROPOSER DETAILS
                    </mat-panel-title>
                  </mat-expansion-panel-header>

                  <div class="row">
                    <div class="col-md-12 box-card pt-3">
                      <!--<h6 class="color-blue">PROPOSER DETAILS</h6>-->
                      <div class="row">
                        <div class="col-md-3">
                          <mat-form-field class="w-100">
                            <mat-select placeholder="Title" formControlName="title"  required>
                              <mat-option value="MR">Mr</mat-option>
                              <mat-option value="MS">Ms</mat-option>
                              <!--<mat-option value="MRS">Mrs</mat-option>-->
                            </mat-select>
                            <mat-error *ngIf="personal.controls.title.errors?.required">Title is required</mat-error>

                          </mat-form-field>
                        </div>
                        <div class="col-md-3">
                          <mat-form-field class="w-100">
                            <input matInput placeholder="First Name" formControlName="firstName" (keypress)="nameValidate($event)"  autocomplete="off" required >
                            <mat-error *ngIf="personal.controls.firstName.errors?.required">First Name is required</mat-error>
                          </mat-form-field>
                        </div>
                        <div class="col-md-3">
                          <mat-form-field class="w-100">
                            <input matInput placeholder="Middle Name" formControlName="middleName" (keypress)="nameValidate($event)"  autocomplete="off"  >
                            <mat-error *ngIf="personal.controls.middleName.errors?.required">First Name is required</mat-error>
                          </mat-form-field>
                        </div>
                        <div class="col-md-3">
                          <mat-form-field class="w-100">
                            <input matInput placeholder="Last Name" formControlName="lastName" (keypress)="nameValidate($event)" autocomplete="off" required >
                            <mat-error *ngIf="personal.controls.lastName.errors?.required">Last Name is required</mat-error>

                          </mat-form-field>
                        </div>
                        <div class="col-md-3">
                          <mat-form-field class="w-100">
                            <mat-select placeholder="Gender" formControlName="gender" (change)="getMaritalList()" (change)="getEmpType()" (change)="getnomineerelationship()" required>
                              <mat-option value="M">Male</mat-option>
                              <mat-option value="F">Female</mat-option>
                            </mat-select>
                            <mat-error *ngIf="personal.controls.gender.errors?.required">Gender is required</mat-error>

                          </mat-form-field>
                        </div>
                        <div class="col-md-3">
                          <mat-form-field class="w-100">
                            <input matInput [matDatepicker]="picker1" [max]="today" placeholder="DOB (DD/MM/YYYY)" (keypress)="dobValidate($event)"    formControlName="dob" (dateInput)="addEvent( $event)" (dateChange)="addEvent( $event)"  minlength="10"  maxlength="10"   autocomplete="off"  required >
                            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                            <mat-datepicker #picker1></mat-datepicker>
                            <mat-error *ngIf="personal.controls.dob.errors?.required">DOB is required</mat-error>
                          </mat-form-field>
                          <div class="error" *ngIf="dateError != ''">{{dateError}}</div>
                        </div>
                        <div class="col-md-3"><mat-form-field class="w-100">
                          <input matInput placeholder="Mobile Number" formControlName="mobile" minlength="10"  maxlength="10" (keypress)="numberValidate($event)" autocomplete="off" required>
                          <mat-error *ngIf="personal.controls.mobile.errors?.required">Mobile Number is required</mat-error>
                          <mat-error *ngIf="personal.controls.mobile.hasError('pattern')">Enter Valid  Mobile Number</mat-error>

                        </mat-form-field></div>

                        <div class="col-md-3"><mat-form-field class="w-100">
                          <input matInput placeholder="Email ID"   formControlName="email"  autocomplete="off" required>
                          <mat-error *ngIf="personal.controls.email.errors?.required">Email ID is required</mat-error>
                          <mat-error *ngIf="personal.controls.email.hasError('pattern')">Please Enter Correct Format</mat-error>

                        </mat-form-field></div>
                        <div class="col-md-3">
                          <mat-form-field class="w-100">
                            <input matInput placeholder="Father Name" formControlName="fatherName" (keypress)="nameValidate($event)"  autocomplete="off"  >
                            <mat-error *ngIf="personal.controls.fatherName.errors?.required">Father Name is required</mat-error>
                          </mat-form-field>
                        </div>

                        <div class="col-md-3">
                          <mat-form-field class="w-100">
                            <mat-select placeholder="Marital Status" formControlName="maritalStatus" autocomplete="off" (change)="getnomineerelationship()">
                              <mat-option *ngFor="let list of maritialList | keys" [value]= 'list.key'>
                                {{list.value}}
                              </mat-option>
                              <!--<mat-option value="MRS">Mrs</mat-option>-->
                            </mat-select>
                            <mat-error *ngIf="personal.controls.maritalStatus.errors?.required">Maritial Status is required</mat-error>

                          </mat-form-field>
                        </div>
                        <div class="col-md-3">
                        <mat-form-field class="w-100">
                          <mat-select placeholder="Qualification" formControlName="qualifiction"  (change)="changeQualificationList()">
                            <mat-option *ngFor="let list of qualificationList | keys" [value]= 'list.key'>
                              {{list.value}}
                            </mat-option>

                            <!--<mat-option value="MRS">Mrs</mat-option>-->
                          </mat-select>
                          <mat-error *ngIf="personal.controls.qualifiction.errors?.required">Qualifiction is required</mat-error>

                        </mat-form-field>
                        </div>
                        <div class="col-md-3" *ngIf=" personal.controls.qualifiction.value == '15'">
                          <mat-form-field class="w-100">
                            <input matInput placeholder="Qualifiction Other" formControlName="qualifictionOther" (keypress)="nameValidate($event)"  autocomplete="off"  [required]="qualificationList" >
                            <mat-error *ngIf="personal.controls.qualifictionOther.errors?.required">Qualifiction Other is required</mat-error>
                          </mat-form-field>
                        </div>

                        <div class="col-md-3">
                          <mat-form-field class="w-100">
                            <mat-select placeholder="Employee Type" formControlName="employeeType" autocomplete="off" required (change)="changeEmpType()">
                              <mat-option *ngFor="let list of empTypeList | keys" [value]= 'list.value'>
                                {{list.value}}
                              </mat-option>

                            </mat-select>
                            <mat-error *ngIf="personal.controls.employeeType.errors?.required">Employee Type is required</mat-error>
                          </mat-form-field>
                        </div>
                        <!--<div class="col-md-3">-->
                          <!--<mat-form-field class="w-100">-->
                            <!--<input matInput placeholder="Employee Type" formControlName="employeeType" (keypress)="nameValidate($event)"  autocomplete="off"  >-->
                            <!--<mat-error *ngIf="personal.controls.employeeType.errors?.required">Employee Type is required</mat-error>-->
                          <!--</mat-form-field>-->
                        <!--</div>-->
                        <div class="col-md-3">
                          <mat-form-field class="w-100">
                            <mat-select placeholder="Nature Of Work" formControlName="natureOfWork" autocomplete="off" required (change)="changeOccupationlist()" >
                              <mat-option *ngFor="let list of occupationList | keys" [value]= 'list.value'>
                                {{list.value}}
                              </mat-option>

                            </mat-select>
                            <mat-error *ngIf="personal.controls.natureOfWork.errors?.required">Nature of work is required</mat-error>
                          </mat-form-field>
                        </div>
                        <div class="col-md-3">
                          <mat-form-field class="w-100">
                            <input matInput placeholder="Annual Income" formControlName="annualIncome" (keypress)="numberValidate($event)" (keyup)="getAnnual()" required autocomplete="off" >
                            <mat-error *ngIf="personal.controls.annualIncome.errors?.required">Annual Income is required</mat-error>
                          </mat-form-field>
                          <!--<div class="error" *ngIf="personal.controls['incomeError'].value != ''">{{personal.controls['incomeError'].value}}</div>-->
                        </div>

                        <div class="col-md-3">
                          <mat-form-field class="w-100">
                              <input matInput placeholder="Diabete Duration(Year)" formControlName="diabeteDuration" (keypress)="numberValidate($event)"  autocomplete="off"  >
                              <mat-error *ngIf="personal.controls.diabeteDuration.errors?.required">Diabete Duration is required</mat-error>
                            </mat-form-field>

                        </div>

                        <div class="col-md-3">
                          <mat-radio-group formControlName="smoker">
                            <p>Smoker</p>
                            <mat-radio-button value="Y" class="mr-2">Yes</mat-radio-button>
                            <mat-radio-button value="N">No</mat-radio-button>
                          </mat-radio-group>
                        </div>
                        <div class="col-md-3">
                          <mat-radio-group formControlName="isExistingPolicyHolder" >
                            <p>Is Existing Policy Holder</p>
                            <mat-radio-button value="Y" class="mr-2">Yes</mat-radio-button>
                            <mat-radio-button value="N">No</mat-radio-button>
                          </mat-radio-group>
                        </div>
                        <div class="col-md-3">
                          <mat-radio-group formControlName="isPoliticleExposed" >
                            <p>Politically Exposed Person</p>
                            <mat-radio-button value="Y" class="mr-2">Yes</mat-radio-button>
                            <mat-radio-button value="N">No</mat-radio-button>
                          </mat-radio-group>
                        </div>


                        <div class="col-md-3">
                          <mat-radio-group formControlName="isHousewife" >
                            <p>Is Housewife</p>
                            <mat-radio-button value="Y" class="mr-2">Yes</mat-radio-button>
                            <mat-radio-button value="N">No</mat-radio-button>
                          </mat-radio-group>
                        </div>
                        <div class="col-md-3">
                          <mat-radio-group formControlName="isHusbandCover" >
                            <p>Is Husband Cover</p>
                            <mat-radio-button value="Y" class="mr-2">Yes</mat-radio-button>
                            <mat-radio-button value="N">No</mat-radio-button>
                          </mat-radio-group>
                        </div>


                      </div>
                    </div>


                    <div class="row" fxLayoutAlign="center center">
                      <div class="col-md-6">
                        <div class="box-card addressBox">
                          <h6 class="color-blue">PERMANENT ADDRESS</h6>
                          <div class="row">
                            <div class="col-md-12">
                              <mat-form-field class="w-100">
                                <input #message maxlength="80" matInput placeholder="Permanent Address 1" formControlName="pAddress1"  autocomplete="off" required>
                                 <mat-error *ngIf="personal.controls.pAddress1.errors?.required">Address 1 is required</mat-error>
                              </mat-form-field>
                            </div>
                            <div class="col-md-12">
                              <mat-form-field class="w-100">
                                <input #message maxlength="80" matInput placeholder="Permanent Address 2" formControlName="pAddress2"  autocomplete="off" required>
                                <mat-error *ngIf="personal.controls.pAddress2.errors?.required">Address 2 is required</mat-error>
                              </mat-form-field>
                            </div>

                            <div class="col-md-6"><mat-form-field class="w-100">

                              <mat-select placeholder="State" formControlName="pState" autocomplete="off" (change)="changeState()" required="" >
                                <mat-option *ngFor="let list of stateList | keys" [value]= 'list.value'>
                                  {{list.value}}
                                </mat-option>
                              </mat-select>
                              <mat-error *ngIf="personal.controls.pState.errors?.required">State is required</mat-error>
                            </mat-form-field></div>
                            <div class="col-md-3">
                              <mat-form-field class="w-100">
                                <mat-select placeholder="City" formControlName="pCity" autocomplete="off" required (change)="changeCitylist()">
                                  <mat-option *ngFor="let list of cityList | keys" [value]= 'list.value'>
                                    {{list.value}}
                                  </mat-option>
                                </mat-select>
                                <mat-error *ngIf="personal.controls.pCity.errors?.required">city is required</mat-error>
                              </mat-form-field>
                            </div>

                            <!--<div class="col-md-6">-->
                              <!--<mat-form-field class="w-100">-->
                                <!--<input #message maxlength="80" matInput placeholder="City" formControlName="pCity"  autocomplete="off" required>-->
                                <!--<mat-error *ngIf="personal.controls.pCity.errors?.required">City is required</mat-error>-->
                              <!--</mat-form-field>-->
                            <!--</div>-->
                            <div class="col-md-6"><mat-form-field class="w-100">
                              <input matInput placeholder="PIN Code"  pattern="[1-9][0-9]{5}" (keypress)="numberValidate($event)" minlength="6"   maxlength="6"  formControlName="pPincode" autocomplete="off" required (input)="getPostal($event.target.value,'personal')">
                              <mat-error *ngIf="personal.controls.pPincode.hasError('minlength')">Pin should be 6 digits</mat-error>
                              <mat-error *ngIf="personal.controls.pPincode.hasError('required')">Pincode required</mat-error>
                              <mat-error *ngIf="personal.controls.pPincode.hasError('pattern')">Enter Valid  Pin</mat-error>
                            </mat-form-field></div>





                          </div>
                        </div>
                      </div>

                      <div class="col-md-6">
                        <div class="box-card addressBox">
                          <div class="row">
                            <h6 class="color-blue ml-3">COMMUNICATION ADDRESS</h6>
                            <div class="text-right w-50">
                              <mat-checkbox formControlName="isAddressSame" (change)="sameAddress($event)" ><strong>Same as Personal Address</strong></mat-checkbox>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-12">
                              <mat-form-field class="w-100">
                                <input #message maxlength="80" matInput placeholder="Communication Address 1" formControlName="cAddress1"  autocomplete="off" [readonly]="this.personal.controls['isAddressSame'].value" >
                                <mat-error *ngIf="personal.controls.cAddress1.errors?.required">Address 1 is required</mat-error>
                              </mat-form-field>
                            </div>
                            <div class="col-md-12">
                              <mat-form-field class="w-100">
                                <input #message maxlength="80" matInput placeholder="Communication Address 2" formControlName="cAddress2"  autocomplete="off" [readonly]="this.personal.controls['isAddressSame'].value">
                                <mat-error *ngIf="personal.controls.cAddress2.errors?.required">Address 2 is required</mat-error>
                              </mat-form-field>
                            </div>
                            <div class="col-md-6" [ngStyle]="{'pointer-events': this.personal.controls['isAddressSame'].value ? 'none' : ''}">
                              <mat-form-field class="w-100">
                                <mat-select placeholder="State" formControlName="cState" autocomplete="off" (change)="changecState()">
                                  <mat-option *ngFor="let list of stateList | keys" [value]= 'list.value'>
                                    {{list.value}}
                                  </mat-option>
                                </mat-select>
                                <mat-error *ngIf="personal.controls.cState.errors?.required">State is required</mat-error>
                              </mat-form-field></div>


                            <div class="col-md-6"  [ngStyle]="{'pointer-events': this.personal.controls['isAddressSame'].value ? 'none' : ''}">
                              <mat-form-field class="w-100" (change)="changecCitylist()" >
                              <mat-select placeholder="City" formControlName="cCity" autocomplete="off" >
                                <mat-option *ngFor="let city of citycList | keys" [value]= 'city.value'>
                                  {{city.value}}
                                </mat-option>
                              </mat-select>
                              <mat-error *ngIf="personal.controls.cCity.errors?.required">City is required</mat-error>
                            </mat-form-field></div>
                            <!--<div class="col-md-6">-->
                              <!--<mat-form-field class="w-100">-->
                                <!--<input #message maxlength="80" matInput placeholder="City" formControlName="cCity"  autocomplete="off" [readonly]="this.personal.controls['isAddressSame'].value">-->
                                <!--<mat-error *ngIf="personal.controls.cCity.errors?.required">City is required</mat-error>-->
                              <!--</mat-form-field>-->
                            <!--</div>-->
                            <div class="col-md-6"><mat-form-field class="w-100">
                              <input matInput placeholder="PIN Code"  pattern="[1-9][0-9]{5}" (keypress)="numberValidate($event)" minlength="6"   maxlength="6"  formControlName="cPincode" autocomplete="off"  [readonly]="this.personal.controls['isAddressSame'].value" (input)="getPostal($event.target.value,'personal')" >
                              <mat-error *ngIf="personal.controls.cPincode.hasError('minlength')">Pincode should be 6 digits</mat-error>
                              <mat-error *ngIf="personal.controls.cPincode.hasError('required')">Pincode required</mat-error>
                              <mat-error *ngIf="personal.controls.cPincode.hasError('pattern')">Enter Valid  Pincode</mat-error>
                            </mat-form-field></div>




                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-12">
                        <h6 class="color-blue">ADD ON</h6>
                      </div>

                      <div class="col-md-4">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Death Benefit SA" formControlName="deathBenefitSA" maxlength="50" autocomplete="off" required (keypress)="nameValidate($event)"  (change)="checkSum()" readonly>
                          <mat-error *ngIf="personal.controls.deathBenefitSA.errors?.required">Death Benefit SA is required</mat-error>
                        </mat-form-field>
                      </div>
                      <div class="col-md-4">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Death Benefit TISA" formControlName="deathBenefitTISA" maxlength="50" autocomplete="off" required (keypress)="nameValidate($event)" (change)="checkSumAs()" readonly>
                          <mat-error *ngIf="personal.controls.deathBenefitTISA.errors?.required">Death Benefit TISA is required</mat-error>
                        </mat-form-field>
                      </div>
                      <div class="col-md-4" *ngIf = "lifePremiumList.benefit_option == 'L' || lifePremiumList.benefit_option == 'LP'">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Accidental Death Benefit" formControlName="adbrSumAssured" maxlength="8" minlength="5" autocomplete="off" required (keypress)="numberValidate($event)" (keypress)="validateAccidental($event)" >
                          <mat-error *ngIf="personal.controls.adbrSumAssured.errors?.required">Accidental Death Benefit is required</mat-error>
                        </mat-form-field>
                      </div>
                      <div class="col-md-5" *ngIf="lifePremiumList.benefit_option == 'LHP'">
                        <mat-form-field class="w-100" >
                          <input matInput placeholder=" Enhanced Critical Illness Benefit (Lump Sum)" formControlName="enchancedCISA" maxlength="50" autocomplete="off" (keyup)="validateCriticalIllness('LHP')" required (keypress)="numberValidate($event)" >
                          <mat-error *ngIf="personal.controls.enchancedCISA.errors?.required">Enhanced Critical Illness Benefit (Lump Sum) is required</mat-error>
                        </mat-form-field>
                      </div>
                      <div class="col-md-5" *ngIf="lifePremiumList.benefit_option == 'LH'">
                        <mat-form-field class="w-100">
                          <input matInput placeholder="Basic Critical Illness Benefit (Lump Sum)" formControlName="icirSumAssured" maxlength="50" autocomplete="off" (keyup)="validateCriticalIllness('LH')" required (keypress)="numberValidate($event)" >
                          <mat-error *ngIf="personal.controls.icirSumAssured.errors?.required">Basic Critical Illness Benefit (Lump Sum) is required</mat-error>
                        </mat-form-field>
                        <div class="error" *ngIf="personal.controls['criticalIllnessError'].value != ''">{{personal.controls['criticalIllnessError'].value}}</div>

                      </div>
                      </div>
                    <div class="proposal-buttom mt-3 text-right w-100">
                      <button mat-raised-button color="primaryBlue"  (click)="personalDetails(stepper, personal.value)" >Next</button>
                    </div>
                  </div>
                </mat-expansion-panel>
              </mat-accordion>
            </form>
          </mat-step>
          <!--nominee Details-->



          <mat-step [stepControl]="nominee">
            <form [formGroup]="nominee" >
              <ng-template matStepLabel>NOMINEE DETAILS</ng-template>
              <mat-accordion class="w-100 float-left">
                <mat-expansion-panel expanded>
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      NOMINEE DETAILS
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                      <div class="row">
                          <div class="col-md-12 box-card pt-3">
                            <!--<h6 class="color-blue">PROPOSER DETAILS</h6>-->
                            <div class="row">
                              <div class="col-md-3">
                                <mat-form-field class="w-100">
                                  <mat-select placeholder="Title" formControlName="ntitle"  required>
                                    <mat-option value="MR">Mr</mat-option>
                                    <mat-option value="MS">Ms</mat-option>
                                    <!--<mat-option value="MRS">Mrs</mat-option>-->
                                  </mat-select>
                                  <mat-error *ngIf="nominee.controls.ntitle.errors?.required">Title is required</mat-error>

                                </mat-form-field>
                              </div>
                              <div class="col-md-3">
                                <mat-form-field class="w-100">
                                  <input matInput placeholder="First Name" formControlName="nfirstName" (keypress)="nameValidate($event)"  autocomplete="off" required >
                                  <mat-error *ngIf="nominee.controls.nfirstName.errors?.required">First Name is required</mat-error>
                                </mat-form-field>
                              </div>

                              <div class="col-md-3">
                                <mat-form-field class="w-100">
                                  <input matInput placeholder="Last Name" formControlName="nlastName" (keypress)="nameValidate($event)" autocomplete="off" required >
                                  <mat-error *ngIf="nominee.controls.nlastName.errors?.required">Last Name is required</mat-error>

                                </mat-form-field>
                              </div>

                              <div class="col-md-3">
                                <mat-form-field class="w-100">
                                  <input matInput [matDatepicker]="picker2" [max]="today" placeholder="DOB (DD/MM/YYYY)" (keypress)="dobValidate($event)"    formControlName="ndob" (dateInput)="addDate( $event)" (dateChange)="addEvent( $event)" (input)="ageNominee()"  minlength="10"  maxlength="10"   autocomplete="off"  required >
                                  <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                                  <mat-datepicker #picker2></mat-datepicker>
                                  <mat-error *ngIf="nominee.controls.ndob.errors?.required">DOB is required</mat-error>
                                </mat-form-field>
                                <div class="error" *ngIf="dateError != ''">{{dateError}}</div>
                              </div>
                              <div class="col-md-3">
                                <mat-form-field class="w-100">
                                  <mat-select placeholder="Relation" formControlName="nRelation" autocomplete="off" required (change)="changenomineerelationship()">
                                    <mat-option *ngFor="let list of nomineeRelationship | keys" [value]= 'list.value'>
                                      {{list.value}}
                                    </mat-option>
                                  </mat-select>
                                 <mat-error *ngIf="nominee.controls.nRelation.errors?.required">Relation is required</mat-error>
                                </mat-form-field>
                              </div>
                              <div class="col-md-3" *ngIf="nominee.controls.nRelation.value == '9'"  >
                                <mat-form-field class="w-100">
                                  <input matInput placeholder="Relation Other" formControlName="relationOther" (keypress)="nameValidate($event)"  autocomplete="off" required >
                                  <mat-error *ngIf="nominee.controls.relationOther.errors?.required">Relation Other is required</mat-error>
                                </mat-form-field>
                              </div>
                              <div class="col-md-3">
                                <mat-form-field class="w-100">
                                  <input matInput placeholder="Address 1" formControlName="nAddress1" (keypress)="nameValidate($event)"  autocomplete="off" required >
                                  <mat-error *ngIf="nominee.controls.nAddress1.errors?.required">Address 1 is required</mat-error>
                                </mat-form-field>
                              </div>
                              <div class="col-md-3">
                                <mat-form-field class="w-100">
                                  <input matInput placeholder="Address 2" formControlName="nAddress2" (keypress)="nameValidate($event)"  autocomplete="off" required >
                                  <mat-error *ngIf="nominee.controls.nAddress2.errors?.required">Address 2 is required</mat-error>
                                </mat-form-field>
                              </div>

                              <div class="col-md-3"><mat-form-field class="w-100">
                                <input matInput placeholder="PIN Code"  pattern="[1-9][0-9]{5}" (keypress)="numberValidate($event)" minlength="6"   maxlength="6"  formControlName="nPincode" autocomplete="off" required (input)="getPostal($event.target.value,'nominee')">
                                <mat-error *ngIf="nominee.controls.nPincode.hasError('minlength')">Pin should be 6 digits</mat-error>
                                <mat-error *ngIf="nominee.controls.nPincode.hasError('required')">Pincode required</mat-error>
                                <mat-error *ngIf="nominee.controls.nPincode.hasError('pattern')">Enter Valid  Pin</mat-error>
                              </mat-form-field></div>


                              <div class="col-md-3"><mat-form-field class="w-100">
                                <mat-select placeholder="State" formControlName="nState" autocomplete="off" (change)="changenState()" >
                                  <mat-option *ngFor="let list of stateList | keys" [value]= 'list.value'>
                                    {{list.value}}
                                  </mat-option>
                                </mat-select>
                                <mat-error *ngIf="nominee.controls.nState.errors?.required">State is required</mat-error>
                              </mat-form-field></div>
                              <div class="col-md-6"><mat-form-field class="w-100" >
                                <mat-select placeholder="City" formControlName="nCity" autocomplete="off" (change)="changeNcitylist()">
                                  <mat-option *ngFor="let city of citynList | keys" [value]= 'city.value'>
                                    {{city.value}}
                                  </mat-option>

                                </mat-select>
                                <mat-error *ngIf="nominee.controls.nCity.errors?.required">City is required</mat-error>
                              </mat-form-field></div>
                              <!--<div class="col-md-3">-->
                                <!--<mat-form-field class="w-100">-->
                                  <!--<input matInput placeholder="City" formControlName="nCity" (keypress)="nameValidate($event)"  autocomplete="off" required >-->
                                  <!--<mat-error *ngIf="nominee.controls.nCity.errors?.required">City is required</mat-error>-->
                                <!--</mat-form-field>-->
                              <!--</div>-->

                              <div class="col-md-3">
                                <mat-form-field class="w-100">
                                  <input matInput placeholder="Percentage" formControlName="nPercentage" (keypress)="numberValidate($event)"  autocomplete="off" required >
                                  <mat-error *ngIf="nominee.controls.nPercentage.errors?.required">Percentage is required</mat-error>
                                </mat-form-field>
                              </div>


                              <!--Appointee details-->
                              <div *ngIf="apponiteeList">
                                <div class="row">
                                  <h6 class="color-blue mr-2" >APPOINTEE DETAILS</h6>
                                </div>
                                <div class="row">
                                  <div class="col-md-3">
                                    <mat-form-field class="w-100">
                                      <mat-select placeholder="Appointee Title" formControlName="atitle" >
                                        <mat-option value="MR">Mr</mat-option>
                                        <mat-option value="MS">Ms</mat-option>
                                        <!--<mat-option value="MRS">Mrs</mat-option>-->
                                      </mat-select>
                                      <!--<mat-error *ngIf="nominee.controls.atitle.errors?.required">Title is required</mat-error>-->

                                    </mat-form-field>
                                  </div>
                                  <div class="col-md-4">
                                    <mat-form-field class="w-100">
                                      <mat-placeholder> Appointee Full Name</mat-placeholder>
                                      <input matInput formControlName="aFullName"  (keypress)="nameValidate($event)" autocomplete="off">
                                      <!--<mat-error *ngIf="nominee.controls.aFullName.errors?.required">Apponitee Name is required</mat-error>-->

                                    </mat-form-field>
                                  </div>
                                  <div class="col-md-3">
                                    <mat-form-field class="w-100">
                                      <input matInput [matDatepicker]="picker3" [max]="today" placeholder="DOB (DD/MM/YYYY)" (keypress)="dobValidate($event)" formControlName="adob" (dateInput)="addEvent1( $event)" (dateChange)="addEvent1( $event)" minlength="10"  maxlength="10"   autocomplete="off">
                                      <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                                      <mat-datepicker #picker3></mat-datepicker>
                                      <!--<mat-error *ngIf="nominee.controls.adob.errors?.required">Appointee DOB is required</mat-error>-->
                                    </mat-form-field>
                                    <!--<div class="error" *ngIf="dateError2 != ''">{{dateError2}}</div>-->
                                  </div>
                                  <div class="col-md-3">
                                    <mat-form-field class="w-100">
                                      <mat-select placeholder="Appointee Relation" formControlName="aRelation" autocomplete="off"  (change)="changeAppointeerelationship()">
                                        <mat-option *ngFor="let list of appointeeRelationList | keys" [value]= 'list.value'>
                                          {{list.value}}
                                        </mat-option>
                                      </mat-select>
                                      <mat-error *ngIf="nominee.controls.aRelation.errors?.required">Appointee Relation is required</mat-error>
                                    </mat-form-field>
                                  </div>
                                  <div class="col-md-4" *ngIf="nominee.controls.nRelation.value == '9'" >
                                    <mat-form-field class="w-100">
                                      <input matInput placeholder="Appointee Relation Other"  formControlName="appointeeRelationOther" (keypress)="numberValidate($event)"   autocomplete="off">
                                      <!--<mat-error *ngIf="nominee.controls.aPercentage.errors?.required">Percentage is required</mat-error>-->
                                    </mat-form-field>
                                  </div>

                                  <div class="col-md-4" >
                                    <mat-form-field class="w-100">
                                      <input matInput placeholder="Appointee Percentage"  formControlName="aPercentage" (keypress)="numberValidate($event)"   autocomplete="off">
                                      <!--<mat-error *ngIf="nominee.controls.aPercentage.errors?.required">Percentage is required</mat-error>-->
                                    </mat-form-field>
                                  </div>
                                </div>
                              </div>



                            </div>
                          </div>



                          <div class="proposal-buttom mt-3 text-right w-100">
                            <button mat-raised-button color="primaryBlue"  (click)="nomineeDetails(stepper, nominee.value)" >Next</button>
                          </div>
                        </div>

                </mat-expansion-panel>
              </mat-accordion>
            </form>
          </mat-step>

          <mat-step [stepControl]="">
            <ng-template matStepLabel>SUMMARY</ng-template>
            <section class="summary-details" *ngIf="summaryData">
              <!--<div class="row">-->
                <!--<div class="col-md-4">-->
                  <!--<h4 class="mt-4"><span style="font-size: 17px; color: #666;">{{getFamilyDetails.name}} / Sum Insured: &nbsp;<i class="fas fa-rupee-sign"></i> {{buyProductdetails.suminsured_amount}}</span></h4>-->
                <!--</div>-->
                <!--<div class="col-md-8">-->
                  <!--<h4 class="mt-4"></h4>-->
                  <!--<ul class="summary-head">-->

                    <!--<li><span>Insurer:</span><img src="{{ webhost + '/' + buyProductdetails.company_logo}}" class="img-thumbnail" style="width: 125px;" /> </li>-->

                    <!--<li><span>Total Premium:</span><span><i class="fas fa-rupee-sign"></i> {{summaryData.totalPremium}}</span></li>-->
                    <!--<li></li>-->
                  <!--</ul>-->
                <!--</div>-->
              <!--</div>-->
              <section>
                <h5 class="mt-3 sub-title">PROPOSER DETAILS</h5>
                <div class="row box-card">
                  <div class="col-md-6">
                    <div class="p-3">
                      <ul class="m-0 list-group">
                        <li class="list-group-item"><strong>Name:</strong>{{proposerFormData.title}}.{{proposerFormData.firstName}} {{proposerFormData.middleName}} {{proposerFormData.lastName}} </li>
                        <li class="list-group-item"><strong>Gender:</strong> {{proposerFormData.gender}} </li>
                        <li class="list-group-item"><strong>Mobile Number:</strong> {{proposerFormData.mobile}}</li>
                        <li class="list-group-item"><strong>D.O.B:</strong> {{proposerFormData.dob  | date: 'dd/MM/yyyy'}}</li>
                        <li class="list-group-item"><strong>Email:</strong> {{proposerFormData.email}}</li>
                        <li class="list-group-item"><strong>Relationship:</strong> {{proposerFormData.relationship}}</li>
                      </ul>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="p-3">
                      <ul class="m-0 list-group">
                        <li class="list-group-item"><strong>City:</strong> {{proposerFormData.city}}</li>
                        <li class="list-group-item"><strong>State:</strong> {{proposerFormData.state}}</li>
                        <li class="list-group-item"><strong>Father Name:</strong> {{proposerFormData.fatherName}}</li>
                        <li class="list-group-item"><strong>Marital Status:</strong> {{proposerFormData.maritalStatus}}</li>
                        <li class="list-group-item"><strong>Qualifiction:</strong> {{proposerFormData.qualifiction}}</li>
                        <li class="list-group-item"><strong>Employee Type:</strong> {{proposerFormData.employeeType}}</li>
                        </ul>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="p-3">
                      <ul class="m-0 list-group">
                        <li class="list-group-item"><strong>Nature Of Work:</strong>{{proposerFormData.natureOfWork}} </li>
                        <li class="list-group-item"><strong>Annual Income:</strong> {{proposerFormData.annualIncome}} </li>
                        <li class="list-group-item"><strong>Smoker:</strong> {{proposerFormData.smoker}}</li>
                        <li class="list-group-item"><strong>Is Existing Policy Holder:</strong> {{proposerFormData.isExistingPolicyHolder}}</li>
                        <li class="list-group-item"><strong>Is Politicle Exposed:</strong> {{proposerFormData.isPoliticleExposed}}</li>
                        <li class="list-group-item"><strong>Diabete Duration:</strong> {{proposerFormData.diabeteDuration}}</li>
                      </ul>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="p-3">
                      <ul class="m-0 list-group">
                        <li class="list-group-item"><strong>Is Housewife:</strong>{{proposerFormData.isHousewife}} </li>
                        <li class="list-group-item"><strong>Is Husband Cover:</strong> {{proposerFormData.isHusbandCover}} </li>
                        <li class="list-group-item"><strong>Is Address Same:</strong> {{proposerFormData.isAddressSame}}</li>

                      </ul>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="p-3">
                      <h6 class="color-blue">COMMUNICATION DETAILS</h6>
                      <ul class="m-0 list-group">
                        <li class="list-group-item"><strong>Personal Address 1:</strong> {{proposerFormData.pAddress1}}</li>
                        <li class="list-group-item"><strong>Personal Address 2:</strong> {{proposerFormData.pAddress2}}</li>
                        <li class="list-group-item"><strong>Personal Pincode:</strong> {{proposerFormData.pPincode}}</li>
                        <li class="list-group-item"><strong>Personal City:</strong> {{proposerFormData.pCity}}</li>
                        <li class="list-group-item"><strong>Personal State:</strong> {{proposerFormData.pState}}</li>

                      </ul>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="p-3">
                      <h6 class="color-blue mt-4"></h6>
                      <ul class="m-0 list-group">
                        <li class="list-group-item"><strong>Communication Address1:</strong> {{proposerFormData.cAddress1}}</li>
                        <li class="list-group-item"><strong>Communication Address2:</strong> {{proposerFormData.cAddress2}}</li>
                        <li class="list-group-item"><strong>Communication City:</strong> {{proposerFormData.cCity}}</li>
                        <li class="list-group-item"><strong>Communication State:</strong> {{proposerFormData.cState}}</li>
                        <li class="list-group-item"><strong>Communication Pincode:</strong> {{proposerFormData.cPincode}}</li>
                      </ul>
                    </div>
                  </div>

                </div>
              </section>


              <section>
                <h5 class="mt-3 sub-title">NOMINEE DETAILS </h5>
                <div class="row box-card">
                  <div class="col-md-6">
                    <div class="p-3">
                      <div class="row">
                        <div class="col-md-12">
                          <ul class="m-0 list-group">
                            <li class="list-group-item"><strong>Nominee Title:</strong> {{nomineeFormData.ntitle}}. {{nomineeFormData.nfirstName}} {{nomineeFormData.nlastName}}</li>
                            <li class="list-group-item"><strong>Nominee DOB:</strong> {{nomineeFormData.ndob}}</li>
                            <li class="list-group-item"><strong>Nominee Relation:</strong> {{nomineeFormData.nRelation}}</li>
                            <li class="list-group-item"><strong>Nominee Address 1:</strong> {{nomineeFormData.nAddress1}}</li>
                            <li class="list-group-item"><strong>Nominee Address 2:</strong> {{nomineeFormData.nAddress2}}</li>
                            <li class="list-group-item"><strong>Nominee City:</strong> {{nomineeFormData.nCity}}</li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="p-3">
                      <div class="row">
                        <div class="col-md-12">
                          <ul class="m-0 list-group">
                            <li class="list-group-item"><strong>Nominee State:</strong> {{nomineeFormData.nState}}</li>
                            <li class="list-group-item"><strong>Nominee Pincode:</strong> {{nomineeFormData.nPincode}}</li>
                            <li class="list-group-item"><strong>Nominee Percentage:</strong> {{nomineeFormData.nPercentage}}</li>
                            <li class="list-group-item"><strong>Nominee Address 1:</strong> {{nomineeFormData.nAddress1}}</li>
                            <li class="list-group-item"><strong>Nominee Address 2:</strong> {{nomineeFormData.nAddress2}}</li>
                            <li class="list-group-item"><strong>Appointee Title:</strong> {{nomineeFormData.atitle}} . {{nomineeFormData.aFullName}}</li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="p-3">
                      <div class="row">
                        <div class="col-md-12">
                          <ul class="m-0 list-group">
                            <li class="list-group-item"><strong>Appointee DOB:</strong> {{nomineeFormData.adob}}</li>
                            <li class="list-group-item"><strong>Appointee Relation:</strong> {{nomineeFormData.aRelation}}</li>
                            <li class="list-group-item"><strong>Appointee Percentage:</strong> {{nomineeFormData.aPercentage}}</li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>
              </section>

              <p class="mt-2 pl-3"><mat-checkbox [(ngModel)]="declaration">I hereby declare all  the  details provided above are correct</mat-checkbox></p>
              <hr>

              <div class="row">
                <div class="col-md-12 text-center">
                  <form action={{summaryData.PaymentActionUrl}}  method='post' #form>


                    <button mat-button matStepperPrevious  (click)="topScroll()" >Back</button>
                    <button mat-raised-button color="primaryBlue" [disabled]="!declaration" (click)="form.submit()">Pay Now</button>
                  </form>
                </div>
              </div>

            </section>
          </mat-step>




        </mat-horizontal-stepper>
      </div>
    </div>
  </div>
</section>
