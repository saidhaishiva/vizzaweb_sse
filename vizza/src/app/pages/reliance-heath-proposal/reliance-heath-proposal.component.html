<div class="container-fluid">
    <div class="row relianceHealthProposal">
        <div class="col-md-12">
            <mat-horizontal-stepper  #stepper [selectedIndex]="currentStep">
                <mat-step [stepControl]="personal">
                    <ng-template matStepLabel>PROPOSER DETAILS</ng-template>
                    <mat-accordion class="w-100 float-left">
                        <form [formGroup]="personal" >
                            <mat-expansion-panel expanded>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>
                                        <!--{{getFamilyDetails.name}} -->
                                        PROPOSER DETAILS
                                    </mat-panel-title>
                                </mat-expansion-panel-header>
                                <div class="row mt-3">
                                    <div class="col-md-12 box-card pt-3">
                                        <!--<h6 class="color-blue">PROPOSER DETAILS</h6>-->
                                        <div class="row">
                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <mat-select placeholder="Title" formControlName="personalTitle" (change)="changeGender()" required>
                                                        <mat-option value="MR">Mr</mat-option>
                                                        <mat-option value="MS">Ms</mat-option>
                                                    </mat-select>
                                                    <mat-error *ngIf="personal.controls.personalTitle.errors?.required">Title is required</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <input matInput placeholder="First Name" formControlName="personalFirstname"  (keypress)="nameValidate($event)"  autocomplete="off" required >
                                                    <mat-error *ngIf="personal.controls.personalFirstname.errors?.required">First Name is required</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <input matInput placeholder="Middle Name" formControlName="personalMidname"  (keypress)="nameValidate($event)"   autocomplete="off">
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <input matInput placeholder="Last Name" formControlName="personalLastname"  (keypress)="nameValidate($event)"   autocomplete="off" required >
                                                    <mat-error *ngIf="personal.controls.personalLastname.errors?.required">Last Name is required</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <input matInput placeholder="Gender" formControlName="personalGender" required readonly>
                                                    <mat-error *ngIf="personal.controls.personalGender.errors?.required">Gender is required</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <mat-select  placeholder="Marital Status" formControlName="maritalStatus" (change)="selectMarital()" required  class="w-100">
                                                        <mat-option *ngFor="let status of maritalDetail | keys" [value]= 'status.key'> {{status.value}} </mat-option>
                                                    </mat-select>
                                                    <mat-error *ngIf="personal.controls.maritalStatus.errors?.required">Marital Status is required</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <mat-select  placeholder="Occupation" formControlName="occupation" (change)="selectOccupation()" required  class="w-100">
                                                        <mat-option *ngFor="let list of occupationList | keys" [value]= 'list.key'> {{list.value}} </mat-option>
                                                    </mat-select>
                                                    <mat-error *ngIf="personal.controls.occupation.errors?.required">Occupation is required</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <mat-select  placeholder="Nationality" formControlName="nationality" (change)="selectNationality()" required  class="w-100">
                                                        <mat-option *ngFor="let list of nationalityList | keys" [value]= 'list.key'> {{list.value}} </mat-option>
                                                    </mat-select>
                                                    <mat-error *ngIf="personal.controls.nationality.errors?.required">Nationality is required</mat-error>
                                                </mat-form-field>
                                            </div>

                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <input matInput [matDatepicker]="picker" [max]="minDate" placeholder="DOB (DD/MM/YYYY)" formControlName="personalDob" (dateInput)="addEvent($event,'proposer')" (dateChange)="addEvent($event,'proposer')"  (keypress)="dobValidate($event)"
                                                           autocomplete="off" maxlength="10" minlength="10"  required>
                                                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                                    <mat-datepicker #picker></mat-datepicker>
                                                    <mat-error *ngIf="personal.controls.personalDob.errors?.required">DOB is required</mat-error>
                                                </mat-form-field>
                                                <div class="error" *ngIf="dobError != ''">{{dobError}}</div>
                                            </div>

                                            <div class="col-md-3 mb-2">
                                                <mat-form-field class="w-100">
                                                    <input matInput placeholder="PAN Number"  minlength="10" class="text-uppercase" (keypress)="idValidate($event)" maxlength="10" pattern="^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$" formControlName="personalPan"  autocomplete="off">
                                                    <mat-error *ngIf="personal.controls.personalPan.hasError('minlength')">PAN Number isn't long enough, minimum of 10 characters</mat-error>
                                                    <mat-error *ngIf="personal.controls.personalPan.hasError('pattern')"> Enter Valid PAN Number </mat-error>
                                                </mat-form-field>
                                            </div>

                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <input matInput placeholder="Email ID"   formControlName="personalEmail"  autocomplete="off" required>
                                                    <mat-error *ngIf="personal.controls.personalEmail.errors?.required">Email ID is required</mat-error>
                                                    <mat-error *ngIf="personal.controls.personalEmail.hasError('pattern')">Please Enter Correct Format</mat-error>
                                                </mat-form-field>
                                            </div>

                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <input matInput placeholder="Mobile Number"  (keypress)="numberValidate($event)"   maxlength="10" formControlName="personalMobile" autocomplete="off" required>
                                                    <mat-error *ngIf="personal.controls.personalMobile.errors?.required">Mobile Number is required</mat-error>
                                                    <mat-error *ngIf="personal.controls.personalMobile.hasError('pattern')">Enter Valid  Mobile Number</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <input matInput placeholder="Phone Number"  (keypress)="numberValidate($event)"  maxlength="12" formControlName="personalPhone" autocomplete="off" >
                                                    <mat-error *ngIf="personal.controls.personalPhone.errors?.required">Phone Number is required</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <input matInput placeholder="Fax"  (keypress)="numberValidate($event)"   maxlength="11" formControlName="personalFax" autocomplete="off">
                                                    <mat-error *ngIf="personal.controls.personalFax.errors?.required">fax is required</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <p>Is Service Tax Exemption  Applicable <span class="error">*</span></p>
                                                <mat-radio-group formControlName="serviceTax">
                                                    <mat-radio-button value="Yes" class="mr-2">Yes</mat-radio-button>
                                                    <mat-radio-button value="No">No</mat-radio-button>
                                                </mat-radio-group>
                                            </div>
                                            <div class="col-md-3" *ngIf="this.personal.controls['serviceTax'].value == 'Yes'">
                                                <mat-form-field  class="w-100">
                                                    <mat-placeholder>Service Tax Exemption<span class="error">*</span></mat-placeholder>

                                                    <mat-select formControlName="ServicesTaxId" autocomplete="off" (change)="isServiceTax()" >
                                                        <mat-option *ngFor="let list of ServiceTaxId | keys" value={{list.key}}   matTooltip="{{list.value}}">{{list.value}}</mat-option>
                                                    </mat-select>
                                                    <!--<mat-error *ngIf="personal.controls.ServicesTaxId.errors?.required">Services Tax is required</mat-error>-->
                                                </mat-form-field>
                                                <div class="error" *ngIf="taxRequired != ''">{{taxRequired}}</div>

                                            </div>
                                            <!--<div class="col-md-3">-->
                                                <!--<mat-form-field class="w-100">-->
                                                    <!--<input matInput placeholder="Alternate Number"   maxlength="10"  formControlName="personalAltnumber" (keyup)="alternateChange($event)" (keypress)="keyPress($event)" autocomplete="off">-->
                                                    <!--<mat-error *ngIf="personal.controls.personalAltnumber.errors?.required">Alternate Number is required</mat-error>-->
                                                    <!--<mat-error *ngIf="personal.controls.personalAltnumber.hasError('pattern')">Enter Valid  Mobile Number</mat-error>-->
                                                <!--</mat-form-field>-->
                                                <!--<div class="error" *ngIf="mobileNumber != '' && mobileNumber != 'true'">{{mobileNumber}}</div>-->
                                            <!--</div>-->
                                        </div>
                                    </div>
                                    <div class="row" fxLayoutAlign="center center">
                                        <div class="col-md-6">
                                            <div class="box-card addressBox">
                                                <h6 class="color-blue">COMMUNICATION ADDRESS</h6>
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <mat-form-field class="w-100">
                                                            <input matInput placeholder="Address 1" formControlName="personalAddress" (keyup)="typeAddressDeatils()" autocomplete="off" required>
                                                            <mat-error *ngIf="personal.controls.personalAddress.errors?.required">Address is required</mat-error>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="col-md-12">
                                                        <mat-form-field class="w-100">
                                                            <input matInput placeholder="Address 2" formControlName="personalAddress2" (keyup)="typeAddressDeatils()" autocomplete="off" required>
                                                            <mat-error *ngIf="personal.controls.personalAddress2.errors?.required">Address2 is required</mat-error>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="col-md-12">
                                                        <mat-form-field class="w-100">
                                                            <input matInput placeholder="Address 3" formControlName="personalAddress3" (keyup)="typeAddressDeatils()" autocomplete="off">
                                                            <mat-error *ngIf="personal.controls.personalAddress3.errors?.required">Address3 is required</mat-error>
                                                        </mat-form-field>
                                                    </div>

                                                    <div class="col-md-6">
                                                        <mat-form-field class="w-100">
                                                            <input matInput placeholder="PIN Code"  pattern="[1-9][0-9]{5}" (keypress)="numberValidate($event)" (keyup)="typeAddressDeatils()" minlength="6"   maxlength="6" (input)="get_pincodeDetails($event.target.value, 'proposalP')" formControlName="personalPincode" autocomplete="off" required>
                                                            <mat-error *ngIf="personal.controls.personalPincode.hasError('minlength')">Pin should be 6 digits</mat-error>
                                                            <mat-error *ngIf="personal.controls.personalPincode.hasError('required')">Pincode required</mat-error>
                                                            <mat-error *ngIf="personal.controls.personalPincode.hasError('pattern')">Enter Valid  Pin</mat-error>
                                                        </mat-form-field>
                                                    </div>

                                                    <div class="col-md-6">
                                                        <mat-form-field class="w-100">
                                                            <input matInput placeholder="State" formControlName="personalState" autocomplete="off" required readonly>
                                                            <mat-error *ngIf="personal.controls.personalState.errors?.required">State is required</mat-error>
                                                        </mat-form-field>
                                                    </div>

                                                    <div class="col-md-6">
                                                        <mat-form-field  class="w-100">
                                                            <input matInput placeholder="District" formControlName="personalDistrict" autocomplete="off" required readonly>
                                                            <mat-error *ngIf="personal.controls.personalDistrict.errors?.required">District is required</mat-error>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <mat-form-field  class="w-100">
                                                            <input matInput placeholder="City" formControlName="personalCity" autocomplete="off" required readonly>
                                                            <mat-error *ngIf="personal.controls.personalCity.errors?.required">City is required</mat-error>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <mat-form-field class="w-100">
                                                            <mat-select  placeholder="Area" formControlName="personalArea" (change)="typeAddressDeatils()" required  class="w-100">
                                                                <mat-option *ngFor="let list of proposalPArea | keys" [value]= 'list.key'> {{list.value}} </mat-option>
                                                            </mat-select>
                                                            <mat-error *ngIf="personal.controls.personalArea.errors?.required">Area is required</mat-error>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <mat-form-field class="w-100">
                                                            <input matInput placeholder="Nearest Land Mark" formControlName="personalNearestLandMark" (keyup)="typeAddressDeatils()" autocomplete="off"  >
                                                        </mat-form-field>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="box-card addressBox">
                                                <div class="row">
                                                    <h6 class="color-blue ml-3">RESIDENCE ADDRESS</h6>
                                                    <div class="text-right w-50">
                                                        <mat-checkbox formControlName="sameas" (change)="sameAddress($event)" ><strong>Same as Communication Address</strong></mat-checkbox>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <!--<div class="col-md-12">-->
                                                        <!--<mat-checkbox formControlName="sameas" (change)="sameAddress($event)" ><strong>Same as Communication Address</strong></mat-checkbox>-->
                                                    <!--</div>-->
                                                    <div class="col-md-12">
                                                        <mat-form-field class="w-100">
                                                            <input matInput placeholder="Address 1" formControlName="residenceAddress" required autocomplete="off" [readonly]="inputReadonly">
                                                            <mat-error *ngIf="personal.controls.residenceAddress.errors?.required">Address is required</mat-error>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="col-md-12">
                                                        <mat-form-field class="w-100">
                                                            <input matInput placeholder="Address 2" formControlName="residenceAddress2" autocomplete="off" [readonly]="inputReadonly" required>
                                                            <mat-error *ngIf="personal.controls.residenceAddress2.errors?.required">Address2 is required</mat-error>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="col-md-12">
                                                        <mat-form-field class="w-100">
                                                            <input matInput placeholder="Address 3" formControlName="residenceAddress3" autocomplete="off"  [readonly]="inputReadonly">
                                                            <mat-error *ngIf="personal.controls.residenceAddress3.errors?.required">Address3 is required</mat-error>
                                                        </mat-form-field>
                                                    </div>

                                                    <div class="col-md-6">
                                                        <mat-form-field class="w-100">
                                                            <input matInput placeholder="PIN Code"  pattern="[1-9][0-9]{5}" (keypress)="numberValidate($event)" minlength="6" [readonly]="inputReadonly"    maxlength="6" (input)="get_pincodeDetails($event.target.value, 'proposalR')" formControlName="residencePincode"autocomplete="off"  required>
                                                            <mat-error *ngIf="personal.controls.residencePincode.hasError('minlength')">Pin should be 6 digits</mat-error>
                                                            <mat-error *ngIf="personal.controls.residencePincode.hasError('required')">Pincode required</mat-error>
                                                            <mat-error *ngIf="personal.controls.residencePincode.hasError('pattern')">Enter Valid  Pin</mat-error>
                                                        </mat-form-field>
                                                    </div>

                                                    <div class="col-md-6">
                                                        <mat-form-field class="w-100">
                                                            <input matInput placeholder="State" formControlName="residenceState" autocomplete="off"  required [readonly]="inputReadonly">
                                                        </mat-form-field>
                                                    </div>

                                                    <div class="col-md-6">
                                                        <mat-form-field  class="w-100">
                                                            <input matInput placeholder="District" formControlName="residenceDistrict" autocomplete="off" required [readonly]="inputReadonly">
                                                            <mat-error *ngIf="personal.controls.residenceDistrict.errors?.required">District is required</mat-error>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <mat-form-field class="w-100" >
                                                            <input matInput placeholder="City" formControlName="residenceCity" autocomplete="off" required [readonly]="inputReadonly" >
                                                            <mat-error *ngIf="personal.controls.residenceCity.errors?.required">City is required</mat-error>
                                                        </mat-form-field>
                                                    </div>

                                                    <div class="col-md-6">
                                                        <mat-form-field class="w-100">
                                                            <mat-select  placeholder="Area" formControlName="residenceArea" required  class="w-100" (change)="selectResArea()" [disabled]="inputReadonly">
                                                                <mat-option *ngFor="let list of proposalRArea | keys" [value]= 'list.key'> {{list.value}} </mat-option>
                                                            </mat-select>
                                                            <mat-error *ngIf="personal.controls.residenceArea.errors?.required">Area is required</mat-error>
                                                        </mat-form-field>
                                                    </div>
                                                    <!--<div class="col-md-6">-->
                                                        <!--<mat-form-field class="w-100">-->
                                                            <!--<input matInput placeholder="Fax"  (keypress)="numberValidate($event)"   maxlength="11" formControlName="personalFax" autocomplete="off">-->
                                                            <!--<mat-error *ngIf="personal.controls.personalFax.errors?.required">fax is required</mat-error>-->
                                                        <!--</mat-form-field>-->
                                                    <!--</div>-->
                                                    <div class="col-md-6">
                                                        <mat-form-field class="w-100">
                                                            <input matInput placeholder="Nearest Land Mark" formControlName="residenceNearestLandMark" autocomplete="off"  [readonly]="inputReadonly" >
                                                        </mat-form-field>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="proposal-buttom mt-3 text-right w-100">
                                        <button mat-raised-button color="primaryBlue"  (click)="personalDetails(stepper, personal.value)" >Next</button>
                                    </div>
                                </div>
                            </mat-expansion-panel>
                        </form>
                    </mat-accordion>
                </mat-step>


                <mat-step [stepControl]="">
                    <ng-template matStepLabel >INSURED DETAILS</ng-template>
                    <mat-accordion class="mt-4 w-100 float-left">
                        <form [formGroup]="insureArray">
                            <div formArrayName="items" *ngFor="let item of insureArray.get('items')['controls']; let i = index;">
                                <mat-expansion-panel  [formGroupName]="i" [expanded]="i == 0">
                                    <mat-expansion-panel-header>
                                        <mat-panel-title>
                                            INSURED DETAILS FOR {{insureArray['controls'].items['controls'][i]['controls'].type.value | uppercase}}
                                        </mat-panel-title>
                                    </mat-expansion-panel-header>
                                    <ng-template matStepLabel>INSURED DETAILS </ng-template>
                                    <div class="row" >
                                        <div class="col-md-12 box-card pt-3">
                                            <!--<h6 class="color-blue mt-3">{{insureArray['controls'].items['controls'][i]['controls'].type.value | uppercase}} DETAILS</h6>-->
                                            <div class="row">
                                                <div class="col-md-12 mt-3" *ngIf="i == 0">
                                                    <mat-checkbox formControlName="sameAsProposer" (change)="sameProposer($event)"><strong>Same as proposer</strong></mat-checkbox>
                                                </div>
                                                <div class="col-md-3" [ngStyle]="{'pointer-events': insureArray['controls'].items['controls'][i]['controls'].sameAsProposer.value ? 'none' : ''}">
                                                    <mat-form-field class="w-100">
                                                        <mat-select placeholder="Title" formControlName="personalTitle" (change)="insureChangeGender(i)" required>
                                                            <mat-option value="MR" *ngIf="insureArray['controls'].items['controls'][i]['controls'].type.value != 'Daughter'">Mr</mat-option>
                                                            <mat-option value="MS" *ngIf="insureArray['controls'].items['controls'][i]['controls'].type.value != 'Son'">Ms</mat-option>
                                                        </mat-select>
                                                        <mat-error *ngIf="insureArray.invalid">Title is required</mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-3">
                                                    <mat-form-field class="w-100">
                                                        <input matInput placeholder="First Name" formControlName="personalFirstname"  (keypress)="nameValidate($event)" autocomplete="off" required [readonly]="insureArray['controls'].items['controls'][i]['controls'].sameAsProposer.value" >
                                                        <mat-error *ngIf="insureArray.invalid">First Name is required</mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-3">
                                                    <mat-form-field class="w-100">
                                                        <input matInput placeholder="Last Name" formControlName="personalLastname"  (keypress)="nameValidate($event)" autocomplete="off" required [readonly]="insureArray['controls'].items['controls'][i]['controls'].sameAsProposer.value" >
                                                        <mat-error *ngIf="insureArray.invalid">Last Name is required</mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-3">
                                                    <mat-form-field class="w-100">
                                                        <input matInput placeholder="Gender" formControlName="personalGender" required readonly autocomplete="off">
                                                        <mat-error *ngIf="insureArray.invalid">Gender is required</mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-3">
                                                    <mat-form-field class="w-100" [ngStyle]="{'pointer-events': insureArray['controls'].items['controls'][i]['controls'].sameAsProposer.value ? 'none' : ''}">
                                                        <mat-select  placeholder="Marital Status" formControlName="maritalStatus" required (change)="selecInsurertMarital(i)"  class="w-100" autocomplete="off">
                                                            <mat-option *ngFor="let status of maritalDetail | keys" [value]= 'status.key'> {{status.value}} </mat-option>
                                                        </mat-select>
                                                        <mat-error *ngIf="insureArray.invalid">Marital Status is required</mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-3" [ngStyle]="{'pointer-events': insureArray['controls'].items['controls'][i]['controls'].sameAsProposer.value ? 'none' : ''}">
                                                    <mat-form-field class="w-100">
                                                        <input matInput [matDatepicker]="picker" [max]="minDate" placeholder="DOB (DD/MM/YYYY)"   formControlName="personalDob" (dateInput)="addEventInsurer($event, 'insurer',  i, insureArray['controls'].items['controls'][i]['controls'].type.value )" (dateChange)="addEventInsurer($event,'insurer', i, insureArray['controls'].items['controls'][i]['controls'].type.value)" (keypress)="dobValidate($event, 'insurer', i)" autocomplete="off"  minlength="10" maxlength="10" required [readonly]="insureArray['controls'].items['controls'][i]['controls'].sameAsProposer.value">
                                                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                                        <mat-datepicker #picker></mat-datepicker>
                                                        <mat-error *ngIf="insureArray.invalid">DOB is required</mat-error>
                                                    </mat-form-field>
                                                    <p class="error mb-0" *ngIf="insureArray['controls'].items['controls'][i]['controls'].insurerDobError.value != ''">{{insureArray['controls'].items['controls'][i]['controls'].insurerDobError.value}}</p>
                                                    <p class="error mb-0" *ngIf="insureArray['controls'].items['controls'][i]['controls'].insurerDobValidError.value != ''">{{insureArray['controls'].items['controls'][i]['controls'].insurerDobValidError.value}}</p>
                                                </div>
                                                <div class="col-md-3">
                                                    <mat-form-field class="w-100">
                                                        <input matInput placeholder="Age" formControlName="personalAge" autocomplete="off" autocomplete="off" readonly>
                                                        <mat-error *ngIf="insureArray.invalid">Age is required</mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-3" [ngStyle]="{'pointer-events': insureArray['controls'].items['controls'][i]['controls'].sameAsProposer.value ? 'none' : ''}">
                                                    <mat-form-field class="w-100">
                                                        <mat-select  placeholder="Occupation" formControlName="occupation" (change)="selectInsurerOccupation(i)" required  class="w-100">
                                                            <mat-option *ngFor="let list of occupationList | keys" [value]= 'list.key'> {{list.value}} </mat-option>
                                                        </mat-select>
                                                        <mat-error *ngIf="insureArray.invalid">Occupation is required</mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-3" [ngStyle]="{'pointer-events': insureArray['controls'].items['controls'][i]['controls'].sameAsProposer.value ? 'none' : ''}">
                                                    <mat-form-field class="w-100">
                                                        <mat-select placeholder="Relationship with Proposer"  formControlName="personalrelationship" (change)="selectInsuredRelation(i)"  required >
                                                            <mat-option *ngFor="let relationship of relationshipList | keys" value="{{relationship.key}}" > {{relationship.value}} </mat-option>
                                                        </mat-select>
                                                        <mat-error *ngIf="insureArray.invalid">Relationship is required</mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-3">
                                                    <p>Is Existing Illness</p>
                                                    <mat-radio-group formControlName="IsExistingIllness" (change)="boolenHide($event, i, 'IsExistingIllness')">
                                                        <mat-radio-button value="Yes" [checked]="insureArray['controls'].items['controls'][i]['controls'].IsExistingIllness.value == 'Yes'" class="mr-2">Yes</mat-radio-button>
                                                        <mat-radio-button value="No" [checked]="insureArray['controls'].items['controls'][i]['controls'].IsExistingIllness.value == 'No'">No</mat-radio-button>
                                                    </mat-radio-group>
                                                </div>
                                                <div class="col-md-3">
                                                    <p>Is Insured Consume Tobacco</p>
                                                    <mat-radio-group  formControlName="IsInsuredConsumetobacco" (change)="boolenHide($event, i, 'IsInsuredConsumetobacco')">
                                                        <mat-radio-button value="Yes" class="mr-2">Yes</mat-radio-button>
                                                        <mat-radio-button value="No">No</mat-radio-button>
                                                    </mat-radio-group>
                                                </div>
                                                <div class="col-md-3">
                                                    <p>Has Any Pre Claim On Insured</p>
                                                    <mat-radio-group formControlName="HasAnyPreClaimOnInsured" (change)="boolenHide($event, i, 'HasAnyPreClaimOnInsured')">
                                                        <mat-radio-button value="Yes" class="mr-2">Yes</mat-radio-button>
                                                        <mat-radio-button value="No">No</mat-radio-button>
                                                    </mat-radio-group>
                                                </div>
                                                <div class="col-md-3">
                                                    <p>Has Any Pre Health Insurance Cancelled</p>
                                                    <mat-radio-group formControlName="HasAnyPreHealthInsuranceCancelled" (change)="boolenHide($event, i, 'HasAnyPreHealthInsuranceCancelled')">
                                                        <mat-radio-button value="Yes" class="mr-2">Yes</mat-radio-button>
                                                        <mat-radio-button value="No">No</mat-radio-button>
                                                    </mat-radio-group>
                                                </div>

                                            </div>
                                        </div>

                                        <div class="proposal-buttom mt-3 text-right w-100" *ngIf="items.length -1 == i">
                                            <button mat-button matStepperPrevious (click)="topScroll()">Back</button>
                                            <button mat-raised-button color="primaryBlue"  (click)="relianceInsureDetails(stepper, i, insureArray.value)">Next</button>
                                        </div>
                                    </div>
                                </mat-expansion-panel>
                            </div>
                        </form>
                    </mat-accordion>
                </mat-step>
                <mat-step [stepControl]="">
                    <ng-template matStepLabel >PREVIOUS INSURANCE DETAILS</ng-template>
                    <mat-accordion class="w-100 float-left">
                        <form [formGroup]="previousInsuranceFrom" >
                            <mat-expansion-panel expanded>
                                <mat-expansion-panel-header>
                                    <mat-panel-title> PREVIOUS INSURANCE DETAILS </mat-panel-title>
                                </mat-expansion-panel-header>

                                <div class="row mt-3">
                                    <!--<div class="col-md-12 box-card pt-3">-->
                                        <!--<h6 class="color-blue">PREVIOUS INSURANCE DETAILS</h6>-->
                                    <!--</div>-->

                                    <div class="col-md-3">
                                        <mat-form-field class="w-100">
                                            <input matInput placeholder="Previous Insurance Company Name" formControlName="InsuranceCompName" (keypress)="nameValidate($event)" autocomplete="off">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field class="w-100">
                                            <input matInput placeholder="Previous Policy No" formControlName="PreviousPolNo"   (keypress)="idValidate($event)" autocomplete="off">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field class="w-100">
                                            <input matInput [matDatepicker]="picker2" [max]="minDate"  placeholder="Policy Start Date (DD/MM/YYYY)"  maxlength="10" minlength="10" formControlName="PolicyStartDate" (dateInput)="addEvent($event,'previousStartDate')" (dateChange)="addEvent($event,'previousStartDate')" (keypress)="dobValidate($event)" maxlength="10" autocomplete="off">
                                            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                                            <mat-datepicker #picker2></mat-datepicker>
                                        </mat-form-field>
                                        <div class="error" *ngIf="previousStartDateError != ''">{{previousStartDateError}}</div>

                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field class="w-100">
                                            <input matInput [matDatepicker]="picker3"  [max]="maxDate" placeholder="Policy End Date"  maxlength="10" minlength="10"  formControlName="PolicyEndDate" (dateInput)="addEvent($event,'previousEndStartDate')" (dateChange)="addEvent($event,'previousEndStartDate')" (keypress)="dobValidate($event)" maxlength="10"  autocomplete="off">
                                            <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                                            <mat-datepicker #picker3></mat-datepicker>
                                        </mat-form-field>
                                        <div class="error" *ngIf="previousEndtDateError != ''">{{previousEndtDateError}}</div>

                                    </div>

                                    <div class="col-md-12 mt-3">
                                        <p style="font-size:12px;"><strong>Notes: </strong>This policy is considered as fresh policy and previous insurance details are for our internal reference
                                        </p>
                                    </div>

                                </div>
                                <div class="proposal-buttom mt-3 text-right w-100">
                                    <button mat-button matStepperPrevious (click)="topScroll()">Back</button>
                                    <button mat-raised-button color="primaryBlue"  (click)="previousInsureDetails(stepper,previousInsuranceFrom.value)">Next</button>
                                </div>
                            </mat-expansion-panel>
                        </form>
                    </mat-accordion>
                </mat-step>

                <!--<mat-step [stepControl]="">-->
                    <!--<ng-template matStepLabel>RISK DETAILS</ng-template>-->
                    <!--<mat-accordion class="w-100 float-left ">-->
                        <!--<mat-expansion-panel expanded>-->
                            <!--<mat-expansion-panel-header>-->
                                <!--<mat-panel-title> {{groupName}} </mat-panel-title>-->
                            <!--</mat-expansion-panel-header>-->
                            <!--<ng-template matStepLabel>RISK DETAILS</ng-template>-->
                            <!--<div class="row mt-2">-->
                                <!--<div class="col-md-12 box-card pt-3 pb-3" >-->
                                    <!--<h6 class="color-blue mb-3" >RISK DETAILS</h6>-->
                                    <!--<form [formGroup]="riskDetails">-->
                                        <!--<div class="row">-->
                                            <!--<div class="col-md-12">-->
                                                <!--<div class="row">-->
                                                <!--<div class="col-md-12 mb-3">-->
                                                    <!--<p>Is service tax Applicable <span class="error">*</span></p>-->
                                                    <!--<mat-radio-group formControlName="serviceTax" (change)="boolenHide($event, 'i', 'serviceTax')">-->
                                                        <!--<mat-radio-button value="Yes" class="mr-2">Yes</mat-radio-button>-->
                                                        <!--<mat-radio-button value="No">No</mat-radio-button>-->
                                                    <!--</mat-radio-group>-->
                                                <!--</div>-->
                                                <!--<div class="col-md-12  mb-3" *ngIf="riskDetails['controls'].serviceTax.value == 'Yes'">-->
                                                    <!--<mat-form-field  class="w-100">-->
                                                        <!--<mat-select placeholder="Services Tax" formControlName="ServicesTaxId" autocomplete="off" [required]="riskDetails['controls'].serviceTax.value == 'Yes'">-->
                                                            <!--<mat-option *ngFor="let list of ServiceTaxId" value={{list.servicetax_exemp_id}}>{{list.servicetax_exemp_name}}</mat-option>-->

                                                        <!--</mat-select>-->
                                                        <!--<mat-error *ngIf="riskDetails.controls.ServicesTaxId.errors?.required">Services Tax is required</mat-error>-->
                                                    <!--</mat-form-field>-->
                                                <!--</div>-->
                                                    <!--<div class="col-md-12 mb-3">-->
                                                        <!--<p>Is cross Sell  <span class="error">*</span></p>-->
                                                        <!--<mat-radio-group formControlName="crossSell" (change)="boolenHide($event, 'i', 'crossSell')">-->
                                                            <!--<mat-radio-button value="Yes" class="mr-2">Yes</mat-radio-button>-->
                                                            <!--<mat-radio-button value="No">No</mat-radio-button>-->
                                                        <!--</mat-radio-group>-->
                                                    <!--</div>-->
                                                    <!--<div class="col-md-12 mb-3"  *ngIf="riskDetails['controls'].crossSell.value == 'Yes'">-->
                                                        <!--<mat-form-field class="w-100">-->
                                                            <!--<input matInput placeholder="Cross Sell Policy No"  formControlName="crossSellPolicyNo" autocomplete="off" (keypress)="numberValidate($event)" [required]="riskDetails['controls'].crossSell.value == 'Yes'">-->
                                                            <!--<mat-error *ngIf="riskDetails.controls.crossSellPolicyNo.errors?.required">Cross Sell Policu No is required</mat-error>-->
                                                        <!--</mat-form-field>-->
                                                    <!--</div>-->
                                            <!--</div>-->
                                            <!--</div>-->
                                            <!--<div class="col-md-12">-->
                                                <!--<div class="row">-->
                                            <!--<div class="col-md-12 mb-3">-->
                                                <!--<p>Is any employee of reliance ADAGroup <span class="error">*</span></p>-->
                                                <!--<mat-radio-group formControlName="relianceAda" (change)="boolenHide($event, 'i', 'relianceAda')">-->
                                                    <!--<mat-radio-button value="Yes" class="mr-2">Yes</mat-radio-button>-->
                                                    <!--<mat-radio-button value="No">No</mat-radio-button>-->
                                                <!--</mat-radio-group>-->
                                            <!--</div>-->
                                            <!--<div class="col-md-12" *ngIf="riskDetails['controls'].relianceAda.value == 'Yes'">-->
                                            <!--<mat-form-field class="w-100">-->
                                                <!--<input matInput placeholder="Company Name" (keypress)="nameValidate($event)" formControlName="companyname" autocomplete="off" [required]="riskDetails['controls'].relianceAda.value == 'Yes'">-->
                                                <!--<mat-error *ngIf="riskDetails.controls.companyname.errors?.required">Company Name is required</mat-error>-->
                                            <!--</mat-form-field>-->
                                            <!--</div>-->
                                            <!--<div class="col-md-12" *ngIf="riskDetails['controls'].relianceAda.value == 'Yes'">-->
                                                <!--<mat-form-field class="w-100">-->
                                                    <!--<input matInput placeholder="Employee Code"  formControlName="employeeCode" (keypress)="numberValidate($event)" autocomplete="off" [required]="riskDetails['controls'].relianceAda.value == 'Yes'">-->
                                                    <!--<mat-error *ngIf="riskDetails.controls.employeeCode.errors?.required">Employee Code is required</mat-error>-->
                                                <!--</mat-form-field>-->
                                            <!--</div>-->
                                            <!--<div class="col-md-12" *ngIf="riskDetails['controls'].relianceAda.value == 'Yes'">-->
                                                <!--<mat-form-field class="w-100">-->
                                                    <!--<input matInput placeholder="Email Id"  formControlName="emailId" autocomplete="off" [required]="riskDetails['controls'].relianceAda.value == 'Yes'">-->
                                                    <!--<mat-error *ngIf="riskDetails.controls.emailId.errors?.required">Email ID is required</mat-error>-->
                                                    <!--<mat-error *ngIf="riskDetails.controls.emailId.hasError('pattern')">Please Enter Correct Format</mat-error>-->

                                                <!--</mat-form-field>-->
                                            <!--</div>-->
                                                <!--</div>-->
                                            <!--</div>-->

                                        <!--</div>-->
                                    <!--</form>-->

                                    <!--<div class="proposal-buttom mt-3 text-right w-100">-->
                                        <!--<button mat-button matStepperPrevious>Back</button>-->
                                        <!--<button mat-raised-button color="primaryBlue"  (click)="riskDetail(stepper, riskDetails.value)">Next</button>-->
                                    <!--</div>-->
                                <!--</div>-->
                            <!--</div>-->
                        <!--</mat-expansion-panel>-->
                    <!--</mat-accordion>-->
                <!--</mat-step>-->
                <mat-step>
                    <ng-template matStepLabel>NOMINEE DETAILS</ng-template>
                    <mat-accordion class="w-100 float-left">
                        <mat-expansion-panel expanded>
                            <mat-expansion-panel-header>
                                <mat-panel-title> NOMINEE DETAILS </mat-panel-title>
                            </mat-expansion-panel-header>
                            <ng-template matStepLabel>NOMINEE DETAILS</ng-template>
                            <div class="row mt-3">
                                <div class="col-md-12 box-card pt-3 pb-3" >
                                    <!--<h6 class="color-blue mb-3" >NOMINEE DETAILS </h6>-->
                                    <form [formGroup]="nomineeDetails">
                                        <div class="row">
                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <mat-select placeholder="Title" formControlName="nomineeTitle" required>
                                                        <mat-option value="MR">Mr</mat-option>
                                                        <mat-option value="MS">Ms</mat-option>
                                                    </mat-select>
                                                    <mat-error *ngIf="nomineeDetails.controls.nomineeTitle.errors?.required">Title is required</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <input matInput placeholder="First Name"  formControlName="nomineeFirstName" autocomplete="off" (keypress)="nameValidate($event)" required>
                                                    <mat-error *ngIf="nomineeDetails.controls.nomineeFirstName.errors?.required">First Name of Nominee is required</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <input matInput placeholder="Mid Name"  formControlName="nomineeMidName" (keypress)="nameValidate($event)"  autocomplete="off">
                                                    <mat-error *ngIf="nomineeDetails.controls.nomineeMidName.errors?.required">Mid Name of Nominee is required</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <input matInput placeholder="Last Name"  formControlName="nomineeLastName" (keypress)="nameValidate($event)"  autocomplete="off" required>
                                                    <mat-error *ngIf="nomineeDetails.controls.nomineeLastName.errors?.required"> Last Name of Nominee is required</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <input matInput [matDatepicker]="picker1" [max]="minDate" placeholder="DOB (DD/MM/YYYY)"   formControlName="nomineeDob" (dateInput)="addEvent($event,'nominee')" (dateChange)="addEvent($event,'nominee')"  (keypress)="dobValidate($event)"
                                                           autocomplete="off"  maxlength="10" required>
                                                    <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                                    <mat-datepicker #picker1></mat-datepicker>
                                                    <mat-error *ngIf="nomineeDetails.controls.nomineeDob.errors?.required">DOB is required</mat-error>
                                                </mat-form-field>
                                                <div class="error" *ngIf="nomineeDateError != ''">{{nomineeDateError}}</div>

                                            </div>
                                            <div class="col-md-3 mt-1">
                                                <mat-form-field class="w-100">
                                                    <mat-select placeholder="Relationship with Insured"  formControlName="nomineeRelationship" (change)="selectNomineRelation()" required >
                                                        <mat-option *ngFor="let relationship of nomineeRelationshipList | keys" [hidden]="sameRelationship == relationship.key" value="{{relationship.key}}" > {{relationship.value}} </mat-option>
                                                    </mat-select>
                                                    <mat-error *ngIf="nomineeDetails.controls.nomineeRelationship.errors?.required">Relationship with Proposer is required</mat-error>
                                                </mat-form-field>
                                            </div>

                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <input matInput placeholder="Address 1" formControlName="nomineeAddress" autocomplete="off" required>
                                                    <mat-error *ngIf="nomineeDetails.controls.nomineeAddress.errors?.required">Address is required</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <input matInput placeholder="Address 2" formControlName="nomineeAddress2" autocomplete="off" required>
                                                    <mat-error *ngIf="nomineeDetails.controls.nomineeAddress2.errors?.required">Address2 is required</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <input matInput placeholder="Address 3" formControlName="nomineeAddress3" autocomplete="off">
                                                    <mat-error *ngIf="nomineeDetails.controls.nomineeAddress3.errors?.required">Address2 is required</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <input matInput placeholder="PIN Code"  pattern="[1-9][0-9]{5}" (keypress)="numberValidate($event)" minlength="6"   maxlength="6" (input)="get_pincodeDetails($event.target.value, 'Nominee')" formControlName="nomineePincode" autocomplete="off" required>
                                                    <mat-error *ngIf="nomineeDetails.controls.nomineePincode.hasError('minlength')">Pin should be 6 digits</mat-error>
                                                    <mat-error *ngIf="nomineeDetails.controls.nomineePincode.hasError('required')">Pincode required</mat-error>
                                                    <mat-error *ngIf="nomineeDetails.controls.nomineePincode.hasError('pattern')">Enter Valid  Pin</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <input matInput placeholder="State" formControlName="nomineeState" autocomplete="off" required readonly>
                                                    <mat-error *ngIf="nomineeDetails.controls.nomineeState.errors?.required">State is required</mat-error>
                                                </mat-form-field>
                                            </div>

                                            <div class="col-md-3">
                                                <mat-form-field  class="w-100">
                                                    <input matInput placeholder="District" formControlName="nomineeDistrict" autocomplete="off" required readonly>
                                                    <mat-error *ngIf="nomineeDetails.controls.nomineeDistrict.errors?.required">District is required</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field class="w-100" >
                                                    <input matInput placeholder="City" formControlName="nomineeCity" autocomplete="off" required readonly>
                                                    <mat-error *ngIf="nomineeDetails.controls.nomineeCity.errors?.required">City is required</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <mat-select  placeholder="Area" formControlName="nomineeArea" required  class="w-100" (change)="selectNomineResArea()" >
                                                        <mat-option *ngFor="let list of nomineeAreaList | keys" [value]= 'list.key'> {{list.value}} </mat-option>
                                                    </mat-select>
                                                    <mat-error *ngIf="nomineeDetails.controls.nomineeArea.errors?.required">Area is required</mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3">
                                                <mat-form-field class="w-100">
                                                    <input matInput placeholder="Nearest Land Mark" formControlName="nearestLandMark" autocomplete="off"  >
                                                </mat-form-field>
                                            </div>

                                        </div>
                                        <div class="proposal-buttom mb-3 text-right w-100">
                                            <button mat-button matStepperPrevious (click)="topScroll()">Back</button>
                                            <button mat-raised-button color="primaryBlue"   (click)="religareNomineeDetails(stepper, nomineeDetails.value)">Next</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </mat-expansion-panel>
                    </mat-accordion>
                </mat-step>
                <mat-step [stepControl]="">
                    <ng-template matStepLabel>SUMMARY</ng-template>
                    <section class="summary-details" *ngIf="summaryData">
                        <div class="row">
                            <div class="col-md-4">
                                <h4 class="mt-2"><span style="font-size: 17px; color: #666;">{{summaryData.group_name}} Sum Insured: &nbsp;<i class="fas fa-rupee-sign"></i> {{buyProductdetails.suminsured_amount}}</span></h4>
                            </div>
                            <div class="col-md-8">
                                <ul class="summary-head">
                                    <li><span>Insurer:</span> &nbsp;<img src="{{webhost + '/' + buyProductdetails.company_logo}}" class="img-thumbnail" style="width: 125px;"></li>
                                        <li><span>Premium:</span> &nbsp; <span><i class="fas fa-rupee-sign"></i> {{summaryData.premium}}</span></li>
                                    <li><span>Total Premium:</span> &nbsp;<span><i class="fas fa-rupee-sign"></i> {{summaryData.total_premium}}</span></li>
                                    <li></li>
                                </ul>
                            </div>
                        </div>
                        <section>
                            <h5 class="mt-3 sub-title">PROPOSER DETAILS </h5>
                            <div class="row box-card">
                                <div class="col-md-12">
                                </div>
                                <div class="col-md-6">
                                    <div class="p-3">
                                        <ul class="m-0 list-group">
                                            <li class="list-group-item"><strong>Name:</strong> {{proposerFormData.personalTitle}}. {{proposerFormData.personalFirstname}} {{proposerFormData.personalMidname}} {{proposerFormData.personalLastname}}</li>
                                            <li class="list-group-item"><strong>D.O.B:</strong> {{proposerFormData.personalDob | date: 'dd/MM/yyyy'}}</li>
                                            <li class="list-group-item"><strong>Email Id:</strong> {{proposerFormData.personalEmail}}</li>
                                            <li class="list-group-item"><strong>Mobile Number:</strong> {{proposerFormData.personalMobile}}</li>
                                            <li class="list-group-item" *ngIf="proposerFormData.personalPhone !=''"><strong>Phone Number:</strong> {{proposerFormData.personalPhone}}</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="p-3">
                                        <ul class="m-0 list-group">
                                            <li class="list-group-item"><strong>Gender:</strong> {{proposerFormData.personalGender}}</li>
                                            <li class="list-group-item"><strong>Marital Status:</strong> {{proposerFormData.maritalStatusName}}</li>
                                            <li class="list-group-item"><strong>Occupation:</strong> {{proposerFormData.occupationName}}</li>
                                            <li class="list-group-item"><strong>Nationality:</strong> {{proposerFormData.nationalityName}}</li>
                                            <li class="list-group-item" *ngIf="proposerFormData.personalPan !=''"><strong>PAN Number:</strong> {{proposerFormData.personalPan | uppercase}}</li>
                                            <li class="list-group-item" *ngIf="proposerFormData.serviceTax == 'No'"><strong>Is Service Tax Exemption  Applicable : </strong> NO</li>
                                            <li class="list-group-item" *ngIf="proposerFormData.serviceTax == 'Yes'"><strong>Is Service Tax Exemption  Applicable : </strong> YES</li>
                                            <li class="list-group-item" *ngIf="proposerFormData.ServicesTaxName != ''"><strong>Services Tax : </strong> {{proposerFormData.ServicesTaxName}} </li>

                                        </ul>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="p-3">
                                        <h6 class="color-blue">COMMUNICATION DETAILS</h6>
                                        <ul class="m-0 list-group">
                                            <li class="list-group-item"><strong>Address 1:</strong> {{proposerFormData.personalAddress}}</li>
                                            <li class="list-group-item" *ngIf="proposerFormData.personalAddress2 !=''"><strong>Address 2:</strong> {{proposerFormData.personalAddress2}}</li>
                                            <li class="list-group-item" *ngIf="proposerFormData.personalAddress3 !=''"><strong>Address 3:</strong> {{proposerFormData.personalAddress3}}</li>
                                            <li class="list-group-item" ><strong>Area:</strong> {{proposerFormData.personalAreaName}}</li>
                                            <li class="list-group-item"><strong>City:</strong> {{proposerFormData.personalCity}}</li>
                                            <li class="list-group-item"><strong>State:</strong> {{proposerFormData.personalState}}</li>
                                            <li class="list-group-item"><strong>District:</strong> {{proposerFormData.personalDistrict}}</li>
                                            <li class="list-group-item"><strong>Country:</strong> India</li>
                                            <li class="list-group-item"><strong>PIN code:</strong> {{proposerFormData.personalPincode}}</li>
                                            <li class="list-group-item" *ngIf="proposerFormData.personalFax !=''"><strong>Fax:</strong> {{proposerFormData.personalFax}}</li>
                                            <li class="list-group-item" *ngIf="proposerFormData.personalNearestLandMark !=''"><strong>Nearest Landmark:</strong> {{proposerFormData.personalNearestLandMark}}</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class=" p-3">
                                        <h6 class="color-blue">RESIDENCE DETAILS</h6>
                                        <ul class="m-0 list-group">
                                            <li class="list-group-item"><strong>Address 1:</strong> {{proposerFormData.residenceAddress}}</li>
                                            <li class="list-group-item" *ngIf="proposerFormData.residenceAddress2 !=''"><strong>Address 2:</strong> {{proposerFormData.residenceAddress2}}</li>
                                            <li class="list-group-item" *ngIf="proposerFormData.residenceAddress3 !=''"><strong>Address 3:</strong> {{proposerFormData.residenceAddress3}}</li>
                                            <li class="list-group-item"><strong>Area:</strong> {{proposerFormData.residenceAreaName}}</li>
                                            <li class="list-group-item"><strong>City:</strong> {{proposerFormData.residenceCity}}</li>
                                            <li class="list-group-item"><strong>State:</strong> {{proposerFormData.residenceState}}</li>
                                            <li class="list-group-item"><strong>District:</strong> {{proposerFormData.residenceDistrict}}</li>
                                            <li class="list-group-item"><strong>Country:</strong> India</li>
                                            <li class="list-group-item"><strong>PIN code:</strong> {{proposerFormData.residencePincode}}</li>

                                            <li class="list-group-item" *ngIf="proposerFormData.residenceNearestLandMark !=''"><strong>Nearest Landmark:</strong> {{proposerFormData.residenceNearestLandMark}}</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <section *ngFor="let item of insuredFormData">
                            <h5 class="mt-3 sub-title">INSURED DETAILS FOR {{item.type | uppercase}} </h5>
                            <div class="row box-card">
                                <div class="col-md-12">
                                </div>
                                <div class="col-md-6">
                                    <div class="p-3">
                                        <ul class="m-0 list-group">
                                            <li class="list-group-item"><strong>Name:</strong> {{item.personalTitle}}. {{item.personalFirstname}} {{item.personalMidname}} {{item.personalLastname}}</li>
                                            <li class="list-group-item"><strong>Gender:</strong> {{item.personalGender}}</li>
                                            <li class="list-group-item"><strong>Marital Status:</strong> {{item.maritalStatusName}}</li>
                                            <li class="list-group-item"><strong>D.O.B:</strong> {{item.personalDob | date: 'dd/MM/yyyy'}}</li>
                                            <li class="list-group-item"><strong>Age:</strong> {{item.personalAge}}</li>
                                            <li class="list-group-item"><strong>Occupation:</strong> {{item.occupationName}}</li>
                                            <li class="list-group-item"><strong>Relationship:</strong> {{item.personalrelationshipName}}</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="p-3">
                                        <ul class="m-0 list-group">
                                            <li class="list-group-item" *ngIf="item.IsExistingIllness == 'No'"><strong >Existing Illness :  </strong> No </li>
                                            <li class="list-group-item"  *ngIf="item.IsExistingIllness == 'Yes'"><strong >Existing Illness :  </strong> Yes </li>
                                            <li class="list-group-item" *ngIf="item.IsInsuredConsumetobacco == 'No'"><strong>Insured Consume Tobacco : </strong> No</li>
                                            <li class="list-group-item" *ngIf="item.IsInsuredConsumetobacco == 'Yes'"><strong>Insured Consume Tobacco : </strong> Yes</li>
                                            <li class="list-group-item" *ngIf="item.HasAnyPreClaimOnInsured == 'No'"><strong>Has Any Pre Claim On Insured : </strong> No</li>
                                            <li class="list-group-item" *ngIf="item.HasAnyPreClaimOnInsured == 'Yes'"><strong>Has Any Pre Claim On Insured : </strong>Yes</li>
                                            <li class="list-group-item" *ngIf="item.HasAnyPreHealthInsuranceCancelled == 'No'"><strong>Has Any Pre Health Insurance Cancelled : </strong> No</li>
                                            <li class="list-group-item" *ngIf="item.HasAnyPreHealthInsuranceCancelled == 'Yes'"><strong>Has Any Pre Health Insurance Cancelled : </strong> Yes</li>

                                            <!--<li class="list-group-item"><strong>Details Of Pre Claim On Insured : </strong> <span *ngIf="item.PreExistingDisease.DetailsOfPreClaimOnInsured == ''">Nil</span><span *ngIf="item.PreExistingDisease.DetailsOfPreClaimOnInsured != ''">{{item.PreExistingDisease.DetailsOfPreClaimOnInsured}}</span></li>-->
                                            <!--<li class="list-group-item" *ngIf="item.PreExistingDisease.DiseaseList[0].pre_existing_disease_name !=''"><strong>Disease:</strong> {{item.PreExistingDisease.DiseaseList[0].pre_existing_disease_name}}</li>-->
                                            <!--<li class="list-group-item" *ngIf="item.PreExistingDisease.DiseaseList[0].SufferingSince !=''"><strong>Suffering Since : </strong> {{item.PreExistingDisease.DiseaseList[0].SufferingSince}}</li>-->
                                            <!--<li class="list-group-item" *ngIf="item.PreExistingDisease.DiseaseList[0].OtherDisease !=''"><strong>Other Disease : </strong> {{item.PreExistingDisease.DiseaseList[0].OtherDisease}}</li>-->

                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </section>
                        <h5 class="mt-3 sub-title">PREVIOUS INSURANCE DETAILS </h5>
                        <div class="row box-card">
                            <div class="col-md-6">
                                <div class="p-3">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <ul class="m-0 list-group">
                                                <li class="list-group-item" *ngIf="previousInsuranceFromData.InsuranceCompName != ''"> <strong>Previous Insurance ID : </strong> {{previousInsuranceFromData.InsuranceCompName}}</li>
                                                <li class="list-group-item" *ngIf="previousInsuranceFromData.InsuranceCompName == ''"> <strong>Previous Insurance ID : </strong> Nil</li>
                                                <li class="list-group-item" *ngIf="previousInsuranceFromData.PreviousPolNo != ''"><strong>Previous Year Policy No : </strong> {{previousInsuranceFromData.PreviousPolNo}}</li>
                                                <li class="list-group-item" *ngIf="previousInsuranceFromData.PreviousPolNo == ''"><strong>Previous Year Policy No : </strong> Nil</li>
                                                <li class="list-group-item" *ngIf="previousInsuranceFromData.PolicyStartDate != '' && previousInsuranceFromData.PolicyStartDate != null && previousInsuranceFromData.PolicyStartDate != undefined"><strong>Previous Year Start Date : </strong> {{previousInsuranceFromData.PolicyStartDate | date: 'dd/MM/yyyy'}}</li>
                                                <li class="list-group-item" *ngIf="previousInsuranceFromData.PolicyStartDate == '' || previousInsuranceFromData.PolicyStartDate == null || previousInsuranceFromData.PolicyStartDate == undefined"><strong>Previous Year Start Date : </strong> Nil</li>
                                                <li class="list-group-item" *ngIf="previousInsuranceFromData.PolicyEndDate != '' && previousInsuranceFromData.PolicyEndDate != null && previousInsuranceFromData.PolicyEndDate != undefined"><strong>Previous Year End Date : </strong> {{previousInsuranceFromData.PolicyEndDate | date: 'dd/MM/yyyy'}}</li>
                                                <li class="list-group-item" *ngIf="previousInsuranceFromData.PolicyEndDate == '' || previousInsuranceFromData.PolicyEndDate == null || previousInsuranceFromData.PolicyEndDate == undefined"><strong>Previous Year End Date : </strong> Nil</li>

                                                <!--<li class="list-group-item" *ngIf="previousInsuranceFromData.PreviousInsuranceDetails.PrevYearPolicyEndDate != ''"><strong>Previous Year End Date : </strong> {{summaryData.PreviousInsuranceDetails.PrevYearPolicyEndDate | date: 'dd/MM/yyyy'}}</li>-->
                                                <!--<li class="list-group-item" *ngIf="previousInsuranceFromData.PreviousInsuranceDetails.PrevYearPolicyEndDate == ''"><strong>Previous Year End Date : </strong> Nil</li>-->


                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <h5 class="mt-3 sub-title">NOMINEE DETAILS </h5>
                        <div class="row box-card">
                            <div class="col-md-6">
                                <div class="p-3">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <ul class="m-0 list-group">
                                                <li class="list-group-item"><strong>Nominee name:</strong>{{nomineeFormData.nomineeTitle}}.{{nomineeFormData.nomineeFirstName}} {{nomineeFormData.nomineeMidName}} {{nomineeFormData.nomineeLastName}}</li>
                                                <li class="list-group-item" *ngIf="nomineeFormData.nomineeDob !=''"><strong>DOB:</strong> {{nomineeFormData.nomineeDob | date: 'dd/MM/yyyy'}}</li>
                                                <li class="list-group-item" *ngIf="nomineeFormData.nomineeRelationshipName !=''"><strong>Relationship with Insured:</strong> {{nomineeFormData.nomineeRelationshipName}}</li>
                                                <li class="list-group-item" *ngIf="nomineeFormData.nomineeAddress !=''"><strong>Address 1:</strong> {{nomineeFormData.nomineeAddress}}</li>
                                                <li class="list-group-item" *ngIf="nomineeFormData.nomineeAddress2 !=''"><strong>Address 2:</strong> {{nomineeFormData.nomineeAddress2}}</li>
                                                <li class="list-group-item" *ngIf="nomineeFormData.nomineeAddress3 !=''"><strong>Address 3:</strong> {{nomineeFormData.nomineeAddress3}}</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="p-3">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <ul class="m-0 list-group">
                                                <!--<li class="list-group-item" *ngIf="summaryData.NomineeDetails.NomineeAddress.NomineeRelationshipOther !=''"><strong>Relationship Other:</strong> {{summaryData.NomineeDetails.NomineeAddress.NomineeRelationshipOther}}</li>-->
                                                <li class="list-group-item"><strong *ngIf="nomineeFormData.nomineeAreaName !=''">Area:</strong> {{nomineeFormData.nomineeAreaName}}</li>
                                                <li class="list-group-item" *ngIf="nomineeFormData.nearestLandMark !=''"><strong>LandMark:</strong> {{nomineeFormData.nearestLandMark}}</li>
                                                <li class="list-group-item"><strong>City:</strong> {{nomineeFormData.nomineeCity}}</li>
                                                <li class="list-group-item"><strong>District:</strong> {{nomineeFormData.nomineeDistrict}}</li>
                                                <li class="list-group-item"><strong>State:</strong> {{nomineeFormData.nomineeState}}</li>
                                                <li class="list-group-item"><strong>Country:</strong> India</li>
                                                <li class="list-group-item" *ngIf="nomineeFormData.nomineePincode !=''"><strong>PIN code:</strong> {{nomineeFormData.nomineePincode}}</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <p class="mt-2 pl-3">
                            <mat-checkbox [(ngModel)]="declaration">I hereby declare all  the  details provided above are correct</mat-checkbox>
                        </p>
                        <hr>

                    </section>
                    <div class="row" *ngIf="summaryData">
                        <div class="col-md-6 text-right">
                            <button mat-button matStepperPrevious  (click)="topScroll()">Back</button>
                        </div>
                        <div class="col-md-6 text-left">
                            <form action={{summaryData.RediretUrlLink}} method='post' #form>
                                <button mat-raised-button color="primaryBlue" [disabled]="!declaration" (click)="form.submit()">Pay Now</button>
                            </form>
                        </div>
                    </div>
                </mat-step>
            </mat-horizontal-stepper>
        </div>
        </div>
    </div>
