!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/router"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("angular-gtag",["exports","@angular/core","@angular/router","rxjs/operators"],t):t(e["angular-gtag"]={},e.ng.core,e.ng.router,e.Rx.Observable.prototype)}(this,function(e,t,o,n){"use strict";function r(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,n,a=r.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(o=a.next()).done;)i.push(o.value)}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=a["return"])&&r.call(a)}finally{if(n)throw n.error}}return i}var a=function(){function e(e,t){var r=this;this.router=t,this.mergedConfig=Object.assign({trackPageviews:!0},e),this.mergedConfig.trackPageviews&&t.events.pipe(n.filter(function(e){return e instanceof o.NavigationEnd}),n.tap(function(e){r.pageview()})).subscribe()}return e.prototype.event=function(e,t){void 0===t&&(t={});try{gtag("event",e,t),this.debug("event",this.mergedConfig.trackingId,e,t)}catch(r){console.error("Google Analytics event error",r)}},e.prototype.pageview=function(e){try{var t={page_path:this.router.url,page_title:"Angular App",page_location:window.location.href};e=Object.assign({},t,e),gtag("config",this.mergedConfig.trackingId,e),this.debug("pageview",this.mergedConfig.trackingId,e)}catch(r){console.error("Google Analytics pageview error",r)}},e.prototype.config=function(e){try{gtag("config",this.mergedConfig.trackingId,{})}catch(t){console.error("Google Analytics config error",t)}},e.prototype.set=function(e){try{gtag("set",{})}catch(t){console.error("Google Analytics set error",t)}},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.mergedConfig.debug&&console.log.apply(console,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e}(["angular-gtag:"],e))},e}();a.decorators=[{type:t.Injectable}],a.ctorParameters=function(){return[{type:undefined,decorators:[{type:t.Inject,args:["config"]}]},{type:o.Router}]};var i=function(){function e(e,t,r){this.gtag=e,this.renderer=t,this.el=r}return e.prototype.ngAfterViewInit=function(){var e=this;try{this.renderer.listen(this.el.nativeElement,this.trackOn,function(){e.gtag.event(e.action||e.trackOn,Object.assign({event_category:e.category},e.params))})}catch(t){console.error(t)}},e}();i.decorators=[{type:t.Directive,args:[{selector:"[gtagEvent]"}]}],i.ctorParameters=function(){return[{type:a},{type:t.Renderer2},{type:t.ElementRef}]},i.propDecorators={trackOn:[{type:t.Input}],action:[{type:t.Input}],category:[{type:t.Input}],params:[{type:t.Input}]};var c=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[a,{provide:"config",useValue:e}]}},t}();c.decorators=[{type:t.NgModule,args:[{declarations:[i],exports:[i]}]}],e.Gtag=a,e.GtagEventDirective=i,e.GtagModule=c,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=angular-gtag.umd.min.js.map
