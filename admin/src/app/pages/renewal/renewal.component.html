
<div class="flex-p text-right">
  <button mat-raised-button color="primary" type="button" class="button-right" (click)="addAmin()"><i class="material-icons">
    add
  </i> Add</button>

</div>
<section>
  <div class="flex-p">

    <div class="row">
      <div class="col-md-6">
        <div class="text-left">
          <mat-form-field class="w-50">
            <mat-select placeholder="Filter By Status" [(ngModel)]="selectedStatus" (change)= "changeStatus()">
              <mat-option *ngFor="let list of statusList" [value]="list.id">
                {{list.name}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
      <div class="col-md-6 ">
        <div class="text-right">
          <mat-form-field class="w-40">
            <input matInput placeholder="Search By Name..." (keyup)="updateFilter($event)">
            <mat-icon matSuffix>search</mat-icon>
          </mat-form-field>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <div fxLayout="column">
        <div class="flex-p">

          <ngx-datatable
                  #table
                  class="material"
                  [headerHeight]="50"
                  [limit]="10"
                  [columnMode]="'force'"
                  [footerHeight]="50"
                  [rowHeight]="'auto'"
                  [rows]="rows"
                  [count]="total"
                  [loadingIndicator]="loadingIndicator"
                 >
            <!--<ngx-datatable-column name="S.No">-->
              <!--<ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row" let-value="value">-->
                <!--<div>{{rowIndex+1}}</div>-->
              <!--</ng-template>-->
            <!--</ngx-datatable-column>-->
            <ngx-datatable-column name="Name">
              <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row" let-value="value">
                {{row.insure_name}}
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Email">
              <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row" let-value="value">
                {{row.insure_email}}
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Mobile">
              <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row" let-value="value">
                {{row.insure_mobile}}
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Policy type">
              <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row" let-value="value">
                {{row.insure_policy_type}}
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Company Name">
              <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row" let-value="value">
                {{row.insure_company_name}}
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Start Date">
              <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row" let-value="value">
                {{row.insure_start_date | date: 'dd-MMM-yy'}}
              </ng-template>
            </ngx-datatable-column>

            <ngx-datatable-column name="End Date">
              <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row" let-value="value">
                {{row.insure_end_date | date: 'dd-MMM-yy'}}
              </ng-template>
            </ngx-datatable-column>

            <ngx-datatable-column name="Active">
              <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row" let-value="value">
                <mat-slide-toggle  [(ngModel)]="row.aprove" (change)="updateStatus(rowIndex, row)"></mat-slide-toggle>
              </ng-template>
            </ngx-datatable-column>


          </ngx-datatable>


        </div>
      </div>

    </div>
  </div>

</section>
