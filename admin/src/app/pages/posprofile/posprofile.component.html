<div class="container-fluid doctorprofile">
    <div class="row">
        <div class="col-md-12  mb-3">
            <button mat-raised-button type="button" color="primary" class="btn btn-primary float-right" [routerLink]="['/pos']"><mat-icon class="material-icons">keyboard_backspace</mat-icon><span>Back</span></button>
        </div>
    </div>
    <mat-card class="doctordetail mb-3">
        <div class="row">
            <div class="col-md-12 text-center">
                <div class="row">
                    <div class="col-md-2">
                    </div>
                    <div class="col-md-8">
                        <div class="user-img">
                            <img *ngIf="posData.pos_profile_img == ''" src="assets/img/users/default-user.jpg" class="transition-2 rounded-circle">
                            <img *ngIf="posData.pos_profile_img != ''" src="{{webhost + '/' + posData.pos_profile_img}}" class="transition-2 rounded-circle">
                            <h4 class="mt-2">{{posData.pos_firstname | titlecase}} {{posData.pos_lastname | titlecase}}</h4>
                            <div class="container personaldetails ">
                                <p fxLayout="row" fxLayoutAlign="start center">
                                    <i class="material-icons user-name" >school</i>  <strong class="user-name">Qualifications : </strong>
                                    <span> {{posData.doc_education | titlecase}}</span>
                                </p>
                                <p fxLayout="row" fxLayoutAlign="start center">
                                    <i class="material-icons user-name">phone</i>  <strong class="user-name">Phone : </strong>
                                    <span> {{posData.pos_mobileno}}</span>
                                </p>
                                <p fxLayout="row" fxLayoutAlign="start center">
                                    <i class="material-icons user-name">mail</i>  <strong class="user-name">Email : </strong>
                                    <span > {{posData.pos_email}}</span>
                                </p>
                                <p fxLayout="row" fxLayoutAlign="start start">
                                    <i class="material-icons user-name">location_on</i>  <strong class="user-name" style="width: 100px;">Address : </strong>
                                    <span class="text-capitalize text-left" >{{posData.pos_address1 | titlecase}}<span
                                            *ngIf="posData.pos_address2 != ''">, </span>{{posData.pos_address2 | titlecase}}<span
                                            *ngIf="posData.pos_postalcode != ''"> - </span><span >{{posData.pos_postalcode}}</span>
                                    </span>
                                </p>
                            </div>

                        </div>
                    </div>
                    <div class="col-md-2">
                    </div>
                </div>
            </div>

        </div>
    </mat-card>
    <mat-accordion class="certificate">
        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Pan Card
                </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="row">
                <div class="col-md-12" *ngIf="posData.doc_pan_img == ''" >
                    <p class="text-center"  class="text-center" fxLayout="row" fxLayoutAlign="center center">  <i class="material-icons">
                        cloud_off
                    </i> &nbsp; No Pan Card</p>
                </div>
                <div class="col-md-6" >
                    <div class="text-left" *ngIf="roleId == '1'">
                        <mat-checkbox [(ngModel)]="isAlreadyAgent" >Already a Agent</mat-checkbox>
                    </div>
                    <div class="text-left" *ngIf="roleId == '1'">
                        <mat-checkbox [(ngModel)]="panImage" >Pan Image</mat-checkbox>
                    </div>
                    <img style="width: 250px; height: 150px;"  *ngIf="posData.doc_pan_img != ''" src="{{webhost  +'/'+ posData.doc_pan_img}}" class="float-left img-thumbnail" (click)="viewImage(posData.doc_pan_img, 'Pan Card')">
                </div>
            </div>
        </mat-expansion-panel>

        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Aadhaar Card
                </mat-panel-title>

            </mat-expansion-panel-header>
            <div class="row">
                <div class="col-md-6">
                    <div class="text-left" *ngIf="roleId == '1'">
                        <mat-checkbox [(ngModel)]="aadharFront" >Aadhaar Front Image</mat-checkbox>
                    </div>
                    <img style="width: 250px; height: 150px;" *ngIf="posData.doc_aadhar_front_img != ''" src="{{webhost  +'/'+ posData.doc_aadhar_front_img}}" class="float-left img-thumbnail" (click)="viewImage(posData.doc_aadhar_front_img, 'Aadhar')">
                </div>
                <div class="col-md-6">
                    <div class="text-left" *ngIf="roleId == '1'">
                        <mat-checkbox [(ngModel)]="aadharBack" >Aadhaar Back Image</mat-checkbox>
                    </div>
                    <img style="width: 250px; height: 150px;" *ngIf="posData.doc_aadhar_back_img != ''" src="{{webhost  +'/'+ posData.doc_aadhar_back_img}}" class="float-left img-thumbnail" (click)="viewImage(posData.doc_aadhar_back_img, 'Aadhar Card')">
                </div>
                <div class="no-data"  *ngIf="posData.doc_aadhar_front_img == '' && posData.doc_aadhar_back_img == ''" >
                    <p class="text-center"  class="text-center" fxLayout="row" fxLayoutAlign="center center">  <i class="material-icons">
                        cloud_off
                    </i> &nbsp; No Aadhar card</p>
                </div>
            </div>

        </mat-expansion-panel>
        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Educational Certificate(s)
                </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="row">
                <div *ngIf="posData.doc_edu_certificate_img.length == 0" >
                    <p class="text-center"  class="text-center" fxLayout="row" fxLayoutAlign="center center">  <i class="material-icons">
                        cloud_off
                    </i> &nbsp; No Educational Certificated</p>
                </div>

                <div class="col-md-12" *ngIf="posData.doc_edu_certificate_img.length != 0" >
                    <div class="text-left" *ngIf="roleId == '1'">
                        <mat-checkbox [(ngModel)]="educationalDoc" >Educational Documents</mat-checkbox>
                    </div>
                    <div *ngFor="let edu of posData.doc_edu_certificate_img">
                        <img style="width: 250px; height: 150px;" src="{{webhost  +'/'+ edu}}" class="float-left img-thumbnail" (click)="viewImage(edu, 'Educational Certificate')">
                    </div>
                </div>
            </div>

        </mat-expansion-panel>

        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Bank Details
                </mat-panel-title>
            </mat-expansion-panel-header>

            <div fxLayout="row" fxLayoutAlign="center center" class="h-100" >
                <div fxFlex="100" fxFlex.gt-sm="60"  fxFlex.sm="80">
                    <div class="text-left" *ngIf="roleId == '1'">
                        <mat-checkbox [(ngModel)]="bankDoc" >Bank Details</mat-checkbox>
                    </div>
                    <mat-card class="list">
                        <mat-card-content>
                            <mat-list class="p-0">
                                <div class="row personaldetails">
                                    <div class="col-md-2"></div>
                                    <div class="col-md-8">
                                        <p fxLayout="row" fxLayoutAlign="left center">
                                            <mat-icon class="muted-text colorBank">account_balance</mat-icon>&nbsp;<span class="colorBank"> Bank Nmae : </span>
                                            <span class="text-capitalize ml-2">{{posData.bank_name}}</span>
                                        </p>
                                        <p fxLayout="row" fxLayoutAlign="left center">
                                            <mat-icon class="muted-text colorBank">account_circle</mat-icon>&nbsp;<span class="colorBank"> Bank Account No : </span>
                                            <span class="ml-2">{{posData.bank_acc_no}}</span>
                                        </p>
                                        <p fxLayout="row" fxLayoutAlign="left center">
                                            <mat-icon class="muted-text colorBank">dashboard</mat-icon>&nbsp;<span class="colorBank">Branch Name :</span>
                                            <span class="text-capitalize ml-2">{{posData.branch_name}}</span>
                                        </p>
                                        <p fxLayout="row" fxLayoutAlign="left center">
                                            <mat-icon class="muted-text colorBank">code</mat-icon>&nbsp;<span class="colorBank"> IFSC Code : </span>
                                            <span class="ml-2">{{posData.ifsc_code}}</span>
                                        </p>
                                    </div>
                                    <div class="col-md-2"></div>
                                </div>

                            </mat-list>
                        </mat-card-content>
                    </mat-card>
                </div>
            </div>

            <div fxLayout="row" fxLayoutAlign="center center" class="h-100" *ngIf="posData.check_leaf_upload_img != ''">
                <div class="mb-2 mt-2">
                    <h6 class="text-center" style="color: #0288d1">Cheque Leaf</h6>
                    <img src="{{webhost +'/'+ posData.check_leaf_upload_img}}" alt="" style="width: 298px" (click)="viewImage(posData.check_leaf_upload_img, 'Check Leaf')">
                </div>
            </div>

        </mat-expansion-panel>
        <mat-expansion-panel *ngIf="posData.doc_verified_status ">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Training Details
                </mat-panel-title>
            </mat-expansion-panel-header>
            <div fxLayout="row" fxLayoutAlign="center center" class="h-100"  *ngIf="posData.training_status == 0">
                <div fxFlex="100" fxFlex.gt-sm="60"  fxFlex.sm="80">
                    <div fxLayout="column" fxLayoutAlign="center center" class="h-100 empty">
                        <mat-card-title class="m-0 text-center" style="color:#0288d1 !important"><h5>Training still in progress.... </h5></mat-card-title>
                    </div>
                </div>
            </div>
            <div *ngIf="posData.training_status == 1">
                <table class="table table-striped">
                    <thead>
                    <tr>
                        <th>Date</th>
                        <th>Time</th>
                        <th>Status</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let lists of trainingDetails; let last = last">
                        <td>{{lists.training_attend_date | date: 'dd-MMM-yy'}}</td>
                        <td>{{lists.time}}</td>
                        <td *ngIf="last"> <span class="text-title-color">Completed</span></td>
                        <td *ngIf="!last"> <span style="color: rgba(228, 24, 71, 0.98) !important;">Progress</span></td>

                    </tr>

                    </tbody>
                </table>
            </div>

        </mat-expansion-panel >
        <mat-expansion-panel *ngIf="posData.training_status != 0 && posData.exam_status != 0">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Examination Details
                </mat-panel-title>
            </mat-expansion-panel-header>
            <div >
                <!--<div fxLayout="row" fxLayoutAlign="center center" class="h-100"  >-->
                <!--<div fxFlex="100" fxFlex.gt-sm="60"  fxFlex.sm="80">-->
                <!--&lt;!&ndash;<div fxLayout="column" fxLayoutAlign="center center" class="h-100 empty">&ndash;&gt;-->
                <!--&lt;!&ndash;<mat-icon>edit</mat-icon>&ndash;&gt;-->
                <!--&lt;!&ndash;</div>&ndash;&gt;-->
                <!--<div fxLayout="column" fxLayoutAlign="center center" class="h-100 empty">-->
                <!--<mat-card-title class="m-0 text-center" style="color:red !important"><h5>Please complete training before applying the exam</h5></mat-card-title>-->
                <!--</div>-->
                <!--</div>-->
                <!--</div>-->

                <div fxLayoutWrap fxLayout="row" fxLayoutAlign="center" *ngIf="posData.exam_status == 2">
                    <div fxFlex="100" fxFlex.gt-sm="50" fxFlex.sm="60" class="flex-p">
                        <mat-card class="list">
                            <mat-card-header fxLayoutAlign="center center">
                                <mat-card-subtitle>
                                    <img style="width: 150px" src="assets/img/pass-logo.png" >
                                    <h1 fxLayoutAlign="center center" style="color: rgba(48, 117, 40, 0.92) !important;">{{recentMark}}%</h1>
                                </mat-card-subtitle>
                            </mat-card-header>
                            <mat-card-content>
                                <div class="w-100"  fxLayoutAlign="center center">
                                    <img  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPWSURBVFhHxVjbSxRhFN9eqofuf0NPQrTraoXlBSqkh0rqJQp6EbMgCgoK6qX/oNLqKbBoZ9ZbEBSSuDOjrppU6JpXvBBbYiWiGd4y9eucmbPurh51ZhzHH/xg2e+c8/34zpzzXTzrxaGqV7u8NaXpfk3KS1WlS0ivGjjr0+Q0HCMzFyHEFp8SyPIp8lNgd6oqizXYadgGstCXojiP/VVV23wh+apPlQcYEeaoyH2wwldSysu3Ulhn4A0FT/lUqZ+d1A4NobkU3j6ytZLtmB52EmdYjJmh6azhyPuyfRCgaUlAxwkLED4QlvbStOZwUCvZAymIcAE3hlLEX1O+m6ZfHUZapWY+0MYRVrLBVPFAlT7jArjEYpLBA6uVcXKV/pB8kuQkQ0+tk63ELhW5l001NmHWYTOoyAUki4Dblwurl1VfIW59qRcPuptFJvzmbHTCKiZti34tmMMaOsTs+kpREu0UU3P/RAxvhgZY20WGgpkkD9K7gbtFfkuN+DE9SbLi+DT6k7WPUyoieR5PqiJ18UbrY1F/RMwvLJCkOL5OjovLn6tZnzilDl0cntl4A/v0A19Eu0hOHP0Tv8XNtjp9nPNLoiItpGjlOzx42GQNEpiuBcXt9npR2Kqw44lMA9uKwT6SZADX8CUIPlxbyvqsTMmP398ZfjDOwLceYyaAMvxN5IQrWTtkxWAvWRqYnZ8XdzsaWNu16AtJp+H7C17kBhPZMjZM0xmITv0ReR/eLrMrGoiQhYGZ+TlxPaItszNN0GZK4I22Wn2yRIzP/tUrNGZzr7NRT2UMuHLXImpSHMtEgWZSjDzX/E70TYzR9Aam5+b0ajwPY/g7BhR6v7OJjWOFeorx9sUNcjxWVyEaRoYMFYTR2Rm9bSQCU835W2aoNNVym8EqVYe/k5TlqP4VZf0sM9ZmEFYbdUZdmWgfHyFJcQxNT+j7LedjndSoEXa2uuPh12J4ZoqkGbhjs51wBE2PSB4cVFUpmzNaiwUtIb1aEdiKTO0QJulXA0dJHgCONsZdlTdejRc+VunHJywgbtwWlx63EHAeLGSNN4FeNZBPsuLAYzYq5xzcJFzaela83UHl5HJOrhFai1eTTpAcHnAnfsI6u0CY+zHJWBn4VgIr2cgF2EhCDSimX73wGQJEuvf0ocitpp8+YsAHHWiWYTagk1TkWnwLommtwUi3XLwsqBOEgoC0PrT9/JYIfI5wsgVhK1mzWq2C+mTBuoSCLzZh08VgC7gtwqUaWwKeOFghSZQ6cOPX99al25cbyGh4vhNE+PWTOV4fgHgSxv8Wz3O24fH8B+r988tAkuwqAAAAAElFTkSuQmCC">
                                </div>
                            </mat-card-content>
                        </mat-card>
                    </div>

                </div>

                <div fxLayoutWrap fxLayout="row" fxLayoutAlign="center"  *ngIf="posData.exam_status == 1">
                    <div fxFlex="100" fxFlex.gt-sm="50" fxFlex.sm="60" class="flex-p">
                        <mat-card class="list">
                            <mat-card-header fxLayoutAlign="center center">
                                <mat-card-subtitle>
                                    <img style="width: 150px" src="assets/img/fail-logo.png" >
                                    <h1 fxLayoutAlign="center center" style="color: rgba(228, 24, 71, 0.98) !important;">{{recentMark}}%</h1>
                                </mat-card-subtitle>
                            </mat-card-header>
                            <mat-card-content>
                                <div class="w-100"  fxLayoutAlign="center center">
                                    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPRSURBVFhHzVhJaxRBFG4v6sEl+lNcTuJyUFTMdI+a8ZAw3WPGcV9QL4LLQRFEMEbjDgreBRVEvQiCGhRBPUQTYzIzPSaakAQMmM2YlO/rrkx6pt8kNSt+8EHo+l7Vl35dr96UVizaN9UtSlVHViYMK5jUrTowHggbth5egTEpqxyEps2J6+YaMnI9aZitScMSMzFhmJ+hRQxi5TSlR/umQ/MSurU3oZudnBEV0lv+Zget3S2h0Fw5bWmQCJqbyVwHt2ghhNG4Ed4opy8cibXWfDeV/ELFkow2ITNyufyQqokuJXPN3MSlJGXmlb2ldolcVg30n1UldfMTN2FZSGt1hnYvlsvPDCethvXWN0mZSbv9tdLmobTe4CaoBPFNShs8sFu5wErSDkQ2SDuZQGpVSkn3gROir+G2SNXtZ8c5QtvXeMeJ5ca9pFS3s6lGEeYCvOyKHReTo2MCGO/uEd/DB1mdl9BACyC2a9cxVpdB3YpJWy5wBKm8vd5zDc5CUxj92iHs0C5WC2IMGi96z15itV7iLWYci/RxruOE2bRromIskZJLufj9slkkgxG/np5hzAvE2tujfi1D24islvacnat8WnyvPyr+9g/IJV38evDEp8MzLxCD2GxdLtKZf1Xacwx+4US5+OPIqfS3OIX+a/fS4/1Nd+VTF5MjI6L78MmMOWYjZbXFMYeejRPMxt7zjUJMTEgLZGJ8XPScvuAQf6dBGmi5OWYiGZzsDYUWaGg2OYEKB27ely5cTAwNO/QCGi5WhdSaLdds3dS5QVUOPn4urfgx+OgZG6NK2igB2sGRWm5QmVt3iuF3H6SlaeAZxtgYRcLb/2+w6BRTGnNh8OFTNkaVTorx64sbVGG5N0myOrKs9GXmzMWM506ZUTjespkuM0C+hRpFF8XXCxTnqXHuzRZcqIH/8qgzrEZpT9PiwfBaTpTNfJuFoeb3UuVirCMh7G31fi3HgLVK2pPtFv1WZYUesu0Wmea0oL0j5mu38I1yWi997RYQN8w9nNhLb8P6p/tn/g3ryKjoiiqlOSptTQNtNpwz4gy6Lf8tkardx45zdFp+ilFp+ZOG2Zbz1x2uI/igyhClheryemmHB73Fa1xwJUhrX5E2csO9xTLfcBOUk2TuhfKtF64hKnz18VH56mMKuNDBxQ47YSmpWy/p26uSy+YHJ92G1cROXCSxIejNXS74+s0LXEeolCB1mm2z7tZ8gQ+Y0hErxqiMjSpvhkKAIwg/qlESKE0t2SayCQ2xEWer7/iqBFr1+oX49YXOHC06iE4Yz9L9XMHQtH/PLw7ChMT5RAAAAABJRU5ErkJggg==">
                                </div>
                                <!--<div class="w-100 mt-2"  fxLayoutAlign="center center">-->
                                <!--<button mat-raised-button color="primary" class="text-right editBtn" [routerLink]="['/startexam']">Re-Exam-->
                                <!--</button>-->
                                <!--</div>-->
                            </mat-card-content>
                        </mat-card>
                    </div>
                </div>
                <div *ngIf="posData.exam_status == 2 || posData.exam_status == 1">
                    <table class="table table-striped">
                        <thead>
                        <tr>
                            <th>Date</th>
                            <th>Time</th>
                            <th>Percentage</th>
                            <th>Status</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr *ngFor="let lists of examDetails">
                            <td>{{lists.test_attended_date | date: 'dd-MMM-yy'}}</td>
                            <td>{{lists.test_attended_date | date: 'hh:mm a'}}</td>
                            <td>{{lists.percentage_in_exam}}</td>
                            <td *ngIf="lists.percentage_in_exam >= 40"> <span class="text-title-color">Success</span></td>
                            <td *ngIf="lists.percentage_in_exam < 40"> <span style="color: rgba(228, 24, 71, 0.98) !important;">Try Again</span></td>
                        </tr>


                        </tbody>
                    </table>
                </div>

            </div>

        </mat-expansion-panel>

        <mat-expansion-panel *ngIf="posData.training_status != 0">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Certificate of Training
                </mat-panel-title>
            </mat-expansion-panel-header>
            <!--Appointment letter-->
            <div class="certificate-bg">
                <div class="container mb-1 mt-1 w-100 text-right">
                    <button mat-raised-button class="text-right editBtn" (click)="printTraining()">Print & Download
                        <mat-icon>print</mat-icon>
                    </button>
                </div>
                <div class="container pt-7 pb-3" id="pos-training-cirtificate">
                    <div id="training">
                        <mat-card class="c2-card" >

                            <header>
                                <div class="row print-head" fxLayoutAlign="center center">
                                    <div class="col-md-6" style="text-align: left">
                                        <h5 class="font-weight-bold ">VIZZA INSURANCE BROKING SERVICES PVT. LTD.</h5>
                                        <h5>IRDA Licence No: IRDA /DB 543 /13</h5>
                                    </div>
                                    <div class="col-md-6 print-title" style="border-left: 2px solid #006738;"> <img src="assets/img/vizza-logoNewpos.png" alt=""></div>
                                </div>
                            </header>
                            <section class="row mt-5 c-profile" fxLayoutAlign="center center" >
                                <div class="col-md-3 profile-pic">
                                    <img *ngIf="posData.pos_profile_img != ''" style="width: 200px; height: 200px" matListAvatar src="{{webhost + '/' + posData.pos_profile_img}}">
                                    <img *ngIf="posData.pos_profile_img == ''" style="width: 200px; height: 200px" matListAvatar src="assets/img/users/default-user.jpg" alt="">
                                </div>
                                <div class="col-md-9 off-pos">
                                    <h1 class="c-font">Certification</h1>
                                    <h5 class="w-100 text-right"><span>OF ONLINE POS’P TRAINING</span></h5>
                                </div>
                            </section>
                            <section class="row mt-5">
                                <div class="c-content w-100">
                                    <h5 class="c-title"><span>This is to certificaty that</span></h5>
                                    <p><span *ngIf="posData.pos_gender == 'male'">Mr.</span><span *ngIf="posData.pos_gender == 'female'">Ms.</span> <strong>{{posData.pos_firstname | titlecase}} {{posData.pos_lastname | titlecase}} </strong> has attended 15 hours of Online
                                        Training Programme for the Point of Sales Person, as per the Regulation, 2017 of
                                        Insurance Regulatory and Development Authority.</p>
                                    <p>The Said Candidate, had registered for the online training program on
                                        {{startTrainingDate | date: 'dd-MMM-y'}} and completed the 15 hours of POS’P Online Training on
                                        {{posData.training_completed_date | date:'dd-MMM-yy'}}</p>
                                </div>
                            </section>
                            <section class="row mt-5">
                                <div class="col-md-12">
                                    <table>
                                        <tr>
                                            <td>Place</td>
                                            <td>Chennai</td>
                                        </tr>
                                        <tr>
                                            <td>Date</td>
                                            <td>{{posData.training_completed_date | date:'dd-MMM-yy' }}</td>
                                        </tr>
                                        <tr>
                                            <td>POS’P ID</td>
                                            <td>VIZZA/POS'P/{{posData.pos_id}}</td>
                                        </tr>
                                    </table>
                                </div>
                            </section>
                            <footer class="row mt-5 print-sign">
                                <div class="col-md-12 text-center">
                                    <p><img src="assets/img/vignesh-sign.png" width="200px" alt=""></p>
                                    <p class="mb-0"><strong>T.S. VIGNESH KARTHIK</strong></p>
                                    <p class="mb-0">Head - Corporate</p>
                                    <p class="mb-0">(Authorised Signatory)</p>
                                </div>
                            </footer>
                        </mat-card>
                    </div>
                </div>
            </div>

        </mat-expansion-panel>
        <mat-expansion-panel *ngIf="posData.exam_status == 2">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Certificate of Examination
                </mat-panel-title>
            </mat-expansion-panel-header>
            <!--Examination letter-->
            <div class="certificate-bg">
                <div class="container mb-1 mt-1 w-100 text-right">
                    <button mat-raised-button class="text-right editBtn" (click)="printExamination()">Print & Download
                        <mat-icon>print</mat-icon>
                    </button>
                </div>
                <div class="container pt-7 pb-3" id="pos-examination-cirtificate">
                    <div id="examination">
                        <mat-card class="c2-card">

                            <header>
                                <div class="row print-head" fxLayoutAlign="center center">
                                    <div class="col-md-6">
                                        <h5 class="font-weight-bold">VIZZA INSURANCE BROKING SERVICES PVT. LTD.</h5>
                                        <h5>IRDA Licence No: IRDA /DB 543 /13</h5>
                                    </div>
                                    <div class="col-md-6 print-title" style="border-left: 2px solid #006738;"> <img src="assets/img/vizza-logoNewpos.png" alt=""></div>
                                </div>
                            </header>
                            <section class="row mt-5 c-profile" fxLayoutAlign="center center" >
                                <div class="col-md-3  profile-pic">
                                    <img *ngIf="posData.pos_profile_img != ''" style="width: 200px; height: 200px" matListAvatar src="{{webhost + '/' + posData.pos_profile_img}}">
                                    <img *ngIf="posData.pos_profile_img == ''" style="width: 200px; height: 200px" matListAvatar src="assets/img/users/default-user.jpg" alt="">
                                </div>
                                <div class="col-md-9">
                                    <h1 class="c-font">Certificate</h1>
                                    <h5 class="w-100 text-right"><span>Of Qualification for POS’P Examination</span></h5>
                                </div>
                            </section>
                            <section class="row mt-5">
                                <div class="c-content text-center w-100">
                                    <h5 class="c-title"><span>This is to certificaty that</span></h5>
                                    <p><span *ngIf="posData.pos_gender == 'male'">Mr.</span><span *ngIf="posData.pos_gender == 'female'">Ms.</span><strong>{{posData.pos_firstname | titlecase}} {{posData.pos_lastname | titlecase}}</strong></p>
                                    <p>passed the Point of Sales Person Examination held on</p>
                                    <p>{{posData.exam_completed_date | date:'dd-MMM-yy'}}</p>
                                    <p>and qualified under the stream of</p>
                                    <p>Point of Sales Person</p>
                                    <p>as per regulations 2017 of</p>
                                    <p>Insurance Regulatory and Development Authority</p>
                                </div>
                            </section>
                            <section class="row mt-5">
                                <div class="col-md-12">
                                    <table>
                                        <tr>
                                            <td>Place</td>
                                            <td>Chennai</td>
                                        </tr>
                                        <tr>
                                            <td>Date</td>
                                            <td>{{posData.exam_completed_date | date:'dd-MMM-yy'}}</td>
                                        </tr>
                                        <tr>
                                            <td>POS’P ID</td>
                                            <td>VIZZA/POS'P/{{posData.pos_id}}</td>
                                        </tr>
                                    </table>
                                </div>
                            </section>
                            <footer class="row mt-5 print-sign">
                                <div class="col-md-12 text-center">
                                    <p><img src="assets/img/vignesh-sign.png" width="200px" alt=""></p>
                                    <p class="mb-0"><strong>T.S. VIGNESH KARTHIK</strong></p>
                                    <p class="mb-0">Head - Corporate</p>
                                    <p class="mb-0">(Authorised Signatory)</p>
                                </div>
                            </footer>
                        </mat-card>
                    </div>
                </div>
            </div>
        </mat-expansion-panel>
        <mat-expansion-panel *ngIf="posData.pos_status == 1">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Certificate of Appointment
                </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="certificate-bg">
                <div class="container mb-1 mt-1 w-100 text-right">
                    <button mat-raised-button class="text-right editBtn" (click)="printAppointment()">Print & Download
                        <mat-icon>print</mat-icon>
                    </button>
                </div>
                <div class="container pt-7 pb-3" id="pos-cirtificate">
                    <div id="appointment">
                        <mat-card class="c-card" >

                            <header>
                                <div class="row" fxLayoutAlign="center center">
                                    <div class="col-md-6">
                                        <img src="assets/img/vizza-logoNewpos.png" alt="">
                                    </div>
                                    <div class="col-md-6 text-right">
                                        <ul class="c-address">
                                            <li>044 - 4269 1341 / 4204 4181</li>
                                            <li>po_vizzainsbroker@vizzafin.com</li>
                                            <li>www.vizzainsure.com</li>
                                            <li>Direct Brokers ( Life and General Insurance)</li>
                                            <li>IRDA Licence No: IRDA /DB 543 /13 Valid Upto 08.10.2019</li>
                                        </ul>
                                    </div>
                                </div>

                            </header>
                            <section class="row">
                                <div class="col-md-12">
                                    <h5 class="text-center font-weight-bold mt-2 print-title">Appointment of Registered POS’P</h5>
                                    <h4 class="text-center font-weight-normal print-title">for VIZZA INSURANCE BROKING SERVICES PVT. LTD.</h4>
                                </div>
                                <div class="col-md-12 mt-3">
                                    <div class="row mt-3">
                                        <div class="col-md-6 print-address">
                                            <table>
                                                <tr>
                                                    <td>Date</td>
                                                    <td>{{posData.appointment_date | date:'dd-MMM-yy'}}</td>
                                                </tr>
                                                <tr>
                                                    <td>POS’P ID</td>
                                                    <td>VIZZA/POS'P/{{posData.pos_id}}</td>
                                                </tr>
                                                <tr>
                                                    <td><span *ngIf="posData.pos_gender == 'male'">Mr.</span><span *ngIf="posData.pos_gender == 'female'">Ms.</span></td>
                                                    <td>{{posData.pos_firstname | titlecase}} {{posData.pos_lastname | titlecase}} </td>
                                                </tr>
                                                <tr>
                                                    <td>Address</td>
                                                    <td>
                                                        <p class="text-capitalize" >
                                                            <span>{{posData.pos_address1}}</span>
                                                            <span *ngIf="posData.pos_address2 != ''">,</span>
                                                            <span *ngIf="posData.pos_address2 != ''">{{posData.pos_address2}}</span>
                                                            <span *ngIf="posData.pos_cityid != ''">,</span>
                                                        </p>

                                                        <p *ngIf="posData.pos_cityid != ''" >{{posData.pos_cityid}}
                                                            <span *ngIf="posData.pos_cityid != null">-</span>
                                                            {{posData.pos_postalcode}}
                                                            <span *ngIf="posData.pos_stateid != ''">,</span>
                                                        </p>
                                                        <p *ngIf="posData.pos_stateid != ''" >{{posData.pos_stateid}}
                                                            <span *ngIf="posData.pos_countryid != ''">,</span>
                                                        </p>
                                                        <p *ngIf="posData.pos_countryid != ''">{{posData.pos_countryid}}</p>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                        <div class="col-md-6 text-right view-profile print-profile">
                                            <img *ngIf="posData.pos_profile_img != ''"  style="width: 200px; height: 200px" matListAvatar src="{{webhost + '/' + posData.pos_profile_img}}">
                                            <img *ngIf="posData.pos_profile_img == ''"  style="width: 200px; height: 200px" matListAvatar src="assets/img/users/default-user.jpg" alt="">
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12 mt-5 c-content">
                                    <p>This is in reference to the application made by you, for enrolling yourself to act as Point of Sales
                                        Person.</p>
                                    <p>This is to confirm that you have successfully completed the prescribed training and have also
                                        passed the examination specified for Point of Sales examination conducted by
                                        <strong>Vizza Insurance Broking Services Private Limited</strong> under the Guidelines on Point of Sales
                                        Person for Non-life and Health lnsurers. Your personal details are as under:</p>
                                    <p><strong>Aadhaar No:</strong></p>
                                    <p>This letter authorizes you to act as Point of Sales Person for (name of the insurer/ insurance
                                        intermediary) to market products categorized and identified under the Guidelines only.</p>
                                    <p>ln case you wish to work for another company, you are required to obtain a fresh letter from the
                                        new insurer/ insurance intermediary in order to act as Point of Sales Person for that entity.</p>
                                </div>

                                <div class="col-md-12 text-left print-sign">
                                    <P>Yours truly,</P>
                                    <p><img src="assets/img/vignesh-sign.png" width="200px" alt=""></p>
                                    <p class="mb-0"><strong>T.S. VIGNESH KARTHIK</strong></p>
                                    <p class="mb-0">Head - Corporate</p>
                                    <p class="mb-0">(Authorised Signatory)</p>
                                </div>
                            </section>
                            <footer class="mt-3 pt-3 print-footer">
                                <h5 class="text-center">VIZZA INSURANCE BROKING SERVICES PVT. LTD.</h5>
                                <p class="text-center">Ground Floor, Flat No. G-A, Sridev Apartment, No.65, CIT Nagar First Main Road, Chennai - 600 035</p>
                            </footer>
                        </mat-card>
                    </div>
                </div>
            </div>
        </mat-expansion-panel>



        <mat-expansion-panel  [expanded]="step === 0" *ngIf="posData.exam_status == 2 && posData.pos_status != 1">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Agreement Details
                </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="row">
                <div class="col-md-4 insurance-renewal">

                    <!--<div>-->
                        <!--<h2>Hello {{name}}</h2>-->
                        <!--<input type="file" multiple (change)="onChange($event, showFileNames)" />-->
                        <!--<input #showFileNames />-->
                    <!--</div>-->



                    <!--<input type="file" ng2FileSelect [uploader]="uploader" multiple  >-->

                    <!--<image-upload (uploadFinished)="readUrl($event)" >-->
                    <!--</image-upload>-->
                    <!--<div class="custom-file">-->
                        <!--<input type="file" class="custom-file-input" multiple (change)="readUrl($event, showFileNames)"  accept=".pdf,.doc,.docx" aria-describedby="inputGroupFileAddon01">-->
                        <!--<label class="custom-file-label">Letter</label>-->
                    <!--</div>-->
                    <div>
                        <label class="btn-bs-file btn ">
                            <i class="fa fa-cloud-download" aria-hidden="true"></i> Upload Agreement Copy
                            <input type="file" multiple (change)="readUrl($event)"  />
                        </label>
                    </div>

                    <div *ngFor="let names of fileDetails" class="mb-2">
                        <a><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAHWSURBVFhH7ZbBS8JwFMf93yzxEAleBAvBU0fpIIjg0avmoS6K4qGzJ710DRSHFmFaaVorkPAiNkVd26v32NYgA2FvGrEPPNi+v7ff74O/n2MuB7uout3AVTWv91Kblg+cmAOcpxkIqOySnILLRoNfklMQ7u/5JbkF2SXtEGSVtEuQTdJOQRZJuwWxLElyCq5T2rLrgw9tCkfQKo6gVVgFX8/PoX9yAoPTUxhdXACoKuVioQD9dBrEXA7e223KkLdKBR5TKaMWo5E28g2rYH1/H+p7e3AdDtPEL8Ui5Xgt+P3QDAahurMDw1KJ8m4ySWPNgwNoHh7CTBQpN8Mu2IpEQFUUuAqFSAjB/k48Dsp8TiKCzweqLBuCH5JEfauwRRC5OTqiXwbRBZF+JkP30sPDdgRRCs8T9jydnVGO17ogbjvejwXhxxZ/TKfUYwbHtWXXBx9aBQrWPB46g2I+D8piQblZEKXxftJqGYKYPWezRr8ZdkF9i82YBdvRKP1R5Mlku2fQDPbfHh/DW7kMtd1duEskKP9Tgnp1YjFYjseUb1xQ6vVWvstmgwFI3S7ImpjOfDgE6evbD19Lv8EqaAeOoFUcQas4glZxBK3yfwU3WdqyDsy4XJ9IgqXpXHIZ/QAAAABJRU5ErkJggg==">{{names.name}}</a>
                    </div>
                    <!--<pdf-viewer [src]="pdfSrc"-->
                                <!--[render-text]="true"-->
                                <!--style="display: block;"-->
                    <!--&gt;</pdf-viewer>-->

                </div>
                <div class="col-md-4">
                    <mat-form-field class="w-100">
                        <input matInput [matDatepicker]="birthday" placeholder="Date of Appointment(DD/MM/YY)"
                               [(ngModel)]="appointmentdate" (dateInput)="addEvent($event)"
                               (dateChange)="addEvent($event)" required
                               maxlength="10">
                        <mat-datepicker-toggle matSuffix [for]="birthday"></mat-datepicker-toggle>
                        <mat-datepicker touchUi #birthday></mat-datepicker>
                        <mat-error *ngIf="doaError != ''">Invalid date</mat-error>
                    </mat-form-field>
                </div>
                <div class="col-md-4">
                    <!--<mat-form-field class="w-100">-->
                        <!--<mat-select placeholder="Manager List" [(ngModel)]="posManager" >-->
                            <!--<mat-option *ngFor="let list of allManagerLists" [value]="list.manager_id">-->
                                <!--{{list.manager_name}}-->
                            <!--</mat-option>-->
                        <!--</mat-select>-->
                    <!--</mat-form-field>-->
                </div>
            </div>

        </mat-expansion-panel>



        <!--<tr *ngFor="let item of uploader.queue">-->
            <!--<td><strong>{{ item?.file?.name }}</strong></td>-->
            <!--<td *ngIf="uploader.isHTML5" nowrap>{{ item?.file?.size/1024/1024 | number:'.2' }} MB</td>-->
            <!--<td *ngIf="uploader.isHTML5">-->
                <!--<div class="progress" style="margin-bottom: 0;">-->
                    <!--<div class="progress-bar" role="progressbar" [ngStyle]="{ 'width': item.progress + '%' }"></div>-->
                <!--</div>-->
            <!--</td>-->
        <!--</tr>-->



        <mat-expansion-panel  *ngIf="posData.pos_status == 1">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Agreement Letter
                </mat-panel-title>
            </mat-expansion-panel-header>
            <div  class="flex-p">
                <button mat-button class="secondary-bg-color float-right" (click)="openPdf(webhost +'/' + posData.aggrement_file_path)">Download</button>

                <pdf-viewer src="{{webhost + '/' + posData.aggrement_file_path}}"
                            [render-text]="true"
                            style="display: block;"
                            (click)="viewImage(posData.aggrement_file_path, 'Agreement Letter')" ></pdf-viewer>
            </div>

        </mat-expansion-panel><br>




    </mat-accordion>

</div>

<div class="container-fluid ">
    <mat-card class="doctordetail mb-3">
        <div class="row" *ngIf="roleId == '1'">

            <div class="col-md-12">
                <!--<img src="assets/img/users/default-user.jpg" class="transition-2 rounded-circle">-->
                <img class="transition-2 rounded-circle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAOySURBVFhH7ZddSFNhGMdXFnRlFHTRFxJiEVFGA0udO9s5cy3n6my5ILKki7yowMqLgqBuo4+bLvoCCyr6VhbnnCVmCVFRmSCUg+iiKCIR6yLUocv36X2O78aZvRuzzlkE/uEHr+/7PP/nv/fsDLRNa1rTslhut7uCcp4SowyJoggIXXexkn8jn89XSIPcSAbiIUlSgyAIc1hL/uTxeObSAN2TA2XgB+VoOBwuYO3Wiw7MenM86CO/RVtnTDhYKPrYXLwAuUBD7mI21okOap082Ijsl+BUkxdenauB3ks1ENgkpc4kyd3DbKyR3W6fLYniiDEQYgyVUGsBHgRS9LX4jSGJ1+udz+zMF30j1xpDnT7ghe7zv4eajDEkfcx2Zme+qLkXh1w95oOfGj9MJpQTvmRAL7MzX9R8Ow7pPLOJGyIb2MMCbmd25qtaFOr/NiB6MDtzBXdsBd8vr3zaVC+kBfx0xQ1jij8tDIJ7n66Iqb+x5+BOF3xrWfEEjttmMlvzRK6vLIKby2Hs7gb4emvipRiJ1MCRjQvh5ckNqSBJcA/P4pGJD4M9iTYHoAe5WbyU2Zon/NTkRsljaEsPg7eUyw3qtJWD7mHFDaLwMRPN05w2dAoQrfoQejA7a0Q6/CW84blAonIxs7FWJFr7jBcgGyQaeMLarRdRN6+nAxO8IDzIg9pR0u4vY+35EUQDjXTwOC+QEawhmn8Pa8uvSFvZflCrucF0FA+Q1rJ9rDz/Ihdsq+FiAcC1JQD31gFE6O8cgmvco2dYw8rzLz3gBRtk458FdIfUoobdLc3kccMo3F6l31YqGK7pHp5hDdayNuslbFFczqDaKQRVIgQ1ePE09hFQiSEYfnRVB9coPMMaQdbGnbLWXhVSnczGfDn86jynrN7VBxrYsbfrOYYZ7u2FWGWlDq5ReJZeTz+UrF4v80ULma05coaUEmr+Ln3YBPQ2EwOD8X4M1VderoNr3MMzbo+svq0K3F/G7P9OFZsji6jhZ96gJMdO9nThjcUcDh0U7vFqk9Dw7x110QVszJ8Lvzu8AUZcIa0/PjCYeFNaCgiucY9Xa4SGVNiYPxN9rD6eMY/bZzveJgPimlfDoyqoiWzc1OUMahGeKY/wtnsfkgFxzavJQCsbNzXZG1/Ppt+9OMcwIw8dgXGEd5YRWRsRhK5ZbGzucgeVUq5hFg6Hz31BeGfZcGyNrmFjc5crpGzkmWXDFVSHEd5ZNqrk6NT/VxbrlMX0JQnnA5zFxv5vstl+AS4pn97z5E3hAAAAAElFTkSuQmCC">

                <mat-form-field class="w-50">
                    <mat-select placeholder="Assign to Manager" [(ngModel)]="posManager" >
                        <mat-option *ngFor="let list of allManagerLists" [value]="list.manager_id">
                            {{list.manager_name}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </div>
        <div class="row" *ngIf="roleId == '1'">
            <div class="col-md-12">
                <div mat-dialog-content >
                    <mat-form-field class="w-100">
                        <textarea matInput placeholder="Notify via mailer" rows="4" [(ngModel)]="notes"></textarea>
                    </mat-form-field>
                </div>
                <div mat-dialog-content >
                    <mat-form-field class="w-100">
                        <textarea matInput placeholder="Internal comments" rows="4" [(ngModel)]="comments"></textarea>
                    </mat-form-field>
                </div>
            </div>
        </div>
        <div class="col-md-12 mt-4" *ngIf="roleId == '1'">
            <div class="row">
                <div class="col-md-6 text-left">
                </div>
                <div class="col-md-6 text-right">
                    <button mat-raised-button color="warn"  (click)=" rejectConfirm()">
                        Reject
                    </button>
                    <button mat-raised-button color="primary" *ngIf="posstatus != 1 && !isAlreadyAgent" style="background-color: #2ea04c!important;" (click)="verificationSubmit()">Submit</button>
                </div>
            </div><br>
        </div>
    </mat-card>
</div>

<div class="row">
    <div class="col-md-6">
        <div class="row mb-3" >
            <div class="col-md-12" >
                <div fxLayout="column">
                    <div class="flex-p">
                        <ngx-datatable
                                class="material"
                                [rows]="rows"
                                [columnMode]="'force'"
                                [headerHeight]="50"
                                [footerHeight]="50"
                                [rowHeight]="'auto'"
                                [externalPaging]="true"
                                [count]="notesListCount"
                                >

                            <ngx-datatable-column name="S.No">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
                                    {{rowIndex +1}}
                                </ng-template>
                            </ngx-datatable-column>
                            <ngx-datatable-column name="Notify">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row" let-value="value">
                                    {{value}}
                                </ng-template>
                            </ngx-datatable-column>
                        </ngx-datatable>

                    </div>
                </div>

            </div>
        </div>

    </div>
    <div class="col-md-6">
        <div class="row mb-3" >
            <div class="col-md-12" >
                <div fxLayout="column">
                    <div class="flex-p">
                        <ngx-datatable
                                class="material"
                                [rows]="rows1"
                                [columnMode]="'force'"
                                [headerHeight]="50"
                                [footerHeight]="50"
                                [rowHeight]="'auto'"
                                [externalPaging]="true"
                                [count]="commentsListCount"
                                >

                            <ngx-datatable-column name="S.No">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
                                    {{rowIndex +1}}
                                </ng-template>
                            </ngx-datatable-column>
                            <ngx-datatable-column name="Comments">
                                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row" let-value="value">
                                    {{value}}
                                </ng-template>
                            </ngx-datatable-column>
                        </ngx-datatable>

                    </div>
                </div>

            </div>
        </div>

    </div>

</div>
